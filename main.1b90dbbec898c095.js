var iF=Object.defineProperty,sF=Object.defineProperties,oF=Object.getOwnPropertyDescriptors,JO=Object.getOwnPropertySymbols,aF=Object.prototype.hasOwnProperty,uF=Object.prototype.propertyIsEnumerable,XO=(Ze,we,k)=>we in Ze?iF(Ze,we,{enumerable:!0,configurable:!0,writable:!0,value:k}):Ze[we]=k,Qe=(Ze,we)=>{for(var k in we||(we={}))aF.call(we,k)&&XO(Ze,k,we[k]);if(JO)for(var k of JO(we))uF.call(we,k)&&XO(Ze,k,we[k]);return Ze},hr=(Ze,we)=>sF(Ze,oF(we));(self.webpackChunkusuarios=self.webpackChunkusuarios||[]).push([[179],{7905:(Ze,we,k)=>{"use strict";k.d(we,{hO:()=>je,xv:()=>he,Dh:()=>oe,GT:()=>me,cc:()=>De,on:()=>H,pX:()=>se});var p=k(3668),J=k(7892),F=k(7233);Ze=k.hmd(Ze);const de=["ngOnDestroy"],se=(K,ce,Te,ye={})=>new Proxy(K,{get:(qe,Me)=>Te.runOutsideAngular(()=>{var ze;if(K[Me])return(null===(ze=null==ye?void 0:ye.spy)||void 0===ze?void 0:ze.get)&&ye.spy.get(Me,K[Me]),K[Me];if(de.indexOf(Me)>-1)return()=>{};const Ke=ce.toPromise().then(ct=>{const ee=ct&&ct[Me];return"function"==typeof ee?ee.bind(ct):ee&&ee.then?ee.then(fe=>Te.run(()=>fe)):Te.run(()=>ee)});return new Proxy(()=>{},{get:(ct,ee)=>Ke[ee],apply:(ct,ee,fe)=>Ke.then(Ce=>{var be;const Fe=Ce&&Ce(...fe);return(null===(be=null==ye?void 0:ye.spy)||void 0===be?void 0:be.apply)&&ye.spy.apply(Me,fe,Fe),Fe})})})}),me=(K,ce)=>{ce.forEach(Te=>{Object.getOwnPropertyNames(Te.prototype||Te).forEach(ye=>{Object.defineProperty(K.prototype,ye,Object.getOwnPropertyDescriptor(Te.prototype||Te,ye))})})};class ie{constructor(ce){return ce}}const oe=new p.OlP("angularfire2.app.options"),he=new p.OlP("angularfire2.app.name");function H(K,ce,Te){const qe="object"==typeof Te&&Te||{};qe.name=qe.name||"string"==typeof Te&&Te||"[DEFAULT]";const ze=J.Z.apps.filter(Ke=>Ke&&Ke.name===qe.name)[0]||ce.runOutsideAngular(()=>J.Z.initializeApp(K,qe));try{JSON.stringify(K)!==JSON.stringify(ze.options)&&$("error",`${ze.name} Firebase App already initialized with different options${Ze.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ke){}return new ie(ze)}const $=(K,...ce)=>{(0,p.X6Q)()&&"undefined"!=typeof console&&console[K](...ce)},Q={provide:ie,useFactory:H,deps:[oe,p.R0b,[new p.FiY,he]]};let je=(()=>{class K{constructor(Te){J.Z.registerVersion("angularfire",F.q4.full,"core"),J.Z.registerVersion("angularfire",F.q4.full,"app-compat"),J.Z.registerVersion("angular",p.q4F.full,Te.toString())}static initializeApp(Te,ye){return{ngModule:K,providers:[{provide:oe,useValue:Te},{provide:he,useValue:ye}]}}}return K.\u0275fac=function(Te){return new(Te||K)(p.LFG(p.Lbi))},K.\u0275mod=p.oAB({type:K}),K.\u0275inj=p.cJS({providers:[Q]}),K})();function De(K,ce,Te,ye,qe){const[,Me,ze]=globalThis.\u0275AngularfireInstanceCache.find(Ke=>Ke[0]===K)||[];if(Me)return function(K,ce){try{return K.toString()===ce.toString()}catch(Te){return K===ce}}(qe,ze)||(le("error",`${ce} was already initialized on the ${Te} Firebase App with different settings.${Be?" You may need to reload as Firebase is not HMR aware.":""}`),le("warn",{is:qe,was:ze})),Me;{const Ke=ye();return globalThis.\u0275AngularfireInstanceCache.push([K,Ke,qe]),Ke}}const Be=!!Ze.hot,le=(K,...ce)=>{(0,p.X6Q)()&&"undefined"!=typeof console&&console[K](...ce)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},7233:(Ze,we,k)=>{"use strict";k.d(we,{q4:()=>ls,iC:()=>Ds,HU:()=>Fp,vb:()=>Zm,JM:()=>So});var p=k(3668),J=k(7713),F=k(8239),de=k(1572),se=k(4213),me=k(1177),ie=k(3855),oe=k(4995);const he="@firebase/installations",H="0.5.4",Q=`w:${H}`,je="FIS_v2",ce=new se.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Te(I){return I instanceof se.ZR&&I.code.includes("request-failed")}function ye({projectId:I}){return`https://firebaseinstallations.googleapis.com/v1/projects/${I}/installations`}function qe(I){return{token:I.token,requestStatus:2,expiresIn:Ce(I.expiresIn),creationTime:Date.now()}}function Me(I,D){return ze.apply(this,arguments)}function ze(){return(ze=(0,F.Z)(function*(I,D){const L=(yield D.json()).error;return ce.create("request-failed",{requestName:I,serverCode:L.code,serverMessage:L.message,serverStatus:L.status})})).apply(this,arguments)}function Ke({apiKey:I}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I})}function ct(I,{refreshToken:D}){const M=Ke(I);return M.append("Authorization",function(I){return`${je} ${I}`}(D)),M}function ee(I){return fe.apply(this,arguments)}function fe(){return(fe=(0,F.Z)(function*(I){const D=yield I();return D.status>=500&&D.status<600?I():D})).apply(this,arguments)}function Ce(I){return Number(I.replace("s","000"))}function Fe(I,D){return ge.apply(this,arguments)}function ge(){return(ge=(0,F.Z)(function*(I,{fid:D}){const M=ye(I),ue={method:"POST",headers:Ke(I),body:JSON.stringify({fid:D,authVersion:je,appId:I.appId,sdkVersion:Q})},Se=yield ee(()=>fetch(M,ue));if(Se.ok){const Ve=yield Se.json();return{fid:Ve.fid||D,registrationStatus:2,refreshToken:Ve.refreshToken,authToken:qe(Ve.authToken)}}throw yield Me("Create Installation",Se)})).apply(this,arguments)}function Tt(I){return new Promise(D=>{setTimeout(D,I)})}const er=/^[cdef][\w-]{21}$/;function _t(){try{const I=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(I),I[0]=112+I[0]%16;const M=function(I){return function(I){return btoa(String.fromCharCode(...I)).replace(/\+/g,"-").replace(/\//g,"_")}(I).substr(0,22)}(I);return er.test(M)?M:""}catch(I){return""}}function dn(I){return`${I.appName}!${I.appId}`}const xr=new Map;function zr(I,D){const M=dn(I);bn(M,D),function(I,D){const M=(!$t&&"BroadcastChannel"in self&&($t=new BroadcastChannel("[Firebase] FID Change"),$t.onmessage=I=>{bn(I.data.key,I.data.fid)}),$t);M&&M.postMessage({key:I,fid:D}),0===xr.size&&$t&&($t.close(),$t=null)}(M,D)}function bn(I,D){const M=xr.get(I);if(M)for(const L of M)L(D)}let $t=null;const Re="firebase-installations-store";let ar=null;function Gn(){return ar||(ar=(0,oe.openDb)("firebase-installations-database",1,I=>{0===I.oldVersion&&I.createObjectStore(Re)})),ar}function tt(I,D){return zt.apply(this,arguments)}function zt(){return(zt=(0,F.Z)(function*(I,D){const M=dn(I),Z=(yield Gn()).transaction(Re,"readwrite"),ue=Z.objectStore(Re),Se=yield ue.get(M);return yield ue.put(D,M),yield Z.complete,(!Se||Se.fid!==D.fid)&&zr(I,D.fid),D})).apply(this,arguments)}function Mi(I){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,F.Z)(function*(I){const D=dn(I),L=(yield Gn()).transaction(Re,"readwrite");yield L.objectStore(Re).delete(D),yield L.complete})).apply(this,arguments)}function lt(I,D){return ft.apply(this,arguments)}function ft(){return(ft=(0,F.Z)(function*(I,D){const M=dn(I),Z=(yield Gn()).transaction(Re,"readwrite"),ue=Z.objectStore(Re),Se=yield ue.get(M),Ve=D(Se);return void 0===Ve?yield ue.delete(M):yield ue.put(Ve,M),yield Z.complete,Ve&&(!Se||Se.fid!==Ve.fid)&&zr(I,Ve.fid),Ve})).apply(this,arguments)}function kt(I){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,F.Z)(function*(I){let D;const M=yield lt(I,L=>{const Z=Kr(L),ue=Jt(I,Z);return D=ue.registrationPromise,ue.installationEntry});return""===M.fid?{installationEntry:yield D}:{installationEntry:M,registrationPromise:D}})).apply(this,arguments)}function Kr(I){return Et(I||{fid:_t(),registrationStatus:0})}function Jt(I,D){if(0===D.registrationStatus){if(!navigator.onLine)return{installationEntry:D,registrationPromise:Promise.reject(ce.create("app-offline"))};const M={fid:D.fid,registrationStatus:1,registrationTime:Date.now()},L=function(I,D){return ut.apply(this,arguments)}(I,M);return{installationEntry:M,registrationPromise:L}}return 1===D.registrationStatus?{installationEntry:D,registrationPromise:vc(I)}:{installationEntry:D}}function ut(){return(ut=(0,F.Z)(function*(I,D){try{return tt(I,yield Fe(I,D))}catch(M){throw Te(M)&&409===M.customData.serverCode?yield Mi(I):yield tt(I,{fid:D.fid,registrationStatus:0}),M}})).apply(this,arguments)}function vc(I){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,F.Z)(function*(I){let D=yield en(I);for(;1===D.registrationStatus;)yield Tt(100),D=yield en(I);if(0===D.registrationStatus){const{installationEntry:M,registrationPromise:L}=yield kt(I);return L||M}return D})).apply(this,arguments)}function en(I){return lt(I,D=>{if(!D)throw ce.create("installation-not-found");return Et(D)})}function Et(I){return function(I){return 1===I.registrationStatus&&I.registrationTime+1e4<Date.now()}(I)?{fid:I.fid,registrationStatus:0}:I}function Ec(I,D){return G.apply(this,arguments)}function G(){return(G=(0,F.Z)(function*({appConfig:I,platformLoggerProvider:D},M){const L=V(I,M),Z=ct(I,M),ue=D.getImmediate({optional:!0});ue&&Z.append("x-firebase-client",ue.getPlatformInfoString());const Ve={method:"POST",headers:Z,body:JSON.stringify({installation:{sdkVersion:Q}})},ke=yield ee(()=>fetch(L,Ve));if(ke.ok)return qe(yield ke.json());throw yield Me("Generate Auth Token",ke)})).apply(this,arguments)}function V(I,{fid:D}){return`${ye(I)}/${D}/authTokens:generate`}function z(I){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,F.Z)(function*(I,D=!1){let M;const L=yield lt(I.appConfig,ue=>{if(!Dn(ue))throw ce.create("not-registered");const Se=ue.authToken;if(!D&&Zr(Se))return ue;if(1===Se.requestStatus)return M=te(I,D),ue;{if(!navigator.onLine)throw ce.create("app-offline");const Ve=pr(ue);return M=tn(I,Ve),Ve}});return M?yield M:L.authToken})).apply(this,arguments)}function te(I,D){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,F.Z)(function*(I,D){let M=yield dt(I.appConfig);for(;1===M.authToken.requestStatus;)yield Tt(100),M=yield dt(I.appConfig);const L=M.authToken;return 0===L.requestStatus?z(I,D):L})).apply(this,arguments)}function dt(I){return lt(I,D=>{if(!Dn(D))throw ce.create("not-registered");return function(I){return 1===I.requestStatus&&I.requestTime+1e4<Date.now()}(D.authToken)?Object.assign(Object.assign({},D),{authToken:{requestStatus:0}}):D})}function tn(I,D){return fr.apply(this,arguments)}function fr(){return(fr=(0,F.Z)(function*(I,D){try{const M=yield Ec(I,D),L=Object.assign(Object.assign({},D),{authToken:M});return yield tt(I.appConfig,L),M}catch(M){if(!Te(M)||401!==M.customData.serverCode&&404!==M.customData.serverCode){const L=Object.assign(Object.assign({},D),{authToken:{requestStatus:0}});yield tt(I.appConfig,L)}else yield Mi(I.appConfig);throw M}})).apply(this,arguments)}function Dn(I){return void 0!==I&&2===I.registrationStatus}function Zr(I){return 2===I.requestStatus&&!function(I){const D=Date.now();return D<I.creationTime||I.creationTime+I.expiresIn<D+36e5}(I)}function pr(I){const D={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},I),{authToken:D})}function ja(){return(ja=(0,F.Z)(function*(I){const D=I,{installationEntry:M,registrationPromise:L}=yield kt(D.appConfig);return L?L.catch(console.error):z(D).catch(console.error),M.fid})).apply(this,arguments)}function fo(){return(fo=(0,F.Z)(function*(I,D=!1){const M=I;return yield wc(M.appConfig),(yield z(M,D)).token})).apply(this,arguments)}function wc(I){return hn.apply(this,arguments)}function hn(){return(hn=(0,F.Z)(function*(I){const{registrationPromise:D}=yield kt(I);D&&(yield D)})).apply(this,arguments)}function Oi(I){return ce.create("missing-app-config-values",{valueName:I})}const qn="installations";(0,de._registerComponent)(new me.wA(qn,I=>{const D=I.getProvider("app").getImmediate(),M=function(I){if(!I||!I.options)throw Oi("App Configuration");if(!I.name)throw Oi("App Name");const D=["projectId","apiKey","appId"];for(const M of D)if(!I.options[M])throw Oi(M);return{appName:I.name,projectId:I.options.projectId,apiKey:I.options.apiKey,appId:I.options.appId}}(D);return{app:D,appConfig:M,platformLoggerProvider:(0,de._getProvider)(D,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,de._registerComponent)(new me.wA("installations-internal",I=>{const D=I.getProvider("app").getImmediate(),M=(0,de._getProvider)(D,qn).getImmediate();return{getId:()=>function(I){return ja.apply(this,arguments)}(M),getToken:Z=>function(I){return fo.apply(this,arguments)}(M,Z)}},"PRIVATE")),(0,de.registerVersion)(he,H),(0,de.registerVersion)(he,H,"esm2017");const mt="@firebase/remote-config",rn=new se.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Tp{constructor(D,M,L,Z){this.client=D,this.storage=M,this.storageCache=L,this.logger=Z}isCachedDataFresh(D,M){if(!M)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const L=Date.now()-M,Z=L<=D;return this.logger.debug(`Config fetch cache check. Cache age millis: ${L}. Cache max age millis (minimumFetchIntervalMillis setting): ${D}. Is cache hit: ${Z}.`),Z}fetch(D){var M=this;return(0,F.Z)(function*(){const[L,Z]=yield Promise.all([M.storage.getLastSuccessfulFetchTimestampMillis(),M.storage.getLastSuccessfulFetchResponse()]);if(Z&&M.isCachedDataFresh(D.cacheMaxAgeMillis,L))return Z;D.eTag=Z&&Z.eTag;const ue=yield M.client.fetch(D),Se=[M.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ue.status&&Se.push(M.storage.setLastSuccessfulFetchResponse(ue)),yield Promise.all(Se),ue})()}}function Fm(I=navigator){return I.languages&&I.languages[0]||I.language}class Fi{constructor(D,M,L,Z,ue,Se){this.firebaseInstallations=D,this.sdkVersion=M,this.namespace=L,this.projectId=Z,this.apiKey=ue,this.appId=Se}fetch(D){var M=this;return(0,F.Z)(function*(){const[L,Z]=yield Promise.all([M.firebaseInstallations.getId(),M.firebaseInstallations.getToken()]),Se=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${M.projectId}/namespaces/${M.namespace}:fetch?key=${M.apiKey}`,Ve={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":D.eTag||"*"},ke={sdk_version:M.sdkVersion,app_instance_id:L,app_instance_id_token:Z,app_id:M.appId,language_code:Fm()},Ht={method:"POST",headers:Ve,body:JSON.stringify(ke)},ln=fetch(Se,Ht),Fn=new Promise((Kn,vi)=>{D.signal.addEventListener(()=>{const Tr=new Error("The operation was aborted.");Tr.name="AbortError",vi(Tr)})});let Wn;try{yield Promise.race([ln,Fn]),Wn=yield ln}catch(Kn){let vi="fetch-client-network";throw"AbortError"===Kn.name&&(vi="fetch-timeout"),rn.create(vi,{originalErrorMessage:Kn.message})}let cr=Wn.status;const Zs=Wn.headers.get("ETag")||void 0;let ma,qi;if(200===Wn.status){let Kn;try{Kn=yield Wn.json()}catch(vi){throw rn.create("fetch-client-parse",{originalErrorMessage:vi.message})}ma=Kn.entries,qi=Kn.state}if("INSTANCE_STATE_UNSPECIFIED"===qi?cr=500:"NO_CHANGE"===qi?cr=304:("NO_TEMPLATE"===qi||"EMPTY_CONFIG"===qi)&&(ma={}),304!==cr&&200!==cr)throw rn.create("fetch-status",{httpStatus:cr});return{status:cr,eTag:Zs,config:ma}})()}}class vh{constructor(D,M){this.client=D,this.storage=M}fetch(D){var M=this;return(0,F.Z)(function*(){const L=(yield M.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return M.attemptFetch(D,L)})()}attemptFetch(D,{throttleEndTimeMillis:M,backoffCount:L}){var Z=this;return(0,F.Z)(function*(){yield function(I,D){return new Promise((M,L)=>{const Z=Math.max(D-Date.now(),0),ue=setTimeout(M,Z);I.addEventListener(()=>{clearTimeout(ue),L(rn.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(D.signal,M);try{const ue=yield Z.client.fetch(D);return yield Z.storage.deleteThrottleMetadata(),ue}catch(ue){if(!function(I){if(!(I instanceof se.ZR&&I.customData))return!1;const D=Number(I.customData.httpStatus);return 429===D||500===D||503===D||504===D}(ue))throw ue;const Se={throttleEndTimeMillis:Date.now()+(0,se.$s)(L),backoffCount:L+1};return yield Z.storage.setThrottleMetadata(Se),Z.attemptFetch(D,Se)}})()}}class Lm{constructor(D,M,L,Z,ue){this.app=D,this._client=M,this._storageCache=L,this._storage=Z,this._logger=ue,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function za(I,D){const M=I.target.error||void 0;return rn.create(D,{originalErrorMessage:M&&M.message})}const ta="app_namespace_store";class Vm{constructor(D,M,L,Z=function(){return new Promise((I,D)=>{try{const M=indexedDB.open("firebase_remote_config",1);M.onerror=L=>{D(za(L,"storage-open"))},M.onsuccess=L=>{I(L.target.result)},M.onupgradeneeded=L=>{0===L.oldVersion&&L.target.result.createObjectStore(ta,{keyPath:"compositeKey"})}}catch(M){D(rn.create("storage-open",{originalErrorMessage:M}))}})}()){this.appId=D,this.appName=M,this.namespace=L,this.openDbPromise=Z}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(D){return this.set("last_fetch_status",D)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(D){return this.set("last_successful_fetch_timestamp_millis",D)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(D){return this.set("last_successful_fetch_response",D)}getActiveConfig(){return this.get("active_config")}setActiveConfig(D){return this.set("active_config",D)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(D){return this.set("active_config_etag",D)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(D){return this.set("throttle_metadata",D)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(D){var M=this;return(0,F.Z)(function*(){const L=yield M.openDbPromise;return new Promise((Z,ue)=>{const Ve=L.transaction([ta],"readonly").objectStore(ta),ke=M.createCompositeKey(D);try{const Ht=Ve.get(ke);Ht.onerror=ln=>{ue(za(ln,"storage-get"))},Ht.onsuccess=ln=>{const Fn=ln.target.result;Z(Fn?Fn.value:void 0)}}catch(Ht){ue(rn.create("storage-get",{originalErrorMessage:Ht&&Ht.message}))}})})()}set(D,M){var L=this;return(0,F.Z)(function*(){const Z=yield L.openDbPromise;return new Promise((ue,Se)=>{const ke=Z.transaction([ta],"readwrite").objectStore(ta),Ht=L.createCompositeKey(D);try{const ln=ke.put({compositeKey:Ht,value:M});ln.onerror=Fn=>{Se(za(Fn,"storage-set"))},ln.onsuccess=()=>{ue()}}catch(ln){Se(rn.create("storage-set",{originalErrorMessage:ln&&ln.message}))}})})()}delete(D){var M=this;return(0,F.Z)(function*(){const L=yield M.openDbPromise;return new Promise((Z,ue)=>{const Ve=L.transaction([ta],"readwrite").objectStore(ta),ke=M.createCompositeKey(D);try{const Ht=Ve.delete(ke);Ht.onerror=ln=>{ue(za(ln,"storage-delete"))},Ht.onsuccess=()=>{Z()}}catch(Ht){ue(rn.create("storage-delete",{originalErrorMessage:Ht&&Ht.message}))}})})()}createCompositeKey(D){return[this.appId,this.appName,this.namespace,D].join()}}class Ih{constructor(D){this.storage=D}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var D=this;return(0,F.Z)(function*(){const M=D.storage.getLastFetchStatus(),L=D.storage.getLastSuccessfulFetchTimestampMillis(),Z=D.storage.getActiveConfig(),ue=yield M;ue&&(D.lastFetchStatus=ue);const Se=yield L;Se&&(D.lastSuccessfulFetchTimestampMillis=Se);const Ve=yield Z;Ve&&(D.activeConfig=Ve)})()}setLastFetchStatus(D){return this.lastFetchStatus=D,this.storage.setLastFetchStatus(D)}setLastSuccessfulFetchTimestampMillis(D){return this.lastSuccessfulFetchTimestampMillis=D,this.storage.setLastSuccessfulFetchTimestampMillis(D)}setActiveConfig(D){return this.activeConfig=D,this.storage.setActiveConfig(D)}}function Wa(){return bc.apply(this,arguments)}function bc(){return(bc=(0,F.Z)(function*(){if(!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch(I){return!1}})).apply(this,arguments)}(0,de._registerComponent)(new me.wA("remote-config",function(D,{instanceIdentifier:M}){const L=D.getProvider("app").getImmediate(),Z=D.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw rn.create("registration-window");if(!(0,se.hl)())throw rn.create("indexed-db-unavailable");const{projectId:ue,apiKey:Se,appId:Ve}=L.options;if(!ue)throw rn.create("registration-project-id");if(!Se)throw rn.create("registration-api-key");if(!Ve)throw rn.create("registration-app-id");const ke=new Vm(Ve,L.name,M=M||"firebase"),Ht=new Ih(ke),ln=new ie.Yd(mt);ln.logLevel=ie.in.ERROR;const Fn=new Fi(Z,de.SDK_VERSION,M,ue,Se,Ve),Wn=new vh(Fn,ke),cr=new Tp(Wn,ke,Ht,ln),Zs=new Lm(L,cr,Ht,ke,ln);return function(I){const D=(0,se.m9)(I);D._initializePromise||(D._initializePromise=D._storageCache.loadFromStorage().then(()=>{D._isInitializationComplete=!0}))}(Zs),Zs},"PUBLIC").setMultipleInstances(!0)),(0,de.registerVersion)(mt,"0.3.3"),(0,de.registerVersion)(mt,"0.3.3","esm2017");const bh="/firebase-messaging-sw.js",Bm="/firebase-cloud-messaging-push-scope",Li="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Vs="google.c.a.c_id",na="google.c.a.c_l",Us="google.c.a.ts",Xu="google.c.a.e";var mr=(()=>{return(I=mr||(mr={})).PUSH_RECEIVED="push-received",I.NOTIFICATION_CLICKED="notification-clicked",mr;var I})();function vs(I){const D=new Uint8Array(I);return btoa(String.fromCharCode(...D)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ka(I){const M=(I+"=".repeat((4-I.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),L=atob(M),Z=new Uint8Array(L.length);for(let ue=0;ue<L.length;++ue)Z[ue]=L.charCodeAt(ue);return Z}const Dh="fcm_token_details_db",Ah="fcm_token_object_Store";function Tc(I){return el.apply(this,arguments)}function el(){return el=(0,F.Z)(function*(I){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ue=>ue.name).includes(Dh))return null;let D=null;return(yield(0,oe.openDb)(Dh,5,function(){var L=(0,F.Z)(function*(Z){var ue;if(Z.oldVersion<2||!Z.objectStoreNames.contains(Ah))return;const Se=Z.transaction.objectStore(Ah),Ve=yield Se.index("fcmSenderId").get(I);if(yield Se.clear(),Ve)if(2===Z.oldVersion){const ke=Ve;if(!ke.auth||!ke.p256dh||!ke.endpoint)return;D={token:ke.fcmToken,createTime:null!==(ue=ke.createTime)&&void 0!==ue?ue:Date.now(),subscriptionOptions:{auth:ke.auth,p256dh:ke.p256dh,endpoint:ke.endpoint,swScope:ke.swScope,vapidKey:"string"==typeof ke.vapidKey?ke.vapidKey:vs(ke.vapidKey)}}}else if(3===Z.oldVersion){const ke=Ve;D={token:ke.fcmToken,createTime:ke.createTime,subscriptionOptions:{auth:vs(ke.auth),p256dh:vs(ke.p256dh),endpoint:ke.endpoint,swScope:ke.swScope,vapidKey:vs(ke.vapidKey)}}}else if(4===Z.oldVersion){const ke=Ve;D={token:ke.fcmToken,createTime:ke.createTime,subscriptionOptions:{auth:vs(ke.auth),p256dh:vs(ke.p256dh),endpoint:ke.endpoint,swScope:ke.swScope,vapidKey:vs(ke.vapidKey)}}}});return function(Z){return L.apply(this,arguments)}}())).close(),yield(0,oe.deleteDb)(Dh),yield(0,oe.deleteDb)("fcm_vapid_details_db"),yield(0,oe.deleteDb)("undefined"),Rp(D)?D:null}),el.apply(this,arguments)}function Rp(I){if(!I||!I.subscriptionOptions)return!1;const{subscriptionOptions:D}=I;return"number"==typeof I.createTime&&I.createTime>0&&"string"==typeof I.token&&I.token.length>0&&"string"==typeof D.auth&&D.auth.length>0&&"string"==typeof D.p256dh&&D.p256dh.length>0&&"string"==typeof D.endpoint&&D.endpoint.length>0&&"string"==typeof D.swScope&&D.swScope.length>0&&"string"==typeof D.vapidKey&&D.vapidKey.length>0}const on="firebase-messaging-store";let Dc=null;function mo(){return Dc||(Dc=(0,oe.openDb)("firebase-messaging-database",1,I=>{0===I.oldVersion&&I.createObjectStore(on)})),Dc}function xn(I){return yo.apply(this,arguments)}function yo(){return(yo=(0,F.Z)(function*(I){const D=_o(I),L=yield(yield mo()).transaction(on).objectStore(on).get(D);if(L)return L;{const Z=yield Tc(I.appConfig.senderId);if(Z)return yield Pr(I,Z),Z}})).apply(this,arguments)}function Pr(I,D){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,F.Z)(function*(I,D){const M=_o(I),Z=(yield mo()).transaction(on,"readwrite");return yield Z.objectStore(on).put(D,M),yield Z.complete,D})).apply(this,arguments)}function On(I){return tl.apply(this,arguments)}function tl(){return(tl=(0,F.Z)(function*(I){const D=_o(I),L=(yield mo()).transaction(on,"readwrite");yield L.objectStore(on).delete(D),yield L.complete})).apply(this,arguments)}function _o({appConfig:I}){return I.appId}const nn=new se.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Es(I,D){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,F.Z)(function*(I,D){const M=yield Sc(I),L=rl(D),Z={method:"POST",headers:M,body:JSON.stringify(L)};let ue;try{ue=yield(yield fetch(Xe(I.appConfig),Z)).json()}catch(Se){throw nn.create("token-subscribe-failed",{errorInfo:Se})}if(ue.error)throw nn.create("token-subscribe-failed",{errorInfo:ue.error.message});if(!ue.token)throw nn.create("token-subscribe-no-token");return ue.token})).apply(this,arguments)}function nl(I,D){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,F.Z)(function*(I,D){const M=yield Sc(I),L=rl(D.subscriptionOptions),Z={method:"PATCH",headers:M,body:JSON.stringify(L)};let ue;try{ue=yield(yield fetch(`${Xe(I.appConfig)}/${D.token}`,Z)).json()}catch(Se){throw nn.create("token-update-failed",{errorInfo:Se})}if(ue.error)throw nn.create("token-update-failed",{errorInfo:ue.error.message});if(!ue.token)throw nn.create("token-update-no-token");return ue.token})).apply(this,arguments)}function Ac(I,D){return ra.apply(this,arguments)}function ra(){return(ra=(0,F.Z)(function*(I,D){const L={method:"DELETE",headers:yield Sc(I)};try{const ue=yield(yield fetch(`${Xe(I.appConfig)}/${D}`,L)).json();if(ue.error)throw nn.create("token-unsubscribe-failed",{errorInfo:ue.error.message})}catch(Z){throw nn.create("token-unsubscribe-failed",{errorInfo:Z})}})).apply(this,arguments)}function Xe({projectId:I}){return`https://fcmregistrations.googleapis.com/v1/projects/${I}/registrations`}function Sc(I){return Rc.apply(this,arguments)}function Rc(){return(Rc=(0,F.Z)(function*({appConfig:I,installations:D}){const M=yield D.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I.apiKey,"x-goog-firebase-installations-auth":`FIS ${M}`})})).apply(this,arguments)}function rl({p256dh:I,auth:D,endpoint:M,vapidKey:L}){const Z={web:{endpoint:M,auth:D,p256dh:I}};return L!==Li&&(Z.web.applicationPubKey=L),Z}const Qa=6048e5;function Nc(I){return il.apply(this,arguments)}function il(){return(il=(0,F.Z)(function*(I){const D=yield Eo(I.swRegistration,I.vapidKey),M={vapidKey:I.vapidKey,swScope:I.swRegistration.scope,endpoint:D.endpoint,auth:vs(D.getKey("auth")),p256dh:vs(D.getKey("p256dh"))},L=yield xn(I.firebaseDependencies);if(L){if(Ja(L.subscriptionOptions,M))return Date.now()>=L.createTime+Qa?Lt(I,{token:L.token,createTime:Date.now(),subscriptionOptions:M}):L.token;try{yield Ac(I.firebaseDependencies,L.token)}catch(Z){console.warn(Z)}return fn(I.firebaseDependencies,M)}return fn(I.firebaseDependencies,M)})).apply(this,arguments)}function Sh(I){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,F.Z)(function*(I){const D=yield xn(I.firebaseDependencies);D&&(yield Ac(I.firebaseDependencies,D.token),yield On(I.firebaseDependencies));const M=yield I.swRegistration.pushManager.getSubscription();return!M||M.unsubscribe()})).apply(this,arguments)}function Lt(I,D){return ss.apply(this,arguments)}function ss(){return(ss=(0,F.Z)(function*(I,D){try{const M=yield nl(I.firebaseDependencies,D),L=Object.assign(Object.assign({},D),{token:M,createTime:Date.now()});return yield Pr(I.firebaseDependencies,L),M}catch(M){throw yield Sh(I),M}})).apply(this,arguments)}function fn(I,D){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,F.Z)(function*(I,D){const L={token:yield Es(I,D),createTime:Date.now(),subscriptionOptions:D};return yield Pr(I,L),L.token})).apply(this,arguments)}function Eo(I,D){return nr.apply(this,arguments)}function nr(){return(nr=(0,F.Z)(function*(I,D){return(yield I.pushManager.getSubscription())||I.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ka(D)})})).apply(this,arguments)}function Ja(I,D){return D.vapidKey===I.vapidKey&&D.endpoint===I.endpoint&&D.auth===I.auth&&D.p256dh===I.p256dh}function js(I){const D={from:I.from,collapseKey:I.collapse_key,messageId:I.fcm_message_id};return function(I,D){if(!D.notification)return;I.notification={};const M=D.notification.title;M&&(I.notification.title=M);const L=D.notification.body;L&&(I.notification.body=L);const Z=D.notification.image;Z&&(I.notification.image=Z)}(D,I),function(I,D){!D.data||(I.data=D.data)}(D,I),function(I,D){if(!D.fcmOptions)return;I.fcmOptions={};const M=D.fcmOptions.link;M&&(I.fcmOptions.link=M);const L=D.fcmOptions.analytics_label;L&&(I.fcmOptions.analyticsLabel=L)}(D,I),D}function sa(I){return"object"==typeof I&&!!I&&Vs in I}function ur(I,D){const M=[];for(let L=0;L<I.length;L++)M.push(I.charAt(L)),L<D.length&&M.push(D.charAt(L));return M.join("")}function ol(I){return nn.create("missing-app-config-values",{valueName:I})}ur("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ur("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ji{constructor(D,M,L){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Z=function(I){if(!I||!I.options)throw ol("App Configuration Object");if(!I.name)throw ol("App Name");const D=["projectId","apiKey","appId","messagingSenderId"],{options:M}=I;for(const L of D)if(!M[L])throw ol(L);return{appName:I.name,projectId:M.projectId,apiKey:M.apiKey,appId:M.appId,senderId:M.messagingSenderId}}(D);this.firebaseDependencies={app:D,appConfig:Z,installations:M,analyticsProvider:L}}_delete(){return Promise.resolve()}}function $i(I){return al.apply(this,arguments)}function al(){return(al=(0,F.Z)(function*(I){try{I.swRegistration=yield navigator.serviceWorker.register(bh,{scope:Bm}),I.swRegistration.update().catch(()=>{})}catch(D){throw nn.create("failed-service-worker-registration",{browserErrorMessage:D.message})}})).apply(this,arguments)}function $s(I,D){return wo.apply(this,arguments)}function wo(){return(wo=(0,F.Z)(function*(I,D){if(!D&&!I.swRegistration&&(yield $i(I)),D||!I.swRegistration){if(!(D instanceof ServiceWorkerRegistration))throw nn.create("invalid-sw-registration");I.swRegistration=D}})).apply(this,arguments)}function ul(I,D){return oa.apply(this,arguments)}function oa(){return(oa=(0,F.Z)(function*(I,D){D?I.vapidKey=D:I.vapidKey||(I.vapidKey=Li)})).apply(this,arguments)}function ll(){return(ll=(0,F.Z)(function*(I,D){if(!navigator)throw nn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw nn.create("permission-blocked");return yield ul(I,null==D?void 0:D.vapidKey),yield $s(I,null==D?void 0:D.serviceWorkerRegistration),Nc(I)})).apply(this,arguments)}function eu(I,D,M){return Mc.apply(this,arguments)}function Mc(){return(Mc=(0,F.Z)(function*(I,D,M){const L=ua(D);(yield I.firebaseDependencies.analyticsProvider.get()).logEvent(L,{message_id:M[Vs],message_name:M[na],message_time:M[Us],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ua(I){switch(I){case mr.NOTIFICATION_CLICKED:return"notification_open";case mr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function ca(){return(ca=(0,F.Z)(function*(I,D){const M=D.data;if(!M.isFirebaseMessaging)return;I.onMessageHandler&&M.messageType===mr.PUSH_RECEIVED&&("function"==typeof I.onMessageHandler?I.onMessageHandler(js(M)):I.onMessageHandler.next(js(M)));const L=M.data;sa(L)&&"1"===L[Xu]&&(yield eu(I,M.messageType,L))})).apply(this,arguments)}const xc="@firebase/messaging";function Oc(){return zn.apply(this,arguments)}function zn(){return(zn=(0,F.Z)(function*(){return"undefined"!=typeof window&&(0,se.hl)()&&(yield(0,se.eu)())&&(0,se.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,de._registerComponent)(new me.wA("messaging",I=>{const D=new ji(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),I.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",M=>function(I,D){return ca.apply(this,arguments)}(D,M)),D},"PUBLIC")),(0,de._registerComponent)(new me.wA("messaging-internal",I=>{const D=I.getProvider("messaging").getImmediate();return{getToken:L=>function(I,D){return ll.apply(this,arguments)}(D,L)}},"PRIVATE")),(0,de.registerVersion)(xc,"0.9.4"),(0,de.registerVersion)(xc,"0.9.4","esm2017");const ws="analytics",cl="firebase_id",Fc="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Mp="https://www.googletagmanager.com/gtag/js",pn=new ie.Yd("@firebase/analytics");function pa(I){return Promise.all(I.map(D=>D.catch(M=>M)))}function xp(I,D){const M=document.createElement("script");M.src=`${Mp}?l=${I}&id=${D}`,M.async=!0,document.head.appendChild(M)}function ga(I,D,M,L,Z,ue){return nu.apply(this,arguments)}function nu(){return(nu=(0,F.Z)(function*(I,D,M,L,Z,ue){const Se=L[Z];try{if(Se)yield D[Se];else{const ke=(yield pa(M)).find(Ht=>Ht.measurementId===Z);ke&&(yield D[ke.appId])}}catch(Ve){pn.error(Ve)}I("config",Z,ue)})).apply(this,arguments)}function ru(I,D,M,L,Z){return Vc.apply(this,arguments)}function Vc(){return(Vc=(0,F.Z)(function*(I,D,M,L,Z){try{let ue=[];if(Z&&Z.send_to){let Se=Z.send_to;Array.isArray(Se)||(Se=[Se]);const Ve=yield pa(M);for(const ke of Se){const Ht=Ve.find(Fn=>Fn.measurementId===ke),ln=Ht&&D[Ht.appId];if(!ln){ue=[];break}ue.push(ln)}}0===ue.length&&(ue=Object.values(D)),yield Promise.all(ue),I("event",L,Z||{})}catch(ue){pn.error(ue)}})).apply(this,arguments)}function dl(){const I=window.document.getElementsByTagName("script");for(const D of Object.values(I))if(D.src&&D.src.includes(Mp))return D;return null}const lr=new se.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),iu=new class{constructor(D={},M=1e3){this.throttleMetadata=D,this.intervalMillis=M}getThrottleMetadata(D){return this.throttleMetadata[D]}setThrottleMetadata(D,M){this.throttleMetadata[D]=M}deleteThrottleMetadata(D){delete this.throttleMetadata[D]}};function zm(I){return new Headers({Accept:"application/json","x-goog-api-key":I})}function fl(I){return pl.apply(this,arguments)}function pl(){return(pl=(0,F.Z)(function*(I){var D;const{appId:M,apiKey:L}=I,Z={method:"GET",headers:zm(L)},ue=Fc.replace("{app-id}",M),Se=yield fetch(ue,Z);if(200!==Se.status&&304!==Se.status){let Ve="";try{const ke=yield Se.json();(null===(D=ke.error)||void 0===D?void 0:D.message)&&(Ve=ke.error.message)}catch(ke){}throw lr.create("config-fetch-failed",{httpStatus:Se.status,responseMessage:Ve})}return Se.json()})).apply(this,arguments)}function su(I){return Io.apply(this,arguments)}function Io(){return(Io=(0,F.Z)(function*(I,D=iu,M){const{appId:L,apiKey:Z,measurementId:ue}=I.options;if(!L)throw lr.create("no-app-id");if(!Z){if(ue)return{measurementId:ue,appId:L};throw lr.create("no-api-key")}const Se=D.getThrottleMetadata(L)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ve=new os;return setTimeout((0,F.Z)(function*(){Ve.abort()}),void 0!==M?M:6e4),gl({appId:L,apiKey:Z,measurementId:ue},Se,Ve,D)})).apply(this,arguments)}function gl(I,D,M){return ml.apply(this,arguments)}function ml(){return(ml=(0,F.Z)(function*(I,{throttleEndTimeMillis:D,backoffCount:M},L,Z=iu){const{appId:ue,measurementId:Se}=I;try{yield Wm(L,D)}catch(Ve){if(Se)return pn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Se} provided in the "measurementId" field in the local Firebase config. [${Ve.message}]`),{appId:ue,measurementId:Se};throw Ve}try{const Ve=yield fl(I);return Z.deleteThrottleMetadata(ue),Ve}catch(Ve){if(!An(Ve)){if(Z.deleteThrottleMetadata(ue),Se)return pn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Se} provided in the "measurementId" field in the local Firebase config. [${Ve.message}]`),{appId:ue,measurementId:Se};throw Ve}const ke=503===Number(Ve.customData.httpStatus)?(0,se.$s)(M,Z.intervalMillis,30):(0,se.$s)(M,Z.intervalMillis),Ht={throttleEndTimeMillis:Date.now()+ke,backoffCount:M+1};return Z.setThrottleMetadata(ue,Ht),pn.debug(`Calling attemptFetch again in ${ke} millis`),gl(I,Ht,L,Z)}})).apply(this,arguments)}function Wm(I,D){return new Promise((M,L)=>{const Z=Math.max(D-Date.now(),0),ue=setTimeout(M,Z);I.addEventListener(()=>{clearTimeout(ue),L(lr.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}function An(I){if(!(I instanceof se.ZR&&I.customData))return!1;const D=Number(I.customData.httpStatus);return 429===D||500===D||503===D||504===D}class os{constructor(){this.listeners=[]}addEventListener(D){this.listeners.push(D)}abort(){this.listeners.forEach(D=>D())}}function pt(){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,F.Z)(function*(){if(!(0,se.hl)())return pn.warn(lr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,se.eu)()}catch(I){return pn.warn(lr.create("indexeddb-unavailable",{errorInfo:I}).message),!1}return!0})).apply(this,arguments)}function Pn(){return(Pn=(0,F.Z)(function*(I,D,M,L,Z,ue,Se){var Ve;const ke=su(I);ke.then(cr=>{M[cr.measurementId]=cr.appId,I.options.measurementId&&cr.measurementId!==I.options.measurementId&&pn.warn(`The measurement ID in the local Firebase config (${I.options.measurementId}) does not match the measurement ID fetched from the server (${cr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(cr=>pn.error(cr)),D.push(ke);const Ht=pt().then(cr=>{if(cr)return L.getId()}),[ln,Fn]=yield Promise.all([ke,Ht]);dl()||xp(ue,ln.measurementId),Z("js",new Date);const Wn=null!==(Ve=null==Se?void 0:Se.config)&&void 0!==Ve?Ve:{};return Wn.origin="firebase",Wn.update=!0,null!=Fn&&(Wn[cl]=Fn),Z("config",ln.measurementId,Wn),ln.measurementId})).apply(this,arguments)}class Oh{constructor(D){this.app=D}_delete(){return delete as[this.app.options.appId],Promise.resolve()}}let as={},Uc=[];const Bc={};let uu,ht,ou="dataLayer",bo=!1;function jc(I,D,M){!function(){const I=[];if((0,se.ru)()&&I.push("This is a browser extension environment."),(0,se.zI)()||I.push("Cookies are not available."),I.length>0){const D=I.map((L,Z)=>`(${Z+1}) ${L}`).join(" "),M=lr.create("invalid-analytics-context",{errorInfo:D});pn.warn(M.message)}}();const L=I.options.appId;if(!L)throw lr.create("no-app-id");if(!I.options.apiKey){if(!I.options.measurementId)throw lr.create("no-api-key");pn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${I.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=as[L])throw lr.create("already-exists",{id:L});if(!bo){!function(I){let D=[];Array.isArray(window[I])?D=window[I]:window[I]=D}(ou);const{wrappedGtag:ue,gtagCore:Se}=function(I,D,M,L,Z){let ue=function(...Se){window[L].push(arguments)};return window[Z]&&"function"==typeof window[Z]&&(ue=window[Z]),window[Z]=function(I,D,M,L){function ue(){return(ue=(0,F.Z)(function*(Se,Ve,ke){try{"event"===Se?yield ru(I,D,M,Ve,ke):"config"===Se?yield ga(I,D,M,L,Ve,ke):I("set",Ve)}catch(Ht){pn.error(Ht)}})).apply(this,arguments)}return function(Se,Ve,ke){return ue.apply(this,arguments)}}(ue,I,D,M),{gtagCore:ue,wrappedGtag:window[Z]}}(as,Uc,Bc,ou,"gtag");ht=ue,uu=Se,bo=!0}return as[L]=function(I,D,M,L,Z,ue,Se){return Pn.apply(this,arguments)}(I,Uc,Bc,D,uu,ou,M),new Oh(I)}function yl(){return(yl=(0,F.Z)(function*(I,D,M,L,Z){if(Z&&Z.global)I("event",M,L);else{const ue=yield D;I("event",M,Object.assign(Object.assign({},L),{send_to:ue}))}})).apply(this,arguments)}function bs(){return Gc.apply(this,arguments)}function Gc(){return(Gc=(0,F.Z)(function*(){if((0,se.ru)()||!(0,se.zI)()||!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch(I){return!1}})).apply(this,arguments)}const hu="@firebase/analytics";(0,de._registerComponent)(new me.wA(ws,(D,{options:M})=>jc(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),M),"PUBLIC")),(0,de._registerComponent)(new me.wA("analytics-internal",function(D){try{const M=D.getProvider(ws).getImmediate();return{logEvent:(L,Z,ue)=>function(I,D,M,L){I=(0,se.m9)(I),function(I,D,M,L,Z){return yl.apply(this,arguments)}(ht,as[I.app.options.appId],D,M,L).catch(Z=>pn.error(Z))}(M,L,Z,ue)}}catch(M){throw lr.create("interop-component-reg-failed",{reason:M})}},"PRIVATE")),(0,de.registerVersion)(hu,"0.7.4"),(0,de.registerVersion)(hu,"0.7.4","esm2017");var Do=k(2869),br=k(8843);const Ao=new class extends br.v{}(class extends Do.o{constructor(D,M){super(D,M),this.scheduler=D,this.work=M}schedule(D,M=0){return M>0?super.schedule(D,M):(this.delay=M,this.state=D,this.scheduler.flush(this),this)}execute(D,M){return M>0||this.closed?super.execute(D,M):this._execute(D,M)}requestAsyncId(D,M,L=0){return null!=L&&L>0||null==L&&this.delay>0?super.requestAsyncId(D,M,L):D.flush(this)}});var Pp=k(2210),kh=k(7384),Vr=k(5222),us=k(4763);const ls=new p.GfV("7.2.0"),cs="__angularfire_symbol__analyticsIsSupported",fu="__angularfire_symbol__remoteConfigIsSupported",qc="__angularfire_symbol__messagingIsSupported";function So(I,D,M){if(D){if(1===D.length)return D[0];const ue=D.filter(Se=>Se.app===M);if(1===ue.length)return ue[0]}return M.container.getProvider(I).getImmediate({optional:!0})}globalThis[cs]||(globalThis[cs]=bs().then(I=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=I)),globalThis[qc]||(globalThis[qc]=Oc().then(I=>globalThis.__angularfire_symbol__messagingIsSupportedValue=I)),globalThis[fu]||(globalThis[fu]=Wa().then(I=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=I));const Zm=(I,D)=>{const M=D?[D]:(0,J.C6)(),L=[];return M.forEach(Z=>{Z.container.getProvider(I).instances.forEach(Se=>{L.includes(Se)||L.push(Se)})}),L};function Ws(){}class zc{constructor(D,M=Ao){this.zone=D,this.delegate=M}now(){return this.delegate.now()}schedule(D,M,L){const Z=this.zone;return this.delegate.schedule(function(Se){Z.runGuarded(()=>{D.apply(this,[Se])})},M,L)}}class Wc{constructor(D){this.zone=D,this.task=null}call(D,M){const L=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ws,{},Ws,Ws)),M.pipe((0,kh.b)({next:L,complete:L,error:L})).subscribe(D).add(L)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Fp=(()=>{class I{constructor(M){this.ngZone=M,this.outsideAngular=M.runOutsideAngular(()=>new zc(Zone.current)),this.insideAngular=M.run(()=>new zc(Zone.current,Pp.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return I.\u0275fac=function(M){return new(M||I)(p.LFG(p.R0b))},I.\u0275prov=p.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function Ts(){const I=globalThis.\u0275AngularFireScheduler;if(!I)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return I}function Ds(I){return Ts(),function(I){return function(M){return(M=M.lift(new Wc(I.ngZone))).pipe((0,Vr.R)(I.outsideAngular),(0,us.Q)(I.insideAngular))}}(Ts())(I)}},4213:(Ze,we,k)=>{"use strict";k.d(we,{BH:()=>je,LL:()=>ge,ZR:()=>Fe,zI:()=>fe,US:()=>me,tV:()=>he,$s:()=>en,r3:()=>un,Sg:()=>De,ne:()=>ar,vZ:()=>$t,ZB:()=>$,pd:()=>ns,m9:()=>Ec,z$:()=>Ge,jU:()=>K,ru:()=>ce,d:()=>ye,xb:()=>bn,w1:()=>qe,hl:()=>ct,uI:()=>Be,UG:()=>le,b$:()=>Te,G6:()=>Ke,Mn:()=>Me,xO:()=>Xo,zd:()=>Ni,eu:()=>ee});const de=function(G){const V=[];let z=0;for(let Ie=0;Ie<G.length;Ie++){let te=G.charCodeAt(Ie);te<128?V[z++]=te:te<2048?(V[z++]=te>>6|192,V[z++]=63&te|128):55296==(64512&te)&&Ie+1<G.length&&56320==(64512&G.charCodeAt(Ie+1))?(te=65536+((1023&te)<<10)+(1023&G.charCodeAt(++Ie)),V[z++]=te>>18|240,V[z++]=te>>12&63|128,V[z++]=te>>6&63|128,V[z++]=63&te|128):(V[z++]=te>>12|224,V[z++]=te>>6&63|128,V[z++]=63&te|128)}return V},me={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(G,V){if(!Array.isArray(G))throw Error("encodeByteArray takes an array as a parameter");this.init_();const z=V?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ie=[];for(let te=0;te<G.length;te+=3){const Ye=G[te],dt=te+1<G.length,tn=dt?G[te+1]:0,fr=te+2<G.length,Dn=fr?G[te+2]:0;let pr=(15&tn)<<2|Dn>>6,ho=63&Dn;fr||(ho=64,dt||(pr=64)),Ie.push(z[Ye>>2],z[(3&Ye)<<4|tn>>4],z[pr],z[ho])}return Ie.join("")},encodeString(G,V){return this.HAS_NATIVE_SUPPORT&&!V?btoa(G):this.encodeByteArray(de(G),V)},decodeString(G,V){return this.HAS_NATIVE_SUPPORT&&!V?atob(G):function(G){const V=[];let z=0,Ie=0;for(;z<G.length;){const te=G[z++];if(te<128)V[Ie++]=String.fromCharCode(te);else if(te>191&&te<224){const Ye=G[z++];V[Ie++]=String.fromCharCode((31&te)<<6|63&Ye)}else if(te>239&&te<365){const fr=((7&te)<<18|(63&G[z++])<<12|(63&G[z++])<<6|63&G[z++])-65536;V[Ie++]=String.fromCharCode(55296+(fr>>10)),V[Ie++]=String.fromCharCode(56320+(1023&fr))}else{const Ye=G[z++],dt=G[z++];V[Ie++]=String.fromCharCode((15&te)<<12|(63&Ye)<<6|63&dt)}}return V.join("")}(this.decodeStringToByteArray(G,V))},decodeStringToByteArray(G,V){this.init_();const z=V?this.charToByteMapWebSafe_:this.charToByteMap_,Ie=[];for(let te=0;te<G.length;){const Ye=z[G.charAt(te++)],tn=te<G.length?z[G.charAt(te)]:0;++te;const Dn=te<G.length?z[G.charAt(te)]:64;++te;const Ut=te<G.length?z[G.charAt(te)]:64;if(++te,null==Ye||null==tn||null==Dn||null==Ut)throw Error();Ie.push(Ye<<2|tn>>4),64!==Dn&&(Ie.push(tn<<4&240|Dn>>2),64!==Ut&&Ie.push(Dn<<6&192|Ut))}return Ie},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let G=0;G<this.ENCODED_VALS.length;G++)this.byteToCharMap_[G]=this.ENCODED_VALS.charAt(G),this.charToByteMap_[this.byteToCharMap_[G]]=G,this.byteToCharMapWebSafe_[G]=this.ENCODED_VALS_WEBSAFE.charAt(G),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[G]]=G,G>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(G)]=G,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(G)]=G)}}},oe=function(G){return function(G){const V=de(G);return me.encodeByteArray(V,!0)}(G).replace(/\./g,"")},he=function(G){try{return me.decodeString(G,!0)}catch(V){console.error("base64Decode failed: ",V)}return null};function $(G,V){if(!(V instanceof Object))return V;switch(V.constructor){case Date:return new Date(V.getTime());case Object:void 0===G&&(G={});break;case Array:G=[];break;default:return V}for(const z in V)!V.hasOwnProperty(z)||!Q(z)||(G[z]=$(G[z],V[z]));return G}function Q(G){return"__proto__"!==G}class je{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((V,z)=>{this.resolve=V,this.reject=z})}wrapCallback(V){return(z,Ie)=>{z?this.reject(z):this.resolve(Ie),"function"==typeof V&&(this.promise.catch(()=>{}),1===V.length?V(z):V(z,Ie))}}}function De(G,V){if(G.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ie=V||"demo-project",te=G.iat||0,Ye=G.sub||G.user_id;if(!Ye)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const dt=Object.assign({iss:`https://securetoken.google.com/${Ie}`,aud:Ie,iat:te,exp:te+3600,auth_time:te,sub:Ye,user_id:Ye,firebase:{sign_in_provider:"custom",identities:{}}},G);return[oe(JSON.stringify({alg:"none",type:"JWT"})),oe(JSON.stringify(dt)),""].join(".")}function Ge(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Be(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ge())}function le(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(G){return!1}}function K(){return"object"==typeof self&&self.self===self}function ce(){const G="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof G&&void 0!==G.id}function Te(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ye(){return Ge().indexOf("Electron/")>=0}function qe(){const G=Ge();return G.indexOf("MSIE ")>=0||G.indexOf("Trident/")>=0}function Me(){return Ge().indexOf("MSAppHost/")>=0}function Ke(){return!le()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ct(){return"object"==typeof indexedDB}function ee(){return new Promise((G,V)=>{try{let z=!0;const Ie="validate-browser-context-for-indexeddb-analytics-module",te=self.indexedDB.open(Ie);te.onsuccess=()=>{te.result.close(),z||self.indexedDB.deleteDatabase(Ie),G(!0)},te.onupgradeneeded=()=>{z=!1},te.onerror=()=>{var Ye;V((null===(Ye=te.error)||void 0===Ye?void 0:Ye.message)||"")}}catch(z){V(z)}})}function fe(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Fe extends Error{constructor(V,z,Ie){super(z),this.code=V,this.customData=Ie,this.name="FirebaseError",Object.setPrototypeOf(this,Fe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ge.prototype.create)}}class ge{constructor(V,z,Ie){this.service=V,this.serviceName=z,this.errors=Ie}create(V,...z){const Ie=z[0]||{},te=`${this.service}/${V}`,Ye=this.errors[V],dt=Ye?function(G,V){return G.replace(Zt,(z,Ie)=>{const te=V[Ie];return null!=te?String(te):`<${Ie}?>`})}(Ye,Ie):"Error";return new Fe(te,`${this.serviceName}: ${dt} (${te}).`,Ie)}}const Zt=/\{\$([^}]+)}/g;function un(G,V){return Object.prototype.hasOwnProperty.call(G,V)}function bn(G){for(const V in G)if(Object.prototype.hasOwnProperty.call(G,V))return!1;return!0}function $t(G,V){if(G===V)return!0;const z=Object.keys(G),Ie=Object.keys(V);for(const te of z){if(!Ie.includes(te))return!1;const Ye=G[te],dt=V[te];if(Tn(Ye)&&Tn(dt)){if(!$t(Ye,dt))return!1}else if(Ye!==dt)return!1}for(const te of Ie)if(!z.includes(te))return!1;return!0}function Tn(G){return null!==G&&"object"==typeof G}function Xo(G){const V=[];for(const[z,Ie]of Object.entries(G))Array.isArray(Ie)?Ie.forEach(te=>{V.push(encodeURIComponent(z)+"="+encodeURIComponent(te))}):V.push(encodeURIComponent(z)+"="+encodeURIComponent(Ie));return V.length?"&"+V.join("&"):""}function Ni(G){const V={};return G.replace(/^\?/,"").split("&").forEach(Ie=>{if(Ie){const[te,Ye]=Ie.split("=");V[decodeURIComponent(te)]=decodeURIComponent(Ye)}}),V}function ns(G){const V=G.indexOf("?");if(!V)return"";const z=G.indexOf("#",V);return G.substring(V,z>0?z:void 0)}function ar(G,V){const z=new Gn(G,V);return z.subscribe.bind(z)}class Gn{constructor(V,z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=z,this.task.then(()=>{V(this)}).catch(Ie=>{this.error(Ie)})}next(V){this.forEachObserver(z=>{z.next(V)})}error(V){this.forEachObserver(z=>{z.error(V)}),this.close(V)}complete(){this.forEachObserver(V=>{V.complete()}),this.close()}subscribe(V,z,Ie){let te;if(void 0===V&&void 0===z&&void 0===Ie)throw new Error("Missing Observer.");te=function(G,V){if("object"!=typeof G||null===G)return!1;for(const z of["next","error","complete"])if(z in G&&"function"==typeof G[z])return!0;return!1}(V)?V:{next:V,error:z,complete:Ie},void 0===te.next&&(te.next=Mi),void 0===te.error&&(te.error=Mi),void 0===te.complete&&(te.complete=Mi);const Ye=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?te.error(this.finalError):te.complete()}catch(dt){}}),this.observers.push(te),Ye}unsubscribeOne(V){void 0===this.observers||void 0===this.observers[V]||(delete this.observers[V],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(V){if(!this.finalized)for(let z=0;z<this.observers.length;z++)this.sendOne(z,V)}sendOne(V,z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[V])try{z(this.observers[V])}catch(Ie){"undefined"!=typeof console&&console.error&&console.error(Ie)}})}close(V){this.finalized||(this.finalized=!0,void 0!==V&&(this.finalError=V),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Mi(){}function en(G,V=1e3,z=2){const Ie=V*Math.pow(z,G),te=Math.round(.5*Ie*(Math.random()-.5)*2);return Math.min(144e5,Ie+te)}function Ec(G){return G&&G._delegate?G._delegate:G}},7713:(Ze,we,k)=>{"use strict";k.d(we,{Mq:()=>p.getApp,C6:()=>p.getApps});var p=k(1572);(0,p.registerVersion)("firebase","9.4.1","app")},7892:(Ze,we,k)=>{"use strict";k.d(we,{Z:()=>p.Z});var p=k(6293);p.Z.registerVersion("firebase","9.4.1","app-compat")},9777:(Ze,we,k)=>{"use strict";k.r(we);var p=k(8239),J=k(6293),F=k(4213),de=k(1572);function oe(_,f){var g={};for(var E in _)Object.prototype.hasOwnProperty.call(_,E)&&f.indexOf(E)<0&&(g[E]=_[E]);if(null!=_&&"function"==typeof Object.getOwnPropertySymbols){var A=0;for(E=Object.getOwnPropertySymbols(_);A<E.length;A++)f.indexOf(E[A])<0&&Object.prototype.propertyIsEnumerable.call(_,E[A])&&(g[E[A]]=_[E[A]])}return g}var Fe=k(3855),ge=k(1177);const xr=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},zr=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},un=new F.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),bn=new Fe.Yd("@firebase/auth");function or(_,...f){bn.logLevel<=Fe.in.ERROR&&bn.error(`Auth (${de.SDK_VERSION}): ${_}`,...f)}function $t(_,...f){throw ns(_,...f)}function Tn(_,...f){return ns(_,...f)}function Xo(_,f,g){const E=Object.assign(Object.assign({},zr()),{[f]:g});return new F.LL("auth","Firebase",E).create(f,{appName:_.name})}function Ni(_,f,g){if(!(f instanceof g))throw g.name!==f.constructor.name&&$t(_,"argument-error"),Xo(_,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ns(_,...f){if("string"!=typeof _){const g=f[0],E=[...f.slice(1)];return E[0]&&(E[0].appName=_.name),_._errorFactory.create(g,...E)}return un.create(_,...f)}function Re(_,f,...g){if(!_)throw ns(f,...g)}function ar(_){const f="INTERNAL ASSERTION FAILED: "+_;throw or(f),new Error(f)}function Gn(_,f){_||ar(f)}const tt=new Map;function zt(_){Gn(_ instanceof Function,"Expected a class definition");let f=tt.get(_);return f?(Gn(f instanceof _,"Instance stored in cache mismatched with class"),f):(f=new _,tt.set(_,f),f)}function lt(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function ft(){return"http:"===kt()||"https:"===kt()}function kt(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class Jt{constructor(f,g){this.shortDelay=f,this.longDelay=g,Gn(g>f,"Short delay should be less than long delay!"),this.isMobile=(0,F.uI)()||(0,F.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ft()||(0,F.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function We(_,f){Gn(_.emulator,"Emulator should always be set here");const{url:g}=_.emulator;return f?`${g}${f.startsWith("/")?f.slice(1):f}`:g}class ut{static initialize(f,g,E){this.fetchImpl=f,g&&(this.headersImpl=g),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void ar("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void ar("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void ar("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const vc={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Ps=new Jt(3e4,6e4);function en(_,f){return _.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:_.tenantId}):f}function Et(_,f,g,E){return Or.apply(this,arguments)}function Or(){return(Or=(0,p.Z)(function*(_,f,g,E,A={}){return Ec(_,A,()=>{let N={},j={};E&&("GET"===f?j=E:N={body:JSON.stringify(E)});const ne=(0,F.xO)(Object.assign({key:_.config.apiKey},j)).slice(1),Le=new(ut.headers());return Le.set("Content-Type","application/json"),Le.set("X-Client-Version",_._getSdkClientVersion()),_.languageCode&&Le.set("X-Firebase-Locale",_.languageCode),ut.fetch()(Ie(_,_.config.apiHost,g,ne),Object.assign({method:f,headers:Le,referrerPolicy:"no-referrer"},N))})})).apply(this,arguments)}function Ec(_,f,g){return G.apply(this,arguments)}function G(){return(G=(0,p.Z)(function*(_,f,g){_._canInitEmulator=!1;const E=Object.assign(Object.assign({},vc),f);try{const A=new te(_),N=yield Promise.race([g(),A.promise]);A.clearNetworkTimeout();const j=yield N.json();if("needConfirmation"in j)throw Ye(_,"account-exists-with-different-credential",j);if(N.ok&&!("errorMessage"in j))return j;{const ne=N.ok?j.errorMessage:j.error.message,[Le,Oe]=ne.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Le)throw Ye(_,"credential-already-in-use",j);if("EMAIL_EXISTS"===Le)throw Ye(_,"email-already-in-use",j);const nt=E[Le]||Le.toLowerCase().replace(/[_\s]+/g,"-");if(Oe)throw Xo(_,nt,Oe);$t(_,nt)}}catch(A){if(A instanceof F.ZR)throw A;$t(_,"network-request-failed")}})).apply(this,arguments)}function V(_,f,g,E){return z.apply(this,arguments)}function z(){return(z=(0,p.Z)(function*(_,f,g,E,A={}){const N=yield Et(_,f,g,E,A);return"mfaPendingCredential"in N&&$t(_,"multi-factor-auth-required",{_serverResponse:N}),N})).apply(this,arguments)}function Ie(_,f,g,E){const A=`${f}${g}?${E}`;return _.config.emulator?We(_.config,A):`${_.config.apiScheme}://${A}`}class te{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((g,E)=>{this.timer=setTimeout(()=>E(Tn(this.auth,"timeout")),Ps.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ye(_,f,g){const E={appName:_.name};g.email&&(E.email=g.email),g.phoneNumber&&(E.phoneNumber=g.phoneNumber);const A=Tn(_,f,E);return A.customData._tokenResponse=g,A}function tn(){return(tn=(0,p.Z)(function*(_,f){return Et(_,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function fr(_,f){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,p.Z)(function*(_,f){return Et(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Zr(_,f){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,p.Z)(function*(_,f){return Et(_,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function pr(_){if(_)try{const f=new Date(Number(_));if(!isNaN(f.getTime()))return f.toUTCString()}catch(f){}}function ja(){return(ja=(0,p.Z)(function*(_,f=!1){const g=(0,F.m9)(_),E=yield g.getIdToken(f),A=fo(E);Re(A&&A.exp&&A.auth_time&&A.iat,g.auth,"internal-error");const N="object"==typeof A.firebase?A.firebase:void 0,j=null==N?void 0:N.sign_in_provider;return{claims:A,token:E,authTime:pr(Ku(A.auth_time)),issuedAtTime:pr(Ku(A.iat)),expirationTime:pr(Ku(A.exp)),signInProvider:j||null,signInSecondFactor:(null==N?void 0:N.sign_in_second_factor)||null}})).apply(this,arguments)}function Ku(_){return 1e3*Number(_)}function fo(_){const[f,g,E]=_.split(".");if(void 0===f||void 0===g||void 0===E)return or("JWT malformed, contained fewer than 3 sections"),null;try{const A=(0,F.tV)(g);return A?JSON.parse(A):(or("Failed to decode base64 JWT payload"),null)}catch(A){return or("Caught error parsing JWT payload as JSON",A),null}}function hn(_,f){return xi.apply(this,arguments)}function xi(){return(xi=(0,p.Z)(function*(_,f,g=!1){if(g)return f;try{return yield f}catch(E){throw E instanceof F.ZR&&hi(E)&&_.auth.currentUser===_&&(yield _.auth.signOut()),E}})).apply(this,arguments)}function hi({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class gr{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var g;if(f){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const A=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,A)}}schedule(f=!1){var g=this;if(!this.isRunning)return;const E=this.getInterval(f);this.timerId=setTimeout((0,p.Z)(function*(){yield g.iteration()}),E)}iteration(){var f=this;return(0,p.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g.code&&f.schedule(!0))}f.schedule()})()}}class fi{constructor(f,g){this.createdAt=f,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=pr(this.lastLoginAt),this.creationTime=pr(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function $e(_){return At.apply(this,arguments)}function At(){return(At=(0,p.Z)(function*(_){var f;const g=_.auth,E=yield _.getIdToken(),A=yield hn(_,Zr(g,{idToken:E}));Re(null==A?void 0:A.users.length,g,"internal-error");const N=A.users[0];_._notifyReloadListener(N);const j=(null===(f=N.providerUserInfo)||void 0===f?void 0:f.length)?qn(N.providerUserInfo):[],ne=Oi(_.providerData,j),nt=!!_.isAnonymous&&!(_.email&&N.passwordHash||(null==ne?void 0:ne.length)),et={uid:N.localId,displayName:N.displayName||null,photoURL:N.photoUrl||null,email:N.email||null,emailVerified:N.emailVerified||!1,phoneNumber:N.phoneNumber||null,tenantId:N.tenantId||null,providerData:ne,metadata:new fi(N.createdAt,N.lastLoginAt),isAnonymous:nt};Object.assign(_,et)})).apply(this,arguments)}function Cr(){return(Cr=(0,p.Z)(function*(_){const f=(0,F.m9)(_);yield $e(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function Oi(_,f){return[..._.filter(E=>!f.some(A=>A.providerId===E.providerId)),...f]}function qn(_){return _.map(f=>{var{providerId:g}=f,E=oe(f,["providerId"]);return{providerId:g,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function wn(){return(wn=(0,p.Z)(function*(_,f){const g=yield Ec(_,{},()=>{const E=(0,F.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:A,apiKey:N}=_.config,j=Ie(_,A,"/v1/token",`key=${N}`);return ut.fetch()(j,{method:"POST",headers:{"X-Client-Version":_._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:E})});return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Pi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){Re(f.idToken,"internal-error"),Re(void 0!==f.idToken,"internal-error"),Re(void 0!==f.refreshToken,"internal-error");const g="expiresIn"in f&&void 0!==f.expiresIn?Number(f.expiresIn):function(_){const f=fo(_);return Re(f,"internal-error"),Re(void 0!==f.exp,"internal-error"),Re(void 0!==f.iat,"internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,g)}getToken(f,g=!1){var E=this;return(0,p.Z)(function*(){return Re(!E.accessToken||E.refreshToken,f,"user-token-expired"),g||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(f,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,g){var E=this;return(0,p.Z)(function*(){const{accessToken:A,refreshToken:N,expiresIn:j}=yield function(_,f){return wn.apply(this,arguments)}(f,g);E.updateTokensAndExpiration(A,N,Number(j))})()}updateTokensAndExpiration(f,g,E){this.refreshToken=g||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(f,g){const{refreshToken:E,accessToken:A,expirationTime:N}=g,j=new Pi;return E&&(Re("string"==typeof E,"internal-error",{appName:f}),j.refreshToken=E),A&&(Re("string"==typeof A,"internal-error",{appName:f}),j.accessToken=A),N&&(Re("number"==typeof N,"internal-error",{appName:f}),j.expirationTime=N),j}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new Pi,this.toJSON())}_performRefresh(){return ar("not implemented")}}function Yr(_,f){Re("string"==typeof _||void 0===_,"internal-error",{appName:f})}class mt{constructor(f){var{uid:g,auth:E,stsTokenManager:A}=f,N=oe(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new gr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=E,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=N.displayName||null,this.email=N.email||null,this.emailVerified=N.emailVerified||!1,this.phoneNumber=N.phoneNumber||null,this.photoURL=N.photoURL||null,this.isAnonymous=N.isAnonymous||!1,this.tenantId=N.tenantId||null,this.metadata=new fi(N.createdAt||void 0,N.lastLoginAt||void 0)}getIdToken(f){var g=this;return(0,p.Z)(function*(){const E=yield hn(g,g.stsTokenManager.getToken(g.auth,f));return Re(E,g.auth,"internal-error"),g.accessToken!==E&&(g.accessToken=E,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),E})()}getIdTokenResult(f){return function(_){return ja.apply(this,arguments)}(this,f)}reload(){return function(_){return Cr.apply(this,arguments)}(this)}_assign(f){this!==f&&(Re(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(g=>Object.assign({},g)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new mt(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,g=!1){var E=this;return(0,p.Z)(function*(){let A=!1;f.idToken&&f.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(f),A=!0),g&&(yield $e(E)),yield E.auth._persistUserIfCurrent(E),A&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var f=this;return(0,p.Z)(function*(){const g=yield f.getIdToken();return yield hn(f,function(_,f){return tn.apply(this,arguments)}(f.auth,{idToken:g})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,g){var E,A,N,j,ne,Le,Oe,nt;const et=null!==(E=g.displayName)&&void 0!==E?E:void 0,Bt=null!==(A=g.email)&&void 0!==A?A:void 0,rr=null!==(N=g.phoneNumber)&&void 0!==N?N:void 0,Vn=null!==(j=g.photoURL)&&void 0!==j?j:void 0,Ml=null!==(ne=g.tenantId)&&void 0!==ne?ne:void 0,xl=null!==(Le=g._redirectEventId)&&void 0!==Le?Le:void 0,Tu=null!==(Oe=g.createdAt)&&void 0!==Oe?Oe:void 0,dd=null!==(nt=g.lastLoginAt)&&void 0!==nt?nt:void 0,{uid:Po,emailVerified:Ca,isAnonymous:ag,providerData:hd,stsTokenManager:Ey}=g;Re(Po&&Ey,f,"internal-error");const fd=Pi.fromJSON(this.name,Ey);Re("string"==typeof Po,f,"internal-error"),Yr(et,f.name),Yr(Bt,f.name),Re("boolean"==typeof Ca,f,"internal-error"),Re("boolean"==typeof ag,f,"internal-error"),Yr(rr,f.name),Yr(Vn,f.name),Yr(Ml,f.name),Yr(xl,f.name),Yr(Tu,f.name),Yr(dd,f.name);const tf=new mt({uid:Po,auth:f,email:Bt,emailVerified:Ca,displayName:et,isAnonymous:ag,photoURL:Vn,phoneNumber:rr,tenantId:Ml,stsTokenManager:fd,createdAt:Tu,lastLoginAt:dd});return hd&&Array.isArray(hd)&&(tf.providerData=hd.map(nf=>Object.assign({},nf))),xl&&(tf._redirectEventId=xl),tf}static _fromIdTokenResponse(f,g,E=!1){return(0,p.Z)(function*(){const A=new Pi;A.updateFromServerResponse(g);const N=new mt({uid:g.localId,auth:f,stsTokenManager:A,isAnonymous:E});return yield $e(N),N})()}}const pi=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,p.Z)(function*(){return!0})()}_set(g,E){var A=this;return(0,p.Z)(function*(){A.storage[g]=E})()}_get(g){var E=this;return(0,p.Z)(function*(){const A=E.storage[g];return void 0===A?null:A})()}_remove(g){var E=this;return(0,p.Z)(function*(){delete E.storage[g]})()}_addListener(g,E){}_removeListener(g,E){}}return _.type="NONE",_})();function Qr(_,f,g){return`firebase:${_}:${f}:${g}`}class gi{constructor(f,g,E){this.persistence=f,this.auth=g,this.userKey=E;const{config:A,name:N}=this.auth;this.fullUserKey=Qr(this.userKey,A.apiKey,N),this.fullPersistenceKey=Qr("persistence",A.apiKey,N),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,p.Z)(function*(){const g=yield f.persistence._get(f.fullUserKey);return g?mt._fromJSON(f.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var g=this;return(0,p.Z)(function*(){if(g.persistence===f)return;const E=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=f,E?g.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,g,E="authUser"){return(0,p.Z)(function*(){if(!g.length)return new gi(zt(pi),f,E);const A=(yield Promise.all(g.map(function(){var Oe=(0,p.Z)(function*(nt){if(yield nt._isAvailable())return nt});return function(nt){return Oe.apply(this,arguments)}}()))).filter(Oe=>Oe);let N=A[0]||zt(pi);const j=Qr(E,f.config.apiKey,f.name);let ne=null;for(const Oe of g)try{const nt=yield Oe._get(j);if(nt){const et=mt._fromJSON(f,nt);Oe!==N&&(ne=et),N=Oe;break}}catch(nt){}const Le=A.filter(Oe=>Oe._shouldAllowMigration);return N._shouldAllowMigration&&Le.length?(N=Le[0],ne&&(yield N._set(j,ne.toJSON())),yield Promise.all(g.map(function(){var Oe=(0,p.Z)(function*(nt){if(nt!==N)try{yield nt._remove(j)}catch(et){}});return function(nt){return Oe.apply(this,arguments)}}())),new gi(N,f,E)):new gi(N,f,E)})()}}function rn(_){const f=_.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(sn(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if($a(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Ga(f))return"Blackberry";if(qa(f))return"Webos";if(ks(f))return"Safari";if((f.includes("chrome/")||mi(f))&&!f.includes("edge/"))return"Chrome";if(Ha(f))return"Android";{const E=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==E?void 0:E.length))return E[1]}return"Other"}function $a(_=(0,F.z$)()){return/firefox\//i.test(_)}function ks(_=(0,F.z$)()){const f=_.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function mi(_=(0,F.z$)()){return/crios\//i.test(_)}function sn(_=(0,F.z$)()){return/iemobile/i.test(_)}function Ha(_=(0,F.z$)()){return/android/i.test(_)}function Ga(_=(0,F.z$)()){return/blackberry/i.test(_)}function qa(_=(0,F.z$)()){return/webos/i.test(_)}function Fs(_=(0,F.z$)()){return/iphone|ipad|ipod/i.test(_)}function Sn(_=(0,F.z$)()){return Fs(_)||Ha(_)||qa(_)||Ga(_)||/windows phone/i.test(_)||sn(_)}function rs(_,f=[]){let g;switch(_){case"Browser":g=rn((0,F.z$)());break;case"Worker":g=`${rn((0,F.z$)())}-${_}`;break;default:g=_}const E=f.length?f.join(","):"FirebaseCore-web";return`${g}/JsCore/${de.SDK_VERSION}/${E}`}class is{constructor(f,g){this.app=f,this.config=g,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _s(this),this.idTokenSubscription=new _s(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=un,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=g.sdkClientVersion}_initializeWithPersistence(f,g){var E=this;return g&&(this._popupRedirectResolver=zt(g)),this._initializationPromise=this.queue((0,p.Z)(function*(){var A,N;E._deleted||(E.persistenceManager=yield gi.create(E,f),!E._deleted&&((null===(A=E._popupRedirectResolver)||void 0===A?void 0:A._shouldInitProactively)&&(yield E._popupRedirectResolver._initialize(E)),yield E.initializeCurrentUser(g),E.lastNotifiedUid=(null===(N=E.currentUser)||void 0===N?void 0:N.uid)||null,!E._deleted&&(E._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,p.Z)(function*(){if(f._deleted)return;const g=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||g){if(f.currentUser&&g&&f.currentUser.uid===g.uid)return f._currentUser._assign(g),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(g)}})()}initializeCurrentUser(f){var g=this;return(0,p.Z)(function*(){var E;let A=yield g.assertedPersistence.getCurrentUser();if(f&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const N=null===(E=g.redirectUser)||void 0===E?void 0:E._redirectEventId,j=null==A?void 0:A._redirectEventId,ne=yield g.tryRedirectSignIn(f);(!N||N===j)&&(null==ne?void 0:ne.user)&&(A=ne.user)}return A?A._redirectEventId?(Re(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===A._redirectEventId?g.directlySetCurrentUser(A):g.reloadAndSetCurrentUserOrClear(A)):g.reloadAndSetCurrentUserOrClear(A):g.directlySetCurrentUser(null)})()}tryRedirectSignIn(f){var g=this;return(0,p.Z)(function*(){let E=null;try{E=yield g._popupRedirectResolver._completeRedirectFn(g,f,!0)}catch(A){yield g._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(f){var g=this;return(0,p.Z)(function*(){try{yield $e(f)}catch(E){if("auth/network-request-failed"!==E.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var f=this;return(0,p.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var g=this;return(0,p.Z)(function*(){const E=f?(0,F.m9)(f):null;return E&&Re(E.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(E&&E._clone(g))})()}_updateCurrentUser(f){var g=this;return(0,p.Z)(function*(){if(!g._deleted)return f&&Re(g.tenantId===f.tenantId,g,"tenant-id-mismatch"),g.queue((0,p.Z)(function*(){yield g.directlySetCurrentUser(f),g.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,p.Z)(function*(){return(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null)})()}setPersistence(f){var g=this;return this.queue((0,p.Z)(function*(){yield g.assertedPersistence.setPersistence(zt(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new F.LL("auth","Firebase",f())}onAuthStateChanged(f,g,E){return this.registerStateListener(this.authStateSubscription,f,g,E)}onIdTokenChanged(f,g,E){return this.registerStateListener(this.idTokenSubscription,f,g,E)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,g){var E=this;return(0,p.Z)(function*(){const A=yield E.getOrInitRedirectPersistenceManager(g);return null===f?A.removeCurrentUser():A.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var g=this;return(0,p.Z)(function*(){if(!g.redirectPersistenceManager){const E=f&&zt(f)||g._popupRedirectResolver;Re(E,g,"argument-error"),g.redirectPersistenceManager=yield gi.create(g,[zt(E._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(f){var g=this;return(0,p.Z)(function*(){var E,A;return g._isInitialized&&(yield g.queue((0,p.Z)(function*(){}))),(null===(E=g._currentUser)||void 0===E?void 0:E._redirectEventId)===f?g._currentUser:(null===(A=g.redirectUser)||void 0===A?void 0:A._redirectEventId)===f?g.redirectUser:null})()}_persistUserIfCurrent(f){var g=this;return(0,p.Z)(function*(){if(f===g.currentUser)return g.queue((0,p.Z)(function*(){return g.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(g=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,g,E,A){if(this._deleted)return()=>{};const N="function"==typeof g?g:g.next.bind(g),j=this._isInitialized?Promise.resolve():this._initializationPromise;return Re(j,this,"internal-error"),j.then(()=>N(this.currentUser)),"function"==typeof g?f.addObserver(g,E,A):f.addObserver(g)}directlySetCurrentUser(f){var g=this;return(0,p.Z)(function*(){g.currentUser&&g.currentUser!==f&&(g._currentUser._stopProactiveRefresh(),f&&g.isProactiveRefreshEnabled&&f._startProactiveRefresh()),g.currentUser=f,f?yield g.assertedPersistence.setCurrentUser(f):yield g.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=rs(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function tr(_){return(0,F.m9)(_)}class _s{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,F.ne)(g=>this.observer=g)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function yi(_){const f=_.indexOf(":");return f<0?"":_.substr(0,f+1)}function Fm(_){if(!_)return null;const f=Number(_);return isNaN(f)?null:f}class ea{constructor(f,g){this.providerId=f,this.signInMethod=g}toJSON(){return ar("not implemented")}_getIdTokenResponse(f){return ar("not implemented")}_linkToIdToken(f,g){return ar("not implemented")}_getReauthenticationResolver(f){return ar("not implemented")}}function Dp(_,f){return vh.apply(this,arguments)}function vh(){return(vh=(0,p.Z)(function*(_,f){return Et(_,"POST","/v1/accounts:resetPassword",en(_,f))})).apply(this,arguments)}function Ap(_,f){return Eh.apply(this,arguments)}function Eh(){return(Eh=(0,p.Z)(function*(_,f){return Et(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Lm(_,f){return za.apply(this,arguments)}function za(){return(za=(0,p.Z)(function*(_,f){return Et(_,"POST","/v1/accounts:update",en(_,f))})).apply(this,arguments)}function wh(){return(wh=(0,p.Z)(function*(_,f){return V(_,"POST","/v1/accounts:signInWithPassword",en(_,f))})).apply(this,arguments)}function Ic(_,f){return Ch.apply(this,arguments)}function Ch(){return(Ch=(0,p.Z)(function*(_,f){return Et(_,"POST","/v1/accounts:sendOobCode",en(_,f))})).apply(this,arguments)}function Vm(_,f){return Ih.apply(this,arguments)}function Ih(){return(Ih=(0,p.Z)(function*(_,f){return Ic(_,f)})).apply(this,arguments)}function Um(_,f){return Sp.apply(this,arguments)}function Sp(){return(Sp=(0,p.Z)(function*(_,f){return Ic(_,f)})).apply(this,arguments)}function Qu(_,f){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,p.Z)(function*(_,f){return Ic(_,f)})).apply(this,arguments)}function bc(_,f){return bh.apply(this,arguments)}function bh(){return(bh=(0,p.Z)(function*(_,f){return Ic(_,f)})).apply(this,arguments)}function Li(){return(Li=(0,p.Z)(function*(_,f){return V(_,"POST","/v1/accounts:signInWithEmailLink",en(_,f))})).apply(this,arguments)}function Vs(){return(Vs=(0,p.Z)(function*(_,f){return V(_,"POST","/v1/accounts:signInWithEmailLink",en(_,f))})).apply(this,arguments)}class na extends ea{constructor(f,g,E,A=null){super("password",E),this._email=f,this._password=g,this._tenantId=A}static _fromEmailAndPassword(f,g){return new na(f,g,"password")}static _fromEmailAndCode(f,g,E=null){return new na(f,g,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(f){var g=this;return(0,p.Z)(function*(){switch(g.signInMethod){case"password":return function(_,f){return wh.apply(this,arguments)}(f,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function(_,f){return Li.apply(this,arguments)}(f,{email:g._email,oobCode:g._password});default:$t(f,"internal-error")}})()}_linkToIdToken(f,g){var E=this;return(0,p.Z)(function*(){switch(E.signInMethod){case"password":return Ap(f,{idToken:g,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function(_,f){return Vs.apply(this,arguments)}(f,{idToken:g,email:E._email,oobCode:E._password});default:$t(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Us(_,f){return Xu.apply(this,arguments)}function Xu(){return(Xu=(0,p.Z)(function*(_,f){return V(_,"POST","/v1/accounts:signInWithIdp",en(_,f))})).apply(this,arguments)}class mr extends ea{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const g=new mr(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(g.idToken=f.idToken),f.accessToken&&(g.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(g.nonce=f.nonce),f.pendingToken&&(g.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(g.accessToken=f.oauthToken,g.secret=f.oauthTokenSecret):$t("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:E,signInMethod:A}=g,N=oe(g,["providerId","signInMethod"]);if(!E||!A)return null;const j=new mr(E,A);return j.idToken=N.idToken||void 0,j.accessToken=N.accessToken||void 0,j.secret=N.secret,j.nonce=N.nonce,j.pendingToken=N.pendingToken||null,j}_getIdTokenResponse(f){return Us(f,this.buildRequest())}_linkToIdToken(f,g){const E=this.buildRequest();return E.idToken=g,Us(f,E)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,Us(f,g)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),f.postBody=(0,F.xO)(g)}return f}}function vs(_,f){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,p.Z)(function*(_,f){return Et(_,"POST","/v1/accounts:sendVerificationCode",en(_,f))})).apply(this,arguments)}function Ir(){return(Ir=(0,p.Z)(function*(_,f){return V(_,"POST","/v1/accounts:signInWithPhoneNumber",en(_,f))})).apply(this,arguments)}function Tc(){return(Tc=(0,p.Z)(function*(_,f){const g=yield V(_,"POST","/v1/accounts:signInWithPhoneNumber",en(_,f));if(g.temporaryProof)throw Ye(_,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const el={USER_NOT_FOUND:"user-not-found"};function Za(){return(Za=(0,p.Z)(function*(_,f){return V(_,"POST","/v1/accounts:signInWithPhoneNumber",en(_,Object.assign(Object.assign({},f),{operation:"REAUTH"})),el)})).apply(this,arguments)}class go extends ea{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,g){return new go({verificationId:f,verificationCode:g})}static _fromTokenResponse(f,g){return new go({phoneNumber:f,temporaryProof:g})}_getIdTokenResponse(f){return function(_,f){return Ir.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,g){return function(_,f){return Tc.apply(this,arguments)}(f,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function(_,f){return Za.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:g,verificationId:E,verificationCode:A}=this.params;return f&&g?{temporaryProof:f,phoneNumber:g}:{sessionInfo:E,code:A}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:g,verificationCode:E,phoneNumber:A,temporaryProof:N}=f;return E||g||A||N?new go({verificationId:g,verificationCode:E,phoneNumber:A,temporaryProof:N}):null}}class mo{constructor(f){var g,E,A,N,j,ne;const Le=(0,F.zd)((0,F.pd)(f)),Oe=null!==(g=Le.apiKey)&&void 0!==g?g:null,nt=null!==(E=Le.oobCode)&&void 0!==E?E:null,et=function(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(A=Le.mode)&&void 0!==A?A:null);Re(Oe&&nt&&et,"argument-error"),this.apiKey=Oe,this.operation=et,this.code=nt,this.continueUrl=null!==(N=Le.continueUrl)&&void 0!==N?N:null,this.languageCode=null!==(j=Le.languageCode)&&void 0!==j?j:null,this.tenantId=null!==(ne=Le.tenantId)&&void 0!==ne?ne:null}static parseLink(f){const g=function(_){const f=(0,F.zd)((0,F.pd)(_)).link,g=f?(0,F.zd)((0,F.pd)(f)).deep_link_id:null,E=(0,F.zd)((0,F.pd)(_)).deep_link_id;return(E?(0,F.zd)((0,F.pd)(E)).link:null)||E||g||f||_}(f);try{return new mo(g)}catch(E){return null}}}let yo=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(g,E){return na._fromEmailAndPassword(g,E)}static credentialWithLink(g,E){const A=mo.parseLink(E);return Re(A,"argument-error"),na._fromEmailAndCode(g,A.code,A.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class Pr{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class Vi extends Pr{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class On extends Vi{static credentialFromJSON(f){const g="string"==typeof f?JSON.parse(f):f;return Re("providerId"in g&&"signInMethod"in g,"argument-error"),mr._fromParams(g)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return Re(f.idToken||f.accessToken,"argument-error"),mr._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return On.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return On.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:g,oauthAccessToken:E,oauthTokenSecret:A,pendingToken:N,nonce:j,providerId:ne}=f;if(!E&&!A&&!g&&!N||!ne)return null;try{return new On(ne)._credential({idToken:g,accessToken:E,nonce:j,pendingToken:N})}catch(Le){return null}}}let tl=(()=>{class _ extends Vi{constructor(){super("facebook.com")}static credential(g){return mr._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch(E){return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),_o=(()=>{class _ extends Vi{constructor(){super("google.com"),this.addScope("profile")}static credential(g,E){return mr._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:E})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:E,oauthAccessToken:A}=g;if(!E&&!A)return null;try{return _.credential(E,A)}catch(N){return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),vo=(()=>{class _ extends Vi{constructor(){super("github.com")}static credential(g){return mr._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch(E){return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class Es extends ea{constructor(f,g){super(f,f),this.pendingToken=g}_getIdTokenResponse(f){return Us(f,this.buildRequest())}_linkToIdToken(f,g){const E=this.buildRequest();return E.idToken=g,Us(f,E)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,Us(f,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:E,signInMethod:A,pendingToken:N}=g;return E&&A&&N&&E===A?new Es(E,N):null}static _create(f,g){return new Es(f,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class nl extends Pr{constructor(f){Re(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return nl.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return nl.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const g=Es.fromJSON(f);return Re(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:g,providerId:E}=f;if(!g||!E)return null;try{return Es._create(E,g)}catch(A){return null}}}let Ui=(()=>{class _ extends Vi{constructor(){super("twitter.com")}static credential(g,E){return mr._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:E})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:E,oauthTokenSecret:A}=g;if(!E||!A)return null;try{return _.credential(E,A)}catch(N){return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function Ac(_,f){return ra.apply(this,arguments)}function ra(){return(ra=(0,p.Z)(function*(_,f){return V(_,"POST","/v1/accounts:signUp",en(_,f))})).apply(this,arguments)}class Xe{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,g,E,A=!1){return(0,p.Z)(function*(){const N=yield mt._fromIdTokenResponse(f,E,A),j=Sc(E);return new Xe({user:N,providerId:j,_tokenResponse:E,operationType:g})})()}static _forOperation(f,g,E){return(0,p.Z)(function*(){yield f._updateTokensIfNecessary(E,!0);const A=Sc(E);return new Xe({user:f,providerId:A,_tokenResponse:E,operationType:g})})()}}function Sc(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function rl(){return(rl=(0,p.Z)(function*(_){var f;const g=tr(_);if(yield g._initializationPromise,null===(f=g.currentUser)||void 0===f?void 0:f.isAnonymous)return new Xe({user:g.currentUser,providerId:null,operationType:"signIn"});const E=yield Ac(g,{returnSecureToken:!0}),A=yield Xe._fromIdTokenResponse(g,"signIn",E,!0);return yield g._updateCurrentUser(A.user),A})).apply(this,arguments)}class Qa extends F.ZR{constructor(f,g,E,A){var N;super(g.code,g.message),this.operationType=E,this.user=A,Object.setPrototypeOf(this,Qa.prototype),this.customData={appName:f.name,tenantId:null!==(N=f.tenantId)&&void 0!==N?N:void 0,_serverResponse:g.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(f,g,E,A){return new Qa(f,g,E,A)}}function Nc(_,f,g,E){return("reauthenticate"===f?g._getReauthenticationResolver(_):g._getIdTokenResponse(_)).catch(N=>{throw"auth/multi-factor-auth-required"===N.code?Qa._fromErrorAndOperation(_,N,f,E):N})}function il(_){return new Set(_.map(({providerId:f})=>f).filter(f=>!!f))}function Ae(){return(Ae=(0,p.Z)(function*(_,f){const g=(0,F.m9)(_);yield fn(!0,g,f);const{providerUserInfo:E}=yield fr(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[f]}),A=il(E||[]);return g.providerData=g.providerData.filter(N=>A.has(N.providerId)),A.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function Lt(_,f){return ss.apply(this,arguments)}function ss(){return(ss=(0,p.Z)(function*(_,f,g=!1){const E=yield hn(_,f._linkToIdToken(_.auth,yield _.getIdToken()),g);return Xe._forOperation(_,"link",E)})).apply(this,arguments)}function fn(_,f,g){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,p.Z)(function*(_,f,g){yield $e(f);const A=!1===_?"provider-already-linked":"no-such-provider";Re(il(f.providerData).has(g)===_,f.auth,A)})).apply(this,arguments)}function Eo(_,f){return nr.apply(this,arguments)}function nr(){return(nr=(0,p.Z)(function*(_,f,g=!1){const{auth:E}=_,A="reauthenticate";try{const N=yield hn(_,Nc(E,A,f,_),g);Re(N.idToken,E,"internal-error");const j=fo(N.idToken);Re(j,E,"internal-error");const{sub:ne}=j;return Re(_.uid===ne,E,"user-mismatch"),Xe._forOperation(_,A,N)}catch(N){throw"auth/user-not-found"===(null==N?void 0:N.code)&&$t(E,"user-mismatch"),N}})).apply(this,arguments)}function Ja(_,f){return js.apply(this,arguments)}function js(){return(js=(0,p.Z)(function*(_,f,g=!1){const E="signIn",A=yield Nc(_,E,f),N=yield Xe._fromIdTokenResponse(_,E,A);return g||(yield _._updateCurrentUser(N.user)),N})).apply(this,arguments)}function Xa(_,f){return sl.apply(this,arguments)}function sl(){return(sl=(0,p.Z)(function*(_,f){return Ja(tr(_),f)})).apply(this,arguments)}function ia(_,f){return sa.apply(this,arguments)}function sa(){return(sa=(0,p.Z)(function*(_,f){const g=(0,F.m9)(_);return yield fn(!1,g,f.providerId),Lt(g,f)})).apply(this,arguments)}function ur(_,f){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,p.Z)(function*(_,f){return Eo((0,F.m9)(_),f)})).apply(this,arguments)}function ol(_,f){return ji.apply(this,arguments)}function ji(){return(ji=(0,p.Z)(function*(_,f){return V(_,"POST","/v1/accounts:signInWithCustomToken",en(_,f))})).apply(this,arguments)}function al(){return(al=(0,p.Z)(function*(_,f){const g=tr(_),E=yield ol(g,{token:f,returnSecureToken:!0}),A=yield Xe._fromIdTokenResponse(g,"signIn",E);return yield g._updateCurrentUser(A.user),A})).apply(this,arguments)}class $s{constructor(f,g){this.factorId=f,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(f,g){return"phoneInfo"in g?wo._fromServerResponse(f,g):$t(f,"internal-error")}}class wo extends $s{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,g){return new wo(g)}}function ul(_,f,g){var E;Re((null===(E=g.url)||void 0===E?void 0:E.length)>0,_,"invalid-continue-uri"),Re(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),f.continueUrl=g.url,f.dynamicLinkDomain=g.dynamicLinkDomain,f.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(Re(g.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),f.iOSBundleId=g.iOS.bundleId),g.android&&(Re(g.android.packageName.length>0,_,"missing-android-pkg-name"),f.androidInstallApp=g.android.installApp,f.androidMinimumVersionCode=g.android.minimumVersion,f.androidPackageName=g.android.packageName)}function aa(){return(aa=(0,p.Z)(function*(_,f,g){const E=(0,F.m9)(_),A={requestType:"PASSWORD_RESET",email:f};g&&ul(E,A,g),yield Um(E,A)})).apply(this,arguments)}function eu(){return(eu=(0,p.Z)(function*(_,f,g){yield Dp((0,F.m9)(_),{oobCode:f,newPassword:g})})).apply(this,arguments)}function ua(){return(ua=(0,p.Z)(function*(_,f){yield Lm((0,F.m9)(_),{oobCode:f})})).apply(this,arguments)}function la(_,f){return ca.apply(this,arguments)}function ca(){return(ca=(0,p.Z)(function*(_,f){const g=(0,F.m9)(_),E=yield Dp(g,{oobCode:f}),A=E.requestType;switch(Re(A,g,"internal-error"),A){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Re(E.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Re(E.mfaInfo,g,"internal-error");default:Re(E.email,g,"internal-error")}let N=null;return E.mfaInfo&&(N=$s._fromServerResponse(tr(g),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:N},operation:A}})).apply(this,arguments)}function tu(){return(tu=(0,p.Z)(function*(_,f){const{data:g}=yield la((0,F.m9)(_),f);return g.email})).apply(this,arguments)}function da(){return(da=(0,p.Z)(function*(_,f,g){const E=tr(_),A=yield Ac(E,{returnSecureToken:!0,email:f,password:g}),N=yield Xe._fromIdTokenResponse(E,"signIn",A);return yield E._updateCurrentUser(N.user),N})).apply(this,arguments)}function zn(){return(zn=(0,p.Z)(function*(_,f,g){const E=(0,F.m9)(_),A={requestType:"EMAIL_SIGNIN",email:f};Re(g.handleCodeInApp,E,"argument-error"),g&&ul(E,A,g),yield Qu(E,A)})).apply(this,arguments)}function Pc(){return(Pc=(0,p.Z)(function*(_,f,g){const E=(0,F.m9)(_),A=yo.credentialWithLink(f,g||lt());return Re(A._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),Xa(E,A)})).apply(this,arguments)}function $m(_,f){return Rh.apply(this,arguments)}function Rh(){return(Rh=(0,p.Z)(function*(_,f){return Et(_,"POST","/v1/accounts:createAuthUri",en(_,f))})).apply(this,arguments)}function Nh(){return(Nh=(0,p.Z)(function*(_,f){const E={identifier:f,continueUri:ft()?lt():"http://localhost"},{signinMethods:A}=yield $m((0,F.m9)(_),E);return A||[]})).apply(this,arguments)}function ws(){return(ws=(0,p.Z)(function*(_,f){const g=(0,F.m9)(_),A={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};f&&ul(g.auth,A,f);const{email:N}=yield Vm(g.auth,A);N!==_.email&&(yield _.reload())})).apply(this,arguments)}function fa(){return(fa=(0,p.Z)(function*(_,f,g){const E=(0,F.m9)(_),N={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:f};g&&ul(E.auth,N,g);const{email:j}=yield bc(E.auth,N);j!==_.email&&(yield _.reload())})).apply(this,arguments)}function kc(_,f){return Fc.apply(this,arguments)}function Fc(){return(Fc=(0,p.Z)(function*(_,f){return Et(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function pn(){return(pn=(0,p.Z)(function*(_,{displayName:f,photoURL:g}){if(void 0===f&&void 0===g)return;const E=(0,F.m9)(_),N={idToken:yield E.getIdToken(),displayName:f,photoUrl:g,returnSecureToken:!0},j=yield hn(E,kc(E.auth,N));E.displayName=j.displayName||null,E.photoURL=j.photoUrl||null;const ne=E.providerData.find(({providerId:Le})=>"password"===Le);ne&&(ne.displayName=E.displayName,ne.photoURL=E.photoURL),yield E._updateTokensIfNecessary(j)})).apply(this,arguments)}function Lc(_,f,g){return ga.apply(this,arguments)}function ga(){return(ga=(0,p.Z)(function*(_,f,g){const{auth:E}=_,N={idToken:yield _.getIdToken(),returnSecureToken:!0};f&&(N.email=f),g&&(N.password=g);const j=yield hn(_,Ap(E,N));yield _._updateTokensIfNecessary(j,!0)})).apply(this,arguments)}class ru{constructor(f,g,E={}){this.isNewUser=f,this.providerId=g,this.profile=E}}class Vc extends ru{constructor(f,g,E,A){super(f,g,E),this.username=A}}class Hm extends ru{constructor(f,g){super(f,"facebook.com",g)}}class Co extends Vc{constructor(f,g){super(f,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class dl extends ru{constructor(f,g){super(f,"google.com",g)}}class xh extends Vc{constructor(f,g,E){super(f,"twitter.com",g,E)}}function lr(_){const{user:f,_tokenResponse:g}=_;return f.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function(_){var f,g;if(!_)return null;const{providerId:E}=_,A=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},N=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!E&&(null==_?void 0:_.idToken)){const j=null===(g=null===(f=fo(_.idToken))||void 0===f?void 0:f.firebase)||void 0===g?void 0:g.sign_in_provider;if(j)return new ru(N,"anonymous"!==j&&"custom"!==j?j:null)}if(!E)return null;switch(E){case"facebook.com":return new Hm(N,A);case"github.com":return new Co(N,A);case"google.com":return new dl(N,A);case"twitter.com":return new xh(N,A,_.screenName||null);case"custom":case"anonymous":return new ru(N,null);default:return new ru(N,E,A)}}(g)}class Io{constructor(f,g){this.type=f,this.credential=g}static _fromIdtoken(f){return new Io("enroll",f)}static _fromMfaPendingCredential(f){return new Io("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var g,E;if(null==f?void 0:f.multiFactorSession){if(null===(g=f.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return Io._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null===(E=f.multiFactorSession)||void 0===E?void 0:E.idToken)return Io._fromIdtoken(f.multiFactorSession.idToken)}return null}}class gl{constructor(f,g,E){this.session=f,this.hints=g,this.signInResolver=E}static _fromError(f,g){const E=tr(f),A=g.customData._serverResponse,N=(A.mfaInfo||[]).map(ne=>$s._fromServerResponse(E,ne));Re(A.mfaPendingCredential,E,"internal-error");const j=Io._fromMfaPendingCredential(A.mfaPendingCredential);return new gl(j,N,function(){var ne=(0,p.Z)(function*(Le){const Oe=yield Le._process(E,j);delete A.mfaInfo,delete A.mfaPendingCredential;const nt=Object.assign(Object.assign({},A),{idToken:Oe.idToken,refreshToken:Oe.refreshToken});switch(g.operationType){case"signIn":const et=yield Xe._fromIdTokenResponse(E,g.operationType,nt);return yield E._updateCurrentUser(et.user),et;case"reauthenticate":return Re(g.user,E,"internal-error"),Xe._forOperation(g.user,g.operationType,nt);default:$t(E,"internal-error")}});return function(Le){return ne.apply(this,arguments)}}())}resolveSignIn(f){var g=this;return(0,p.Z)(function*(){return g.signInResolver(f)})()}}function Wm(_,f){return Et(_,"POST","/v2/accounts/mfaEnrollment:start",en(_,f))}class pt{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(E=>$s._fromServerResponse(f.auth,E)))})}static _fromUser(f){return new pt(f)}getSession(){var f=this;return(0,p.Z)(function*(){return Io._fromIdtoken(yield f.user.getIdToken())})()}enroll(f,g){var E=this;return(0,p.Z)(function*(){const A=f,N=yield E.getSession(),j=yield hn(E.user,A._process(E.user.auth,N,g));return yield E.user._updateTokensIfNecessary(j),E.user.reload()})()}unenroll(f){var g=this;return(0,p.Z)(function*(){const E="string"==typeof f?f:f.uid,A=yield g.user.getIdToken(),N=yield hn(g.user,function(_,f){return Et(_,"POST","/v2/accounts/mfaEnrollment:withdraw",en(_,f))}(g.user.auth,{idToken:A,mfaEnrollmentId:E}));g.enrolledFactors=g.enrolledFactors.filter(({uid:j})=>j!==E),yield g.user._updateTokensIfNecessary(N);try{yield g.user.reload()}catch(j){if("auth/user-token-expired"!==j.code)throw j}})()}}const Rn=new WeakMap,Pn="__sak";class Oh{constructor(f,g){this.storageRetriever=f,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Pn,"1"),this.storage.removeItem(Pn),Promise.resolve(!0)):Promise.resolve(!1)}catch(f){return Promise.resolve(!1)}}_set(f,g){return this.storage.setItem(f,JSON.stringify(g)),Promise.resolve()}_get(f){const g=this.storage.getItem(f);return Promise.resolve(g?JSON.parse(g):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const au=(()=>{class _ extends Oh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,E)=>this.onStorageEvent(g,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const _=(0,F.z$)();return ks(_)||Fs(_)}()&&function(){try{return!(!window||window===window.top)}catch(_){return!1}}(),this.fallbackToPolling=Sn(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const E of Object.keys(this.listeners)){const A=this.storage.getItem(E),N=this.localCache[E];A!==N&&g(E,N,A)}}onStorageEvent(g,E=!1){if(!g.key)return void this.forAllChangedKeys((ne,Le,Oe)=>{this.notifyListeners(ne,Oe)});const A=g.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ne=this.storage.getItem(A);if(g.newValue!==ne)null!==g.newValue?this.storage.setItem(A,g.newValue):this.storage.removeItem(A);else if(this.localCache[A]===g.newValue&&!E)return}const N=()=>{const ne=this.storage.getItem(A);!E&&this.localCache[A]===ne||this.notifyListeners(A,ne)},j=this.storage.getItem(A);(0,F.w1)()&&10===document.documentMode&&j!==g.newValue&&g.newValue!==g.oldValue?setTimeout(N,10):N()}notifyListeners(g,E){this.localCache[g]=E;const A=this.listeners[g];if(A)for(const N of Array.from(A))N(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,E,A)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:E,newValue:A}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(E)}_removeListener(g,E){this.listeners[g]&&(this.listeners[g].delete(E),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,E){var A=()=>super._set,N=this;return(0,p.Z)(function*(){yield A().call(N,g,E),N.localCache[g]=JSON.stringify(E)})()}_get(g){var E=()=>super._get,A=this;return(0,p.Z)(function*(){const N=yield E().call(A,g);return A.localCache[g]=JSON.stringify(N),N})()}_remove(g){var E=()=>super._remove,A=this;return(0,p.Z)(function*(){yield E().call(A,g),delete A.localCache[g]})()}}return _.type="LOCAL",_})(),ht=(()=>{class _ extends Oh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,E){}_removeListener(g,E){}}return _.type="SESSION",_})();let Km=(()=>{class _{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const E=this.receivers.find(N=>N.isListeningto(g));if(E)return E;const A=new _(g);return this.receivers.push(A),A}isListeningto(g){return this.eventTarget===g}handleEvent(g){var E=this;return(0,p.Z)(function*(){const A=g,{eventId:N,eventType:j,data:ne}=A.data,Le=E.handlersMap[j];if(!(null==Le?void 0:Le.size))return;A.ports[0].postMessage({status:"ack",eventId:N,eventType:j});const Oe=Array.from(Le).map(function(){var et=(0,p.Z)(function*(Bt){return Bt(A.origin,ne)});return function(Bt){return et.apply(this,arguments)}}()),nt=yield function(_){return Promise.all(_.map(function(){var f=(0,p.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(E){return{fulfilled:!1,reason:E}}});return function(g){return f.apply(this,arguments)}}()))}(Oe);A.ports[0].postMessage({status:"done",eventId:N,eventType:j,response:nt})})()}_subscribe(g,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(E)}_unsubscribe(g,E){this.handlersMap[g]&&E&&this.handlersMap[g].delete(E),(!E||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function To(_="",f=10){let g="";for(let E=0;E<f;E++)g+=Math.floor(10*Math.random());return _+g}class jc{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,g,E=50){var A=this;return(0,p.Z)(function*(){const N="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!N)throw new Error("connection_unavailable");let j,ne;return new Promise((Le,Oe)=>{const nt=To("",20);N.port1.start();const et=setTimeout(()=>{Oe(new Error("unsupported_event"))},E);ne={messageChannel:N,onMessage(Bt){const rr=Bt;if(rr.data.eventId===nt)switch(rr.data.status){case"ack":clearTimeout(et),j=setTimeout(()=>{Oe(new Error("timeout"))},3e3);break;case"done":clearTimeout(j),Le(rr.data.response);break;default:clearTimeout(et),clearTimeout(j),Oe(new Error("invalid_response"))}}},A.handlers.add(ne),N.port1.addEventListener("message",ne.onMessage),A.target.postMessage({eventType:f,eventId:nt,data:g},[N.port2])}).finally(()=>{ne&&A.removeMessageHandler(ne)})})()}}function Pt(){return window}function lu(){return void 0!==Pt().WorkerGlobalScope&&"function"==typeof Pt().importScripts}function Cs(){return(Cs=(0,p.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(_){return null}})).apply(this,arguments)}const Hi="firebaseLocalStorageDb",Fr="firebaseLocalStorage",Hc="fbase_key";class du{constructor(f){this.request=f}toPromise(){return new Promise((f,g)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function bs(_,f){return _.transaction([Fr],f?"readwrite":"readonly").objectStore(Fr)}function Lr(){const _=indexedDB.open(Hi,1);return new Promise((f,g)=>{_.addEventListener("error",()=>{g(_.error)}),_.addEventListener("upgradeneeded",()=>{const E=_.result;try{E.createObjectStore(Fr,{keyPath:Hc})}catch(A){g(A)}}),_.addEventListener("success",(0,p.Z)(function*(){const E=_.result;E.objectStoreNames.contains(Fr)?f(E):(E.close(),yield function(){const _=indexedDB.deleteDatabase(Hi);return new du(_).toPromise()}(),f(yield Lr()))}))})}function Cn(_,f,g){return Ph.apply(this,arguments)}function Ph(){return(Ph=(0,p.Z)(function*(_,f,g){const E=bs(_,!0).put({[Hc]:f,value:g});return new du(E).toPromise()})).apply(this,arguments)}function _l(){return(_l=(0,p.Z)(function*(_,f){const g=bs(_,!1).get(f),E=yield new du(g).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function hu(_,f){const g=bs(_,!0).delete(f);return new du(g).toPromise()}const yr=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,p.Z)(function*(){return g.db||(g.db=yield Lr()),g.db})()}_withRetries(g){var E=this;return(0,p.Z)(function*(){let A=0;for(;;)try{const N=yield E._openDb();return yield g(N)}catch(N){if(A++>3)throw N;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,p.Z)(function*(){return lu()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,p.Z)(function*(){g.receiver=Km._getInstance(lu()?self:null),g.receiver._subscribe("keyChanged",function(){var E=(0,p.Z)(function*(A,N){return{keyProcessed:(yield g._poll()).includes(N.key)}});return function(A,N){return E.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var E=(0,p.Z)(function*(A,N){return["keyChanged"]});return function(A,N){return E.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,p.Z)(function*(){var E,A;if(g.activeServiceWorker=yield function(){return Cs.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new jc(g.activeServiceWorker);const N=yield g.sender._send("ping",{},800);!N||(null===(E=N[0])||void 0===E?void 0:E.fulfilled)&&(null===(A=N[0])||void 0===A?void 0:A.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var E=this;return(0,p.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function(){var _;return(null===(_=null==navigator?void 0:navigator.serviceWorker)||void 0===_?void 0:_.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:g},E.serviceWorkerReceiverAvailable?800:50)}catch(A){}})()}_isAvailable(){return(0,p.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Lr();return yield Cn(g,Pn,"1"),yield hu(g,Pn),!0}catch(g){}return!1})()}_withPendingWrite(g){var E=this;return(0,p.Z)(function*(){E.pendingWrites++;try{yield g()}finally{E.pendingWrites--}})()}_set(g,E){var A=this;return(0,p.Z)(function*(){return A._withPendingWrite((0,p.Z)(function*(){return yield A._withRetries(N=>Cn(N,g,E)),A.localCache[g]=E,A.notifyServiceWorker(g)}))})()}_get(g){var E=this;return(0,p.Z)(function*(){const A=yield E._withRetries(N=>function(_,f){return _l.apply(this,arguments)}(N,g));return E.localCache[g]=A,A})()}_remove(g){var E=this;return(0,p.Z)(function*(){return E._withPendingWrite((0,p.Z)(function*(){return yield E._withRetries(A=>hu(A,g)),delete E.localCache[g],E.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,p.Z)(function*(){const E=yield g._withRetries(j=>{const ne=bs(j,!1).getAll();return new du(ne).toPromise()});if(!E)return[];if(0!==g.pendingWrites)return[];const A=[],N=new Set;for(const{fbase_key:j,value:ne}of E)N.add(j),JSON.stringify(g.localCache[j])!==JSON.stringify(ne)&&(g.notifyListeners(j,ne),A.push(j));for(const j of Object.keys(g.localCache))g.localCache[j]&&!N.has(j)&&(g.notifyListeners(j,null),A.push(j));return A})()}notifyListeners(g,E){this.localCache[g]=E;const A=this.listeners[g];if(A)for(const N of Array.from(A))N(E)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,p.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(E)}_removeListener(g,E){this.listeners[g]&&(this.listeners[g].delete(E),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function br(_,f){return Et(_,"POST","/v2/accounts/mfaSignIn:start",en(_,f))}function qs(){return(qs=(0,p.Z)(function*(_){return(yield Et(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function kh(_){return new Promise((f,g)=>{const E=document.createElement("script");E.setAttribute("src",_),E.onload=f,E.onerror=A=>{const N=Tn("internal-error");N.customData=A,g(N)},E.type="text/javascript",E.charset="UTF-8",function(){var _,f;return null!==(f=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==f?f:document}().appendChild(E)})}function Vr(_){return`__${_}${Math.floor(1e6*Math.random())}`}const In=1e12;class cs{constructor(f){this.auth=f,this.counter=In,this._widgets=new Map}render(f,g){const E=this.counter;return this._widgets.set(E,new Gi(f,this.auth.name,g||{})),this.counter++,E}reset(f){var g;const E=f||In;null===(g=this._widgets.get(E))||void 0===g||g.delete(),this._widgets.delete(E)}getResponse(f){var g;return(null===(g=this._widgets.get(f||In))||void 0===g?void 0:g.getResponse())||""}execute(f){var g=this;return(0,p.Z)(function*(){var E;return null===(E=g._widgets.get(f||In))||void 0===E||E.execute(),""})()}}class Gi{constructor(f,g,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const A="string"==typeof f?document.getElementById(f):f;Re(A,"argument-error",{appName:g}),this.container=A,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(_){const f=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<50;E++)f.push(g.charAt(Math.floor(Math.random()*g.length)));return f.join("")}();const{callback:f,"expired-callback":g}=this.params;if(f)try{f(this.responseToken)}catch(E){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(E){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const zs=Vr("rcb"),qc=new Jt(3e4,6e4);class kp{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Pt().grecaptcha}load(f,g=""){return Re((_=g).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_),f,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(Pt().grecaptcha):new Promise((E,A)=>{const N=Pt().setTimeout(()=>{A(Tn(f,"network-request-failed"))},qc.get());Pt()[zs]=()=>{Pt().clearTimeout(N),delete Pt()[zs];const ne=Pt().grecaptcha;if(!ne)return void A(Tn(f,"internal-error"));const Le=ne.render;ne.render=(Oe,nt)=>{const et=Le(Oe,nt);return this.counter++,et},this.hostLanguage=g,E(ne)},kh(`https://www.google.com/recaptcha/api.js??${(0,F.xO)({onload:zs,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(N),A(Tn(f,"internal-error"))})});var _}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){return!!Pt().grecaptcha&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Lh{load(f){return(0,p.Z)(function*(){return new cs(f)})()}clearedOneInstance(){}}const So="recaptcha",Zm={theme:"light",type:"image"};class Ws{constructor(f,g=Object.assign({},Zm),E){this.parameters=g,this.type=So,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=tr(E),this.isInvisible="invisible"===this.parameters.size,Re("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const A="string"==typeof f?document.getElementById(f):f;Re(A,this.auth,"argument-error"),this.container=A,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Lh:new kp,this.validateStartingState()}verify(){var f=this;return(0,p.Z)(function*(){f.assertNotDestroyed();const g=yield f.render(),E=f.getAssertedRecaptcha();return E.getResponse(g)||new Promise(N=>{const j=ne=>{!ne||(f.tokenChangeListeners.delete(j),N(ne))};f.tokenChangeListeners.add(j),f.isInvisible&&E.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){Re(!this.parameters.sitekey,this.auth,"argument-error"),Re(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Re("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return g=>{if(this.tokenChangeListeners.forEach(E=>E(g)),"function"==typeof f)f(g);else if("string"==typeof f){const E=Pt()[f];"function"==typeof E&&E(g)}}}assertNotDestroyed(){Re(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,p.Z)(function*(){if(yield f.init(),!f.widgetId){let g=f.container;if(!f.isInvisible){const E=document.createElement("div");g.appendChild(E),g=E}f.widgetId=f.getAssertedRecaptcha().render(g,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,p.Z)(function*(){Re(ft()&&!lu(),f.auth,"internal-error"),yield function(){let _=null;return new Promise(f=>{"complete"!==document.readyState?(_=()=>f(),window.addEventListener("load",_)):f()}).catch(f=>{throw _&&window.removeEventListener("load",_),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const g=yield function(_){return qs.apply(this,arguments)}(f.auth);Re(g,f.auth,"internal-error"),f.parameters.sitekey=g})()}getAssertedRecaptcha(){return Re(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Wc{constructor(f,g){this.verificationId=f,this.onConfirmation=g}confirm(f){const g=go._fromVerification(this.verificationId,f);return this.onConfirmation(g)}}function Ts(){return(Ts=(0,p.Z)(function*(_,f,g){const E=tr(_),A=yield Ds(E,f,(0,F.m9)(g));return new Wc(A,N=>Xa(E,N))})).apply(this,arguments)}function Ur(){return(Ur=(0,p.Z)(function*(_,f,g){const E=(0,F.m9)(_);yield fn(!1,E,"phone");const A=yield Ds(E.auth,f,(0,F.m9)(g));return new Wc(A,N=>ia(E,N))})).apply(this,arguments)}function pu(){return(pu=(0,p.Z)(function*(_,f,g){const E=(0,F.m9)(_),A=yield Ds(E.auth,f,(0,F.m9)(g));return new Wc(A,N=>ur(E,N))})).apply(this,arguments)}function Ds(_,f,g){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,p.Z)(function*(_,f,g){var E;const A=yield g.verify();try{let N;if(Re("string"==typeof A,_,"argument-error"),Re(g.type===So,_,"argument-error"),N="string"==typeof f?{phoneNumber:f}:f,"session"in N){const j=N.session;if("phoneNumber"in N)return Re("enroll"===j.type,_,"internal-error"),(yield Wm(_,{idToken:j.credential,phoneEnrollmentInfo:{phoneNumber:N.phoneNumber,recaptchaToken:A}})).phoneSessionInfo.sessionInfo;{Re("signin"===j.type,_,"internal-error");const ne=(null===(E=N.multiFactorHint)||void 0===E?void 0:E.uid)||N.multiFactorUid;return Re(ne,_,"missing-multi-factor-info"),(yield br(_,{mfaPendingCredential:j.credential,mfaEnrollmentId:ne,phoneSignInInfo:{recaptchaToken:A}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:j}=yield vs(_,{phoneNumber:N.phoneNumber,recaptchaToken:A});return j}}finally{g._reset()}})).apply(this,arguments)}function Ro(){return(Ro=(0,p.Z)(function*(_,f){yield Lt((0,F.m9)(_),f)})).apply(this,arguments)}let I=(()=>{class _{constructor(g){this.providerId=_.PROVIDER_ID,this.auth=tr(g)}verifyPhoneNumber(g,E){return Ds(this.auth,g,(0,F.m9)(E))}static credential(g,E){return go._fromVerification(g,E)}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:E,temporaryProof:A}=g;return E&&A?go._fromTokenResponse(E,A):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function D(_,f){return f?zt(f):(Re(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class M extends ea{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Us(f,this._buildIdpRequest())}_linkToIdToken(f,g){return Us(f,this._buildIdpRequest(g))}_getReauthenticationResolver(f){return Us(f,this._buildIdpRequest())}_buildIdpRequest(f){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(g.idToken=f),g}}function L(_){return Ja(_.auth,new M(_),_.bypassAuthState)}function Z(_){const{auth:f,user:g}=_;return Re(g,f,"internal-error"),Eo(g,new M(_),_.bypassAuthState)}function ue(_){return Se.apply(this,arguments)}function Se(){return(Se=(0,p.Z)(function*(_){const{auth:f,user:g}=_;return Re(g,f,"internal-error"),Lt(g,new M(_),_.bypassAuthState)})).apply(this,arguments)}class Ve{constructor(f,g,E,A,N=!1){this.auth=f,this.resolver=E,this.user=A,this.bypassAuthState=N,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var f=this;return new Promise(function(){var g=(0,p.Z)(function*(E,A){f.pendingPromise={resolve:E,reject:A};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(N){f.reject(N)}});return function(E,A){return g.apply(this,arguments)}}())}onAuthEvent(f){var g=this;return(0,p.Z)(function*(){const{urlResponse:E,sessionId:A,postBody:N,tenantId:j,error:ne,type:Le}=f;if(ne)return void g.reject(ne);const Oe={auth:g.auth,requestUri:E,sessionId:A,tenantId:j||void 0,postBody:N||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Le)(Oe))}catch(nt){g.reject(nt)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return L;case"linkViaPopup":case"linkViaRedirect":return ue;case"reauthViaPopup":case"reauthViaRedirect":return Z;default:$t(this.auth,"internal-error")}}resolve(f){Gn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){Gn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ke=new Jt(2e3,1e4);function ln(){return(ln=(0,p.Z)(function*(_,f,g){const E=tr(_);Ni(_,f,Pr);const A=D(E,g);return new ma(E,"signInViaPopup",f,A).executeNotNull()})).apply(this,arguments)}function Wn(){return(Wn=(0,p.Z)(function*(_,f,g){const E=(0,F.m9)(_);Ni(E.auth,f,Pr);const A=D(E.auth,g);return new ma(E.auth,"reauthViaPopup",f,A,E).executeNotNull()})).apply(this,arguments)}function Zs(){return(Zs=(0,p.Z)(function*(_,f,g){const E=(0,F.m9)(_);Ni(E.auth,f,Pr);const A=D(E.auth,g);return new ma(E.auth,"linkViaPopup",f,A,E).executeNotNull()})).apply(this,arguments)}let ma=(()=>{class _ extends Ve{constructor(g,E,A,N,j){super(g,E,N,j),this.provider=A,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var g=this;return(0,p.Z)(function*(){const E=yield g.execute();return Re(E,g.auth,"internal-error"),E})()}onExecution(){var g=this;return(0,p.Z)(function*(){Gn(1===g.filter.length,"Popup operations only handle one event");const E=To();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],E),g.authWindow.associatedEvent=E,g.resolver._originValidation(g.auth).catch(A=>{g.reject(A)}),g.resolver._isIframeWebStorageSupported(g.auth,A=>{A||g.reject(Tn(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(Tn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const g=()=>{var E,A;this.pollId=(null===(A=null===(E=this.authWindow)||void 0===E?void 0:E.window)||void 0===A?void 0:A.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Tn(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,ke.get())};g()}}return _.currentPopupAction=null,_})();const Kn=new Map;class vi extends Ve{constructor(f,g,E=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,E),this.eventId=null}execute(){var f=()=>super.execute,g=this;return(0,p.Z)(function*(){let E=Kn.get(g.auth._key());if(!E){try{const N=(yield function(_,f){return Vt.apply(this,arguments)}(g.resolver,g.auth))?yield f().call(g):null;E=()=>Promise.resolve(N)}catch(A){E=()=>Promise.reject(A)}Kn.set(g.auth._key(),E)}return g.bypassAuthState||Kn.set(g.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(f){var g=()=>super.onAuthEvent,E=this;return(0,p.Z)(function*(){if("signInViaRedirect"===f.type)return g().call(E,f);if("unknown"!==f.type){if(f.eventId){const A=yield E.auth._redirectUserForId(f.eventId);if(A)return E.user=A,g().call(E,f);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,p.Z)(function*(){})()}cleanUp(){}}function Vt(){return(Vt=(0,p.Z)(function*(_,f){const g=Up(f),E=Vp(_);if(!(yield E._isAvailable()))return!1;const A="true"===(yield E._get(g));return yield E._remove(g),A})).apply(this,arguments)}function ya(_,f){return Kc.apply(this,arguments)}function Kc(){return(Kc=(0,p.Z)(function*(_,f){return Vp(_)._set(Up(f),"true")})).apply(this,arguments)}function Vp(_){return zt(_._redirectPersistence)}function Up(_){return Qr("pendingRedirect",_.config.apiKey,_.name)}function Qs(){return(Qs=(0,p.Z)(function*(_,f,g){const E=tr(_);Ni(_,f,Pr);const A=D(E,g);return yield ya(A,E),A._openRedirect(E,f,"signInViaRedirect")})).apply(this,arguments)}function mu(){return(mu=(0,p.Z)(function*(_,f,g){const E=(0,F.m9)(_);Ni(E.auth,f,Pr);const A=D(E.auth,g);yield ya(A,E.auth);const N=yield _u(E);return A._openRedirect(E.auth,f,"reauthViaRedirect",N)})).apply(this,arguments)}function wl(){return(wl=(0,p.Z)(function*(_,f,g){const E=(0,F.m9)(_);Ni(E.auth,f,Pr);const A=D(E.auth,g);yield fn(!1,E,f.providerId),yield ya(A,E.auth);const N=yield _u(E);return A._openRedirect(E.auth,f,"linkViaRedirect",N)})).apply(this,arguments)}function Vh(){return(Vh=(0,p.Z)(function*(_,f){return yield tr(_)._initializationPromise,yu(_,f,!1)})).apply(this,arguments)}function yu(_,f){return Yc.apply(this,arguments)}function Yc(){return(Yc=(0,p.Z)(function*(_,f,g=!1){const E=tr(_),A=D(E,f),j=yield new vi(E,A,g).execute();return j&&!g&&(delete j.user._redirectEventId,yield E._persistUserIfCurrent(j.user),yield E._setRedirectUser(null,f)),j})).apply(this,arguments)}function _u(_){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,p.Z)(function*(_){const f=To(`${_.uid}:::`);return _._redirectEventId=f,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),f})).apply(this,arguments)}class Hv{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let g=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(f,E)&&(g=!0,this.sendToConsumer(f,E),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Uh(_);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=f,g=!0)),g}sendToConsumer(f,g){var E;if(f.error&&!Uh(f)){const A=(null===(E=f.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";g.onError(Tn(this.auth,A))}else g.onAuthEvent(f)}isEventForConsumer(f,g){const E=null===g.eventId||!!f.eventId&&f.eventId===g.eventId;return g.filter.includes(f.type)&&E}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Qc(f))}saveEventToCache(f){this.cachedEventUids.add(Qc(f)),this.lastProcessedEventTime=Date.now()}}function Qc(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(f=>f).join("-")}function Uh({type:_,error:f}){return"unknown"===_&&"auth/no-auth-event"===(null==f?void 0:f.code)}function Bh(_){return Il.apply(this,arguments)}function Il(){return(Il=(0,p.Z)(function*(_,f={}){return Et(_,"GET","/v1/projects",f)})).apply(this,arguments)}const No=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Mo=/^https?/;function jh(){return(jh=(0,p.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:f}=yield Bh(_);for(const g of f)try{if(ey(g))return}catch(E){}$t(_,"unauthorized-domain")})).apply(this,arguments)}function ey(_){const f=lt(),{protocol:g,hostname:E}=new URL(f);if(_.startsWith("chrome-extension://")){const j=new URL(_);return""===j.hostname&&""===E?"chrome-extension:"===g&&_.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===g&&j.hostname===E}if(!Mo.test(g))return!1;if(No.test(_))return E===_;const A=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+A+"|"+A+")$","i").test(E)}const Gv=new Jt(3e4,6e4);function Br(){const _=Pt().___jsl;if(null==_?void 0:_.H)for(const f of Object.keys(_.H))if(_.H[f].r=_.H[f].r||[],_.H[f].L=_.H[f].L||[],_.H[f].r=[..._.H[f].L],_.CP)for(let g=0;g<_.CP.length;g++)_.CP[g]=null}let Jc=null;function $h(_){return Jc=Jc||function(_){return new Promise((f,g)=>{var E,A,N;function j(){Br(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Br(),g(Tn(_,"network-request-failed"))},timeout:Gv.get()})}if(null===(A=null===(E=Pt().gapi)||void 0===E?void 0:E.iframes)||void 0===A?void 0:A.Iframe)f(gapi.iframes.getContext());else{if(!(null===(N=Pt().gapi)||void 0===N?void 0:N.load)){const ne=Vr("iframefcb");return Pt()[ne]=()=>{gapi.load?j():g(Tn(_,"network-request-failed"))},kh(`https://apis.google.com/js/api.js?onload=${ne}`)}j()}}).catch(f=>{throw Jc=null,f})}(_),Jc}const ty=new Jt(5e3,15e3),jp={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Hh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qv(_){const f=_.config;Re(f.authDomain,_,"auth-domain-config-required");const g=f.emulator?We(f,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,E={apiKey:f.apiKey,appName:_.name,v:de.SDK_VERSION},A=Hh.get(_.config.apiHost);A&&(E.eid=A);const N=_._getFrameworks();return N.length&&(E.fw=N.join(",")),`${g}?${(0,F.xO)(E).slice(1)}`}function $p(){return $p=(0,p.Z)(function*(_){const f=yield $h(_),g=Pt().gapi;return Re(g,_,"internal-error"),f.open({where:document.body,url:qv(_),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jp,dontclear:!0},E=>new Promise(function(){var A=(0,p.Z)(function*(N,j){yield E.restyle({setHideOnLeave:!1});const ne=Tn(_,"network-request-failed"),Le=Pt().setTimeout(()=>{j(ne)},ty.get());function Oe(){Pt().clearTimeout(Le),N(E)}E.ping(Oe).then(Oe,()=>{j(ne)})});return function(N,j){return A.apply(this,arguments)}}()))}),$p.apply(this,arguments)}const zv={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ds{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(f){}}}function sy(_,f,g,E,A,N){Re(_.config.authDomain,_,"auth-domain-config-required"),Re(_.config.apiKey,_,"invalid-api-key");const j={apiKey:_.config.apiKey,appName:_.name,authType:g,redirectUrl:E,v:de.SDK_VERSION,eventId:A};if(f instanceof Pr){f.setDefaultLanguage(_.languageCode),j.providerId=f.providerId||"",(0,F.xb)(f.getCustomParameters())||(j.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Le,Oe]of Object.entries(N||{}))j[Le]=Oe}if(f instanceof Vi){const Le=f.getScopes().filter(Oe=>""!==Oe);Le.length>0&&(j.scopes=Le.join(","))}_.tenantId&&(j.tid=_.tenantId);const ne=j;for(const Le of Object.keys(ne))void 0===ne[Le]&&delete ne[Le];return`${function({config:_}){return _.emulator?We(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,F.xO)(ne).slice(1)}`}const Hp="webStorageSupport";class oy extends class{constructor(f){this.factorId=f}_process(f,g,E){switch(g.type){case"enroll":return this._finalizeEnroll(f,g.credential,E);case"signin":return this._finalizeSignIn(f,g.credential);default:return ar("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new oy(f)}_finalizeEnroll(f,g,E){return function(_,f){return Et(_,"POST","/v2/accounts/mfaEnrollment:finalize",en(_,f))}(f,{idToken:g,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,g){return function(_,f){return Et(_,"POST","/v2/accounts/mfaSignIn:finalize",en(_,f))}(f,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Wv=(()=>{class _{constructor(){}static assertion(g){return oy._fromCredential(g)}}return _.FACTOR_ID="phone",_})();var _,Kh="@firebase/auth";class Kv{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var g=this;return(0,p.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const g=this.auth.onIdTokenChanged(E=>{var A;f((null===(A=E)||void 0===A?void 0:A.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,g),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const g=this.internalListeners.get(f);!g||(this.internalListeners.delete(f),g(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Js(){return window}function zp(){return zp=(0,p.Z)(function*(_,f,g){var E;const{BuildInfo:A}=Js();Gn(f.sessionId,"AuthEvent did not contain a session ID");const N=yield Wp(f.sessionId),j={};return Fs()?j.ibi=A.packageName:Ha()?j.apn=A.packageName:$t(_,"operation-not-supported-in-this-environment"),A.displayName&&(j.appDisplayName=A.displayName),j.sessionId=N,sy(_,g,f.type,void 0,null!==(E=f.eventId)&&void 0!==E?E:void 0,j)}),zp.apply(this,arguments)}function Zh(){return Zh=(0,p.Z)(function*(_){const{BuildInfo:f}=Js(),g={};Fs()?g.iosBundleId=f.packageName:Ha()?g.androidPackageName=f.packageName:$t(_,"operation-not-supported-in-this-environment"),yield Bh(_,g)}),Zh.apply(this,arguments)}function Yh(){return Yh=(0,p.Z)(function*(_,f,g){const{cordova:E}=Js();let A=()=>{};try{yield new Promise((N,j)=>{let ne=null;function Le(){var et;N();const Bt=null===(et=E.plugins.browsertab)||void 0===et?void 0:et.close;"function"==typeof Bt&&Bt(),"function"==typeof(null==g?void 0:g.close)&&g.close()}function Oe(){ne||(ne=window.setTimeout(()=>{j(Tn(_,"redirect-cancelled-by-user"))},2e3))}function nt(){"visible"===(null==document?void 0:document.visibilityState)&&Oe()}f.addPassiveListener(Le),document.addEventListener("resume",Oe,!1),Ha()&&document.addEventListener("visibilitychange",nt,!1),A=()=>{f.removePassiveListener(Le),document.removeEventListener("resume",Oe,!1),document.removeEventListener("visibilitychange",nt,!1),ne&&window.clearTimeout(ne)}})}finally{A()}}),Yh.apply(this,arguments)}function Wp(_){return Kp.apply(this,arguments)}function Kp(){return Kp=(0,p.Z)(function*(_){const f=uy(_),g=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(g)).map(A=>A.toString(16).padStart(2,"0")).join("")}),Kp.apply(this,arguments)}function uy(_){if(Gn(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(_);const f=new ArrayBuffer(_.length),g=new Uint8Array(f);for(let E=0;E<_.length;E++)g[E]=_.charCodeAt(E);return g}_="Browser",(0,de._registerComponent)(new ge.wA("auth",(f,{options:g})=>{const E=f.getProvider("app").getImmediate(),{apiKey:A,authDomain:N}=E.options;return(j=>{Re(A&&!A.includes(":"),"invalid-api-key",{appName:j.name}),Re(!(null==N?void 0:N.includes(":")),"argument-error",{appName:j.name});const ne={apiKey:A,authDomain:N,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rs(_)},Le=new is(j,ne);return function(_,f){const g=(null==f?void 0:f.persistence)||[],E=(Array.isArray(g)?g:[g]).map(zt);(null==f?void 0:f.errorMap)&&_._updateErrorMap(f.errorMap),_._initializeWithPersistence(E,null==f?void 0:f.popupRedirectResolver)}(Le,g),Le})(E)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,g,E)=>{f.getProvider("auth-internal").initialize()})),(0,de._registerComponent)(new ge.wA("auth-internal",f=>{const g=tr(f.getProvider("auth").getImmediate());return new Kv(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,de.registerVersion)(Kh,"0.19.3",void 0),(0,de.registerVersion)(Kh,"0.19.3","esm2017");class TC extends Hv{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(f)),super.onEvent(f)}initialized(){var f=this;return(0,p.Z)(function*(){yield f.initPromise})()}}function yn(_){return Al.apply(this,arguments)}function Al(){return Al=(0,p.Z)(function*(_){const f=yield Zn()._get(Cu(_));return f&&(yield Zn()._remove(Cu(_))),f}),Al.apply(this,arguments)}function rd(){const _=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const E=Math.floor(Math.random()*f.length);_.push(f.charAt(E))}return _.join("")}function Zn(){return zt(au)}function Cu(_){return Qr("authEvent",_.config.apiKey,_.name)}function Qh(_){if(!(null==_?void 0:_.includes("?")))return{};const[f,...g]=_.split("?");return(0,F.zd)(g.join("?"))}function Sl(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Tn("no-auth-event")}}function sd(){var _;return(null===(_=null==self?void 0:self.location)||void 0===_?void 0:_.protocol)||null}function eg(_=(0,F.z$)()){return!("file:"!==sd()&&"ionic:"!==sd()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function ad(){try{const _=self.localStorage,f=To();if(_)return _.setItem(f,"1"),_.removeItem(f),!function(_=(0,F.z$)()){return(0,F.w1)()&&11===(null==document?void 0:document.documentMode)||function(_=(0,F.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,F.hl)()}catch(_){return tg()&&(0,F.hl)()}return!1}function tg(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ea(){return("http:"===sd()||"https:"===sd()||(0,F.ru)()||eg())&&!((0,F.b$)()||(0,F.UG)())&&ad()&&!tg()}function ud(){return eg()&&"undefined"!=typeof document}function Iu(){return Iu=(0,p.Z)(function*(){return!!ud()&&new Promise(_=>{const f=setTimeout(()=>{_(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),_(!0)})})}),Iu.apply(this,arguments)}const zi={LOCAL:"local",NONE:"none",SESSION:"session"},ld=Re,Oo="persistence";function ng(_){return rg.apply(this,arguments)}function rg(){return rg=(0,p.Z)(function*(_){yield _._initializationPromise;const f=ig(),g=Qr(Oo,_.config.apiKey,_.name);(null==f?void 0:f.sessionStorage)&&f.sessionStorage.setItem(g,_._getPersistence())}),rg.apply(this,arguments)}function ig(){return"undefined"!=typeof window?window:null}const eE=Re;class wa{constructor(){this.browserResolver=zt(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ht,this._completeRedirectFn=yu}_openPopup(f,g,E,A){var N=this;return(0,p.Z)(function*(){var j;Gn(null===(j=N.eventManagers[f._key()])||void 0===j?void 0:j.manager,"_initialize() not called before _openPopup()");const ne=sy(f,g,E,lt(),A);return function(_,f,g,E=500,A=600){const N=Math.max((window.screen.availHeight-A)/2,0).toString(),j=Math.max((window.screen.availWidth-E)/2,0).toString();let ne="";const Le=Object.assign(Object.assign({},zv),{width:E.toString(),height:A.toString(),top:N,left:j}),Oe=(0,F.z$)().toLowerCase();g&&(ne=mi(Oe)?"_blank":g),$a(Oe)&&(f=f||"http://localhost",Le.scrollbars="yes");const nt=Object.entries(Le).reduce((Bt,[rr,Vn])=>`${Bt}${rr}=${Vn},`,"");if(function(_=(0,F.z$)()){var f;return Fs(_)&&!!(null===(f=window.navigator)||void 0===f?void 0:f.standalone)}(Oe)&&"_self"!==ne)return function(_,f){const g=document.createElement("a");g.href=_,g.target=f;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(E)}(f||"",ne),new ds(null);const et=window.open(f||"",ne,nt);Re(et,_,"popup-blocked");try{et.focus()}catch(Bt){}return new ds(et)}(f,ne,To())})()}_openRedirect(f,g,E,A){var N=this;return(0,p.Z)(function*(){return yield N._originValidation(f),_=sy(f,g,E,lt(),A),Pt().location.href=_,new Promise(()=>{});var _})()}_initialize(f){const g=f._key();if(this.eventManagers[g]){const{manager:A,promise:N}=this.eventManagers[g];return A?Promise.resolve(A):(Gn(N,"If manager is not set, promise should be"),N)}const E=this.initAndGetManager(f);return this.eventManagers[g]={promise:E},E}initAndGetManager(f){var g=this;return(0,p.Z)(function*(){const E=yield function(_){return $p.apply(this,arguments)}(f),A=new Hv(f);return E.register("authEvent",N=>(Re(null==N?void 0:N.authEvent,f,"invalid-auth-event"),{status:A.onEvent(N.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[f._key()]={manager:A},g.iframes[f._key()]=E,A})()}_isIframeWebStorageSupported(f,g){this.iframes[f._key()].send(Hp,{type:Hp},A=>{var N;const j=null===(N=null==A?void 0:A[0])||void 0===N?void 0:N[Hp];void 0!==j&&g(!!j),$t(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function(_){return jh.apply(this,arguments)}(f)),this.originValidationPromises[g]}get _shouldInitProactively(){return Sn()||ks()||Fs()}}),this.cordovaResolver=zt(class{constructor(){this._redirectPersistence=ht,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=yu}_initialize(f){var g=this;return(0,p.Z)(function*(){const E=f._key();let A=g.eventManagers.get(E);return A||(A=new TC(f),g.eventManagers.set(E,A),g.attachCallbackListeners(f,A)),A})()}_openPopup(f){$t(f,"operation-not-supported-in-this-environment")}_openRedirect(f,g,E,A){var N=this;return(0,p.Z)(function*(){!function(_){var f,g,E,A,N,j,ne,Le,Oe,nt;const et=Js();Re("function"==typeof(null===(f=null==et?void 0:et.universalLinks)||void 0===f?void 0:f.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Re(void 0!==(null===(g=null==et?void 0:et.BuildInfo)||void 0===g?void 0:g.packageName),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Re("function"==typeof(null===(N=null===(A=null===(E=null==et?void 0:et.cordova)||void 0===E?void 0:E.plugins)||void 0===A?void 0:A.browsertab)||void 0===N?void 0:N.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Re("function"==typeof(null===(Le=null===(ne=null===(j=null==et?void 0:et.cordova)||void 0===j?void 0:j.plugins)||void 0===ne?void 0:ne.browsertab)||void 0===Le?void 0:Le.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Re("function"==typeof(null===(nt=null===(Oe=null==et?void 0:et.cordova)||void 0===Oe?void 0:Oe.InAppBrowser)||void 0===nt?void 0:nt.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const j=yield N._initialize(f);yield j.initialized(),j.resetRedirect(),Kn.clear(),yield N._originValidation(f);const ne=function(_,f,g=null){return{type:f,eventId:g,urlResponse:null,sessionId:rd(),postBody:null,tenantId:_.tenantId,error:Tn(_,"no-auth-event")}}(f,E,A);yield function(_,f){return Zn()._set(Cu(_),f)}(f,ne);const Le=yield function(_,f,g){return zp.apply(this,arguments)}(f,ne,g),Oe=yield function(_){const{cordova:f}=Js();return new Promise(g=>{f.plugins.browsertab.isAvailable(E=>{let A=null;E?f.plugins.browsertab.openUrl(_):A=f.InAppBrowser.open(_,function(_=(0,F.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),g(A)})})}(Le);return function(_,f,g){return Yh.apply(this,arguments)}(f,j,Oe)})()}_isIframeWebStorageSupported(f,g){throw new Error("Method not implemented.")}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function(_){return Zh.apply(this,arguments)}(f)),this.originValidationPromises[g]}attachCallbackListeners(f,g){const{universalLinks:E,handleOpenURL:A,BuildInfo:N}=Js(),j=setTimeout((0,p.Z)(function*(){yield yn(f),g.onEvent(Sl())}),500),ne=function(){var nt=(0,p.Z)(function*(et){clearTimeout(j);const Bt=yield yn(f);let rr=null;Bt&&(null==et?void 0:et.url)&&(rr=function(_,f){var g,E;const A=function(_){const f=Qh(_),g=f.link?decodeURIComponent(f.link):void 0,E=Qh(g).link,A=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return Qh(A).link||A||E||g||_}(f);if(A.includes("/__/auth/callback")){const N=Qh(A),j=N.firebaseError?function(_){try{return JSON.parse(_)}catch(f){return null}}(decodeURIComponent(N.firebaseError)):null,ne=null===(E=null===(g=null==j?void 0:j.code)||void 0===g?void 0:g.split("auth/"))||void 0===E?void 0:E[1],Le=ne?Tn(ne):null;return Le?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:Le,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:A,postBody:null}}return null}(Bt,et.url)),g.onEvent(rr||Sl())});return function(Bt){return nt.apply(this,arguments)}}();void 0!==E&&"function"==typeof E.subscribe&&E.subscribe(null,ne);const Le=A,Oe=`${N.packageName.toLowerCase()}://`;Js().handleOpenURL=function(){var nt=(0,p.Z)(function*(et){if(et.toLowerCase().startsWith(Oe)&&ne({url:et}),"function"==typeof Le)try{Le(et)}catch(Bt){console.error(Bt)}});return function(et){return nt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=ht,this._completeRedirectFn=yu}_initialize(f){var g=this;return(0,p.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,g,E,A){var N=this;return(0,p.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._openPopup(f,g,E,A)})()}_openRedirect(f,g,E,A){var N=this;return(0,p.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._openRedirect(f,g,E,A)})()}_isIframeWebStorageSupported(f,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,g)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return ud()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return eE(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,p.Z)(function*(){if(f.underlyingResolver)return;const g=yield function(){return Iu.apply(this,arguments)}();f.underlyingResolver=g?f.cordovaResolver:f.browserResolver})()}}function my(_){return _.unwrap()}function As(_){return tE(_)}function tE(_){const{_tokenResponse:f}=_ instanceof F.ZR?_.customData:_;if(!f)return null;if(!(_ instanceof F.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return I.credentialFromResult(_);const g=f.providerId;if(!g||"password"===g)return null;let E;switch(g){case"google.com":E=_o;break;case"facebook.com":E=tl;break;case"github.com":E=vo;break;case"twitter.com":E=Ui;break;default:const{oauthIdToken:A,oauthAccessToken:N,oauthTokenSecret:j,pendingToken:ne,nonce:Le}=f;return N||j||A||ne?ne?g.startsWith("saml.")?Es._create(g,ne):mr._fromParams({providerId:g,signInMethod:g,pendingToken:ne,idToken:A,accessToken:N}):new On(g).credential({idToken:A,accessToken:N,rawNonce:Le}):null}return _ instanceof F.ZR?E.credentialFromError(_):E.credentialFromResult(_)}function Xr(_,f){return f.catch(g=>{throw g instanceof F.ZR&&function(_,f){var g;const E=null===(g=f.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===f.code)f.resolver=new Xh(_,function(_,f){var g;const E=(0,F.m9)(_),A=f;return Re(f.customData.operationType,E,"argument-error"),Re(null===(g=A.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,E,"argument-error"),gl._fromError(E,A)}(_,f));else if(E){const A=tE(f),N=f;A&&(N.credential=A,N.tenantId=E.tenantId||void 0,N.email=E.email||void 0,N.phoneNumber=E.phoneNumber||void 0)}}(_,g),g}).then(g=>{const A=g.user;return{operationType:g.operationType,credential:As(g),additionalUserInfo:lr(g),user:Xs.getOrCreate(A)}})}function yy(_,f){return hs.apply(this,arguments)}function hs(){return hs=(0,p.Z)(function*(_,f){const g=yield f;return{verificationId:g.verificationId,confirm:E=>Xr(_,g.confirm(E))}}),hs.apply(this,arguments)}class Xh{constructor(f,g){this.resolver=g,this.auth=function(_){return _.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return Xr(my(this.auth),this.resolver.resolveSignIn(f))}}class Xs{constructor(f){this._delegate=f,this.multiFactor=function(_){const f=(0,F.m9)(_);return Rn.has(f)||Rn.set(f,pt._fromUser(f)),Rn.get(f)}(f)}static getOrCreate(f){return Xs.USER_MAP.has(f)||Xs.USER_MAP.set(f,new Xs(f)),Xs.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var g=this;return(0,p.Z)(function*(){return Xr(g.auth,ia(g._delegate,f))})()}linkWithPhoneNumber(f,g){var E=this;return(0,p.Z)(function*(){return yy(E.auth,function(_,f,g){return Ur.apply(this,arguments)}(E._delegate,f,g))})()}linkWithPopup(f){var g=this;return(0,p.Z)(function*(){return Xr(g.auth,function(_,f,g){return Zs.apply(this,arguments)}(g._delegate,f,wa))})()}linkWithRedirect(f){var g=this;return(0,p.Z)(function*(){return yield ng(tr(g.auth)),function(_,f,g){return function(_,f,g){return wl.apply(this,arguments)}(_,f,g)}(g._delegate,f,wa)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var g=this;return(0,p.Z)(function*(){return Xr(g.auth,ur(g._delegate,f))})()}reauthenticateWithPhoneNumber(f,g){return yy(this.auth,function(_,f,g){return pu.apply(this,arguments)}(this._delegate,f,g))}reauthenticateWithPopup(f){return Xr(this.auth,function(_,f,g){return Wn.apply(this,arguments)}(this._delegate,f,wa))}reauthenticateWithRedirect(f){var g=this;return(0,p.Z)(function*(){return yield ng(tr(g.auth)),function(_,f,g){return function(_,f,g){return mu.apply(this,arguments)}(_,f,g)}(g._delegate,f,wa)})()}sendEmailVerification(f){return function(_,f){return ws.apply(this,arguments)}(this._delegate,f)}unlink(f){var g=this;return(0,p.Z)(function*(){return yield function(_,f){return Ae.apply(this,arguments)}(g._delegate,f),g})()}updateEmail(f){return function(_,f){return Lc((0,F.m9)(_),f,null)}(this._delegate,f)}updatePassword(f){return function(_,f){return Lc((0,F.m9)(_),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function(_,f){return Ro.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function(_,f){return pn.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,g){return function(_,f,g){return fa.apply(this,arguments)}(this._delegate,f,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Xs.USER_MAP=new WeakMap;const Nl=Re;let ef=(()=>{class _{constructor(g,E){if(this.app=g,E.isInitialized())return this._delegate=E.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:A}=g.options;Nl(A,"invalid-api-key",{appName:g.name});let N=[pi];if("undefined"!=typeof window){N=function(_,f){const g=ig();if(!(null==g?void 0:g.sessionStorage))return[];const E=Qr(Oo,_,f);switch(g.sessionStorage.getItem(E)){case zi.NONE:return[pi];case zi.LOCAL:return[yr,ht];case zi.SESSION:return[ht];default:return[]}}(A,g.name);for(const ne of[yr,au,ht])N.includes(ne)||N.push(ne)}Nl(A,"invalid-api-key",{appName:g.name});const j="undefined"!=typeof window?wa:void 0;this._delegate=E.initialize({options:{persistence:N,popupRedirectResolver:j}}),this._delegate._updateErrorMap(xr),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Xs.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,E){!function(_,f,g){const E=tr(_);Re(E._canInitEmulator,E,"emulator-config-failed"),Re(/^https?:\/\//.test(f),E,"invalid-emulator-scheme");const A=!!(null==g?void 0:g.disableWarnings),N=yi(f),{host:j,port:ne}=function(_){const f=yi(_),g=/(\/\/)?([^?#/]+)/.exec(_.substr(f.length));if(!g)return{host:"",port:null};const E=g[2].split("@").pop()||"",A=/^(\[[^\]]+\])(:|$)/.exec(E);if(A){const N=A[1];return{host:N,port:Fm(E.substr(N.length+1))}}{const[N,j]=E.split(":");return{host:N,port:Fm(j)}}}(f);E.config.emulator={url:`${N}//${j}${null===ne?"":`:${ne}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:j,port:ne,protocol:N.replace(":",""),options:Object.freeze({disableWarnings:A})}),A||function(){function _(){const f=document.createElement("p"),g=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,g,E)}applyActionCode(g){return function(_,f){return ua.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return la(this._delegate,g)}confirmPasswordReset(g,E){return function(_,f,g){return eu.apply(this,arguments)}(this._delegate,g,E)}createUserWithEmailAndPassword(g,E){var A=this;return(0,p.Z)(function*(){return Xr(A._delegate,function(_,f,g){return da.apply(this,arguments)}(A._delegate,g,E))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function(_,f){return Nh.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function(_,f){const g=mo.parseLink(f);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}(0,g)}getRedirectResult(){var g=this;return(0,p.Z)(function*(){Nl(Ea(),g._delegate,"operation-not-supported-in-this-environment");const E=yield function(_,f){return Vh.apply(this,arguments)}(g._delegate,wa);return E?Xr(g._delegate,Promise.resolve(E)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function(_,f){tr(_)._logFramework(f)}(this._delegate,g)}onAuthStateChanged(g,E,A){const{next:N,error:j,complete:ne}=bu(g,E,A);return this._delegate.onAuthStateChanged(N,j,ne)}onIdTokenChanged(g,E,A){const{next:N,error:j,complete:ne}=bu(g,E,A);return this._delegate.onIdTokenChanged(N,j,ne)}sendSignInLinkToEmail(g,E){return function(_,f,g){return zn.apply(this,arguments)}(this._delegate,g,E)}sendPasswordResetEmail(g,E){return function(_,f,g){return aa.apply(this,arguments)}(this._delegate,g,E||void 0)}setPersistence(g){var E=this;return(0,p.Z)(function*(){let A;switch(function(_,f){ld(Object.values(zi).includes(f),_,"invalid-persistence-type"),(0,F.b$)()?ld(f!==zi.SESSION,_,"unsupported-persistence-type"):(0,F.UG)()?ld(f===zi.NONE,_,"unsupported-persistence-type"):tg()?ld(f===zi.NONE||f===zi.LOCAL&&(0,F.hl)(),_,"unsupported-persistence-type"):ld(f===zi.NONE||ad(),_,"unsupported-persistence-type")}(E._delegate,g),g){case zi.SESSION:A=ht;break;case zi.LOCAL:A=(yield zt(yr)._isAvailable())?yr:au;break;case zi.NONE:A=pi;break;default:return $t("argument-error",{appName:E._delegate.name})}return E._delegate.setPersistence(A)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return Xr(this._delegate,function(_){return rl.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return Xr(this._delegate,Xa(this._delegate,g))}signInWithCustomToken(g){return Xr(this._delegate,function(_,f){return al.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,E){return Xr(this._delegate,function(_,f,g){return Xa((0,F.m9)(_),yo.credential(f,g))}(this._delegate,g,E))}signInWithEmailLink(g,E){return Xr(this._delegate,function(_,f,g){return Pc.apply(this,arguments)}(this._delegate,g,E))}signInWithPhoneNumber(g,E){return yy(this._delegate,function(_,f,g){return Ts.apply(this,arguments)}(this._delegate,g,E))}signInWithPopup(g){var E=this;return(0,p.Z)(function*(){return Nl(Ea(),E._delegate,"operation-not-supported-in-this-environment"),Xr(E._delegate,function(_,f,g){return ln.apply(this,arguments)}(E._delegate,g,wa))})()}signInWithRedirect(g){var E=this;return(0,p.Z)(function*(){return Nl(Ea(),E._delegate,"operation-not-supported-in-this-environment"),yield ng(E._delegate),function(_,f,g){return function(_,f,g){return Qs.apply(this,arguments)}(_,f,g)}(E._delegate,g,wa)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function(_,f){return tu.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=zi,_})();function bu(_,f,g){let E=_;"function"!=typeof _&&({next:E,error:f,complete:g}=_);const A=E;return{next:j=>A(j&&Xs.getOrCreate(j)),error:f,complete:g}}class cd{constructor(){this.providerId="phone",this._delegate=new I(my(J.Z.auth()))}static credential(f,g){return I.credential(f,g)}verifyPhoneNumber(f,g){return this._delegate.verifyPhoneNumber(f,g)}unwrap(){return this._delegate}}cd.PHONE_SIGN_IN_METHOD=I.PHONE_SIGN_IN_METHOD,cd.PROVIDER_ID=I.PROVIDER_ID;const _y=Re;class sg{constructor(f,g,E=J.Z.app()){var A;_y(null===(A=E.options)||void 0===A?void 0:A.apiKey,"invalid-api-key",{appName:E.name}),this._delegate=new Ws(f,g,E.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(_){_.INTERNAL.registerComponent(new ge.wA("auth-compat",f=>{const g=f.getProvider("app-compat").getImmediate(),E=f.getProvider("auth");return new ef(g,E)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:yo,FacebookAuthProvider:tl,GithubAuthProvider:vo,GoogleAuthProvider:_o,OAuthProvider:On,SAMLAuthProvider:nl,PhoneAuthProvider:cd,PhoneMultiFactorGenerator:Wv,RecaptchaVerifier:sg,TwitterAuthProvider:Ui,Auth:ef,AuthCredential:ea,Error:F.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.2.3")}(J.Z)},4995:function(Ze,we){!function(k){"use strict";function p(le){return Array.prototype.slice.call(le)}function J(le){return new Promise(function(K,ce){le.onsuccess=function(){K(le.result)},le.onerror=function(){ce(le.error)}})}function F(le,K,ce){var Te,ye=new Promise(function(qe,Me){J(Te=le[K].apply(le,ce)).then(qe,Me)});return ye.request=Te,ye}function de(le,K,ce){var Te=F(le,K,ce);return Te.then(function(ye){if(ye)return new H(ye,Te.request)})}function se(le,K,ce){ce.forEach(function(Te){Object.defineProperty(le.prototype,Te,{get:function(){return this[K][Te]},set:function(ye){this[K][Te]=ye}})})}function me(le,K,ce,Te){Te.forEach(function(ye){ye in ce.prototype&&(le.prototype[ye]=function(){return F(this[K],ye,arguments)})})}function ie(le,K,ce,Te){Te.forEach(function(ye){ye in ce.prototype&&(le.prototype[ye]=function(){return this[K][ye].apply(this[K],arguments)})})}function oe(le,K,ce,Te){Te.forEach(function(ye){ye in ce.prototype&&(le.prototype[ye]=function(){return de(this[K],ye,arguments)})})}function he(le){this._index=le}function H(le,K){this._cursor=le,this._request=K}function $(le){this._store=le}function Q(le){this._tx=le,this.complete=new Promise(function(K,ce){le.oncomplete=function(){K()},le.onerror=function(){ce(le.error)},le.onabort=function(){ce(le.error)}})}function je(le,K,ce){this._db=le,this.oldVersion=K,this.transaction=new Q(ce)}function De(le){this._db=le}se(he,"_index",["name","keyPath","multiEntry","unique"]),me(he,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),oe(he,"_index",IDBIndex,["openCursor","openKeyCursor"]),se(H,"_cursor",["direction","key","primaryKey","value"]),me(H,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(le){le in IDBCursor.prototype&&(H.prototype[le]=function(){var K=this,ce=arguments;return Promise.resolve().then(function(){return K._cursor[le].apply(K._cursor,ce),J(K._request).then(function(Te){if(Te)return new H(Te,K._request)})})})}),$.prototype.createIndex=function(){return new he(this._store.createIndex.apply(this._store,arguments))},$.prototype.index=function(){return new he(this._store.index.apply(this._store,arguments))},se($,"_store",["name","keyPath","indexNames","autoIncrement"]),me($,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),oe($,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),ie($,"_store",IDBObjectStore,["deleteIndex"]),Q.prototype.objectStore=function(){return new $(this._tx.objectStore.apply(this._tx,arguments))},se(Q,"_tx",["objectStoreNames","mode"]),ie(Q,"_tx",IDBTransaction,["abort"]),je.prototype.createObjectStore=function(){return new $(this._db.createObjectStore.apply(this._db,arguments))},se(je,"_db",["name","version","objectStoreNames"]),ie(je,"_db",IDBDatabase,["deleteObjectStore","close"]),De.prototype.transaction=function(){return new Q(this._db.transaction.apply(this._db,arguments))},se(De,"_db",["name","version","objectStoreNames"]),ie(De,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(le){[$,he].forEach(function(K){le in K.prototype&&(K.prototype[le.replace("open","iterate")]=function(){var ce=p(arguments),Te=ce[ce.length-1],ye=this._store||this._index,qe=ye[le].apply(ye,ce.slice(0,-1));qe.onsuccess=function(){Te(qe.result)}})})}),[he,$].forEach(function(le){le.prototype.getAll||(le.prototype.getAll=function(K,ce){var Te=this,ye=[];return new Promise(function(qe){Te.iterateCursor(K,function(Me){Me?(ye.push(Me.value),void 0===ce||ye.length!=ce?Me.continue():qe(ye)):qe(ye)})})})}),k.openDb=function(le,K,ce){var Te=F(indexedDB,"open",[le,K]),ye=Te.request;return ye&&(ye.onupgradeneeded=function(qe){ce&&ce(new je(ye.result,qe.oldVersion,ye.transaction))}),Te.then(function(qe){return new De(qe)})},k.deleteDb=function(le){return F(indexedDB,"deleteDatabase",[le])},Object.defineProperty(k,"__esModule",{value:!0})}(we)},8305:(Ze,we,k)=>{"use strict";k.d(we,{y:()=>H});var p=k(3113),J=k(7908),F=k(4816),de=k(4623);var ie=k(5367),oe=k(5044),he=k(8706);let H=(()=>{class De{constructor(Be){Be&&(this._subscribe=Be)}lift(Be){const le=new De;return le.source=this,le.operator=Be,le}subscribe(Be,le,K){const ce=function(De){return De&&De instanceof p.Lv||function(De){return De&&(0,oe.m)(De.next)&&(0,oe.m)(De.error)&&(0,oe.m)(De.complete)}(De)&&(0,J.Nn)(De)}(Be)?Be:new p.Hp(Be,le,K);return(0,he.x)(()=>{const{operator:Te,source:ye}=this;ce.add(Te?Te.call(ce,ye):ye?this._subscribe(ce):this._trySubscribe(ce))}),ce}_trySubscribe(Be){try{return this._subscribe(Be)}catch(le){Be.error(le)}}forEach(Be,le){return new(le=$(le))((K,ce)=>{let Te;Te=this.subscribe(ye=>{try{Be(ye)}catch(qe){ce(qe),null==Te||Te.unsubscribe()}},ce,K)})}_subscribe(Be){var le;return null===(le=this.source)||void 0===le?void 0:le.subscribe(Be)}[F.L](){return this}pipe(...Be){return function(De){return 0===De.length?de.y:1===De.length?De[0]:function(Be){return De.reduce((le,K)=>K(le),Be)}}(Be)(this)}toPromise(Be){return new(Be=$(Be))((le,K)=>{let ce;this.subscribe(Te=>ce=Te,Te=>K(Te),()=>le(ce))})}}return De.create=Ge=>new De(Ge),De})();function $(De){var Ge;return null!==(Ge=null!=De?De:ie.v.Promise)&&void 0!==Ge?Ge:Promise}},273:(Ze,we,k)=>{"use strict";k.d(we,{x:()=>ie});var p=k(8305),J=k(7908);const de=(0,k(4893).d)(he=>function(){he(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var se=k(3980),me=k(8706);let ie=(()=>{class he extends p.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift($){const Q=new oe(this,this);return Q.operator=$,Q}_throwIfClosed(){if(this.closed)throw new de}next($){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const Q=this.observers.slice();for(const je of Q)je.next($)}})}error($){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=$;const{observers:Q}=this;for(;Q.length;)Q.shift().error($)}})}complete(){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:$}=this;for(;$.length;)$.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var $;return(null===($=this.observers)||void 0===$?void 0:$.length)>0}_trySubscribe($){return this._throwIfClosed(),super._trySubscribe($)}_subscribe($){return this._throwIfClosed(),this._checkFinalizedStatuses($),this._innerSubscribe($)}_innerSubscribe($){const{hasError:Q,isStopped:je,observers:De}=this;return Q||je?J.Lc:(De.push($),new J.w0(()=>(0,se.P)(De,$)))}_checkFinalizedStatuses($){const{hasError:Q,thrownError:je,isStopped:De}=this;Q?$.error(je):De&&$.complete()}asObservable(){const $=new p.y;return $.source=this,$}}return he.create=(H,$)=>new oe(H,$),he})();class oe extends ie{constructor(H,$){super(),this.destination=H,this.source=$}next(H){var $,Q;null===(Q=null===($=this.destination)||void 0===$?void 0:$.next)||void 0===Q||Q.call($,H)}error(H){var $,Q;null===(Q=null===($=this.destination)||void 0===$?void 0:$.error)||void 0===Q||Q.call($,H)}complete(){var H,$;null===($=null===(H=this.destination)||void 0===H?void 0:H.complete)||void 0===$||$.call(H)}_subscribe(H){var $,Q;return null!==(Q=null===($=this.source)||void 0===$?void 0:$.subscribe(H))&&void 0!==Q?Q:J.Lc}}},3113:(Ze,we,k)=>{"use strict";k.d(we,{Hp:()=>je,Lv:()=>Q});var p=k(5044),J=k(7908),F=k(5367),de=k(5160);function se(){}const me=he("C",void 0,void 0);function he(K,ce,Te){return{kind:K,value:ce,error:Te}}var H=k(2496),$=k(8706);class Q extends J.w0{constructor(ce){super(),this.isStopped=!1,ce?(this.destination=ce,(0,J.Nn)(ce)&&ce.add(this)):this.destination=le}static create(ce,Te,ye){return new je(ce,Te,ye)}next(ce){this.isStopped?Be(he("N",ce,void 0),this):this._next(ce)}error(ce){this.isStopped?Be(he("E",void 0,ce),this):(this.isStopped=!0,this._error(ce))}complete(){this.isStopped?Be(me,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ce){this.destination.next(ce)}_error(ce){try{this.destination.error(ce)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class je extends Q{constructor(ce,Te,ye){let qe;if(super(),(0,p.m)(ce))qe=ce;else if(ce){let Me;({next:qe,error:Te,complete:ye}=ce),this&&F.v.useDeprecatedNextContext?(Me=Object.create(ce),Me.unsubscribe=()=>this.unsubscribe()):Me=ce,qe=null==qe?void 0:qe.bind(Me),Te=null==Te?void 0:Te.bind(Me),ye=null==ye?void 0:ye.bind(Me)}this.destination={next:qe?De(qe):se,error:De(null!=Te?Te:Ge),complete:ye?De(ye):se}}}function De(K,ce){return(...Te)=>{try{K(...Te)}catch(ye){F.v.useDeprecatedSynchronousErrorHandling?(0,$.O)(ye):(0,de.h)(ye)}}}function Ge(K){throw K}function Be(K,ce){const{onStoppedNotification:Te}=F.v;Te&&H.z.setTimeout(()=>Te(K,ce))}const le={closed:!0,next:se,error:Ge,complete:se}},7908:(Ze,we,k)=>{"use strict";k.d(we,{Lc:()=>me,w0:()=>se,Nn:()=>ie});var p=k(5044);const F=(0,k(4893).d)(he=>function($){he(this),this.message=$?`${$.length} errors occurred during unsubscription:\n${$.map((Q,je)=>`${je+1}) ${Q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=$});var de=k(3980);class se{constructor(H){this.initialTeardown=H,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let H;if(!this.closed){this.closed=!0;const{_parentage:$}=this;if($)if(this._parentage=null,Array.isArray($))for(const De of $)De.remove(this);else $.remove(this);const{initialTeardown:Q}=this;if((0,p.m)(Q))try{Q()}catch(De){H=De instanceof F?De.errors:[De]}const{_teardowns:je}=this;if(je){this._teardowns=null;for(const De of je)try{oe(De)}catch(Ge){H=null!=H?H:[],Ge instanceof F?H=[...H,...Ge.errors]:H.push(Ge)}}if(H)throw new F(H)}}add(H){var $;if(H&&H!==this)if(this.closed)oe(H);else{if(H instanceof se){if(H.closed||H._hasParent(this))return;H._addParent(this)}(this._teardowns=null!==($=this._teardowns)&&void 0!==$?$:[]).push(H)}}_hasParent(H){const{_parentage:$}=this;return $===H||Array.isArray($)&&$.includes(H)}_addParent(H){const{_parentage:$}=this;this._parentage=Array.isArray($)?($.push(H),$):$?[$,H]:H}_removeParent(H){const{_parentage:$}=this;$===H?this._parentage=null:Array.isArray($)&&(0,de.P)($,H)}remove(H){const{_teardowns:$}=this;$&&(0,de.P)($,H),H instanceof se&&H._removeParent(this)}}se.EMPTY=(()=>{const he=new se;return he.closed=!0,he})();const me=se.EMPTY;function ie(he){return he instanceof se||he&&"closed"in he&&(0,p.m)(he.remove)&&(0,p.m)(he.add)&&(0,p.m)(he.unsubscribe)}function oe(he){(0,p.m)(he)?he():he.unsubscribe()}},5367:(Ze,we,k)=>{"use strict";k.d(we,{v:()=>p});const p={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},5583:(Ze,we,k)=>{"use strict";k.d(we,{E:()=>J});const J=new(k(8305).y)(se=>se.complete())},5947:(Ze,we,k)=>{"use strict";k.d(we,{D:()=>qe});var p=k(9985),J=k(4763),F=k(5222),me=k(8305),oe=k(5497),he=k(5044),H=k(8395);function Q(Me,ze){if(!Me)throw new Error("Iterable cannot be null");return new me.y(Ke=>{(0,H.f)(Ke,ze,()=>{const ct=Me[Symbol.asyncIterator]();(0,H.f)(Ke,ze,()=>{ct.next().then(ee=>{ee.done?Ke.complete():Ke.next(ee.value)})},0,!0)})})}var je=k(1073),De=k(2442),Ge=k(1537),Be=k(2317),le=k(9908),K=k(3754),ce=k(7751);function qe(Me,ze){return ze?function(Me,ze){if(null!=Me){if((0,je.c)(Me))return function(Me,ze){return(0,p.Xf)(Me).pipe((0,F.R)(ze),(0,J.Q)(ze))}(Me,ze);if((0,Ge.z)(Me))return function(Me,ze){return new me.y(Ke=>{let ct=0;return ze.schedule(function(){ct===Me.length?Ke.complete():(Ke.next(Me[ct++]),Ke.closed||this.schedule())})})}(Me,ze);if((0,De.t)(Me))return function(Me,ze){return(0,p.Xf)(Me).pipe((0,F.R)(ze),(0,J.Q)(ze))}(Me,ze);if((0,le.D)(Me))return Q(Me,ze);if((0,Be.T)(Me))return function(Me,ze){return new me.y(Ke=>{let ct;return(0,H.f)(Ke,ze,()=>{ct=Me[oe.h](),(0,H.f)(Ke,ze,()=>{let ee,fe;try{({value:ee,done:fe}=ct.next())}catch(Ce){return void Ke.error(Ce)}fe?Ke.complete():Ke.next(ee)},0,!0)}),()=>(0,he.m)(null==ct?void 0:ct.return)&&ct.return()})}(Me,ze);if((0,ce.L)(Me))return function(Me,ze){return Q((0,ce.Q)(Me),ze)}(Me,ze)}throw(0,K.z)(Me)}(Me,ze):(0,p.Xf)(Me)}},9985:(Ze,we,k)=>{"use strict";k.d(we,{Xf:()=>je});var p=k(9162),J=k(1537),F=k(2442),de=k(8305),se=k(1073),me=k(9908),ie=k(3754),oe=k(2317),he=k(7751),H=k(5044),$=k(5160),Q=k(4816);function je(ye){if(ye instanceof de.y)return ye;if(null!=ye){if((0,se.c)(ye))return function(ye){return new de.y(qe=>{const Me=ye[Q.L]();if((0,H.m)(Me.subscribe))return Me.subscribe(qe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ye);if((0,J.z)(ye))return function(ye){return new de.y(qe=>{for(let Me=0;Me<ye.length&&!qe.closed;Me++)qe.next(ye[Me]);qe.complete()})}(ye);if((0,F.t)(ye))return function(ye){return new de.y(qe=>{ye.then(Me=>{qe.closed||(qe.next(Me),qe.complete())},Me=>qe.error(Me)).then(null,$.h)})}(ye);if((0,me.D)(ye))return K(ye);if((0,oe.T)(ye))return function(ye){return new de.y(qe=>{for(const Me of ye)if(qe.next(Me),qe.closed)return;qe.complete()})}(ye);if((0,he.L)(ye))return function(ye){return K((0,he.Q)(ye))}(ye)}throw(0,ie.z)(ye)}function K(ye){return new de.y(qe=>{(function(ye,qe){var Me,ze,Ke,ct;return(0,p.mG)(this,void 0,void 0,function*(){try{for(Me=(0,p.KL)(ye);!(ze=yield Me.next()).done;)if(qe.next(ze.value),qe.closed)return}catch(ee){Ke={error:ee}}finally{try{ze&&!ze.done&&(ct=Me.return)&&(yield ct.call(Me))}finally{if(Ke)throw Ke.error}}qe.complete()})})(ye,qe).catch(Me=>qe.error(Me))})}},3719:(Ze,we,k)=>{"use strict";k.d(we,{T:()=>me});var p=k(5373),J=k(9985),F=k(5583),de=k(8830),se=k(5947);function me(...ie){const oe=(0,de.yG)(ie),he=(0,de._6)(ie,1/0),H=ie;return H.length?1===H.length?(0,J.Xf)(H[0]):(0,p.J)(he)((0,se.D)(H,oe)):F.E}},8889:(Ze,we,k)=>{"use strict";k.d(we,{Q:()=>J});var p=k(3113);class J extends p.Lv{constructor(de,se,me,ie,oe){super(de),this.onFinalize=oe,this._next=se?function(he){try{se(he)}catch(H){de.error(H)}}:super._next,this._error=ie?function(he){try{ie(he)}catch(H){de.error(H)}finally{this.unsubscribe()}}:super._error,this._complete=me?function(){try{me()}catch(he){de.error(he)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var de;const{closed:se}=this;super.unsubscribe(),!se&&(null===(de=this.onFinalize)||void 0===de||de.call(this))}}},4753:(Ze,we,k)=>{"use strict";k.d(we,{U:()=>F});var p=k(9947),J=k(8889);function F(de,se){return(0,p.e)((me,ie)=>{let oe=0;me.subscribe(new J.Q(ie,he=>{ie.next(de.call(se,he,oe++))}))})}},5373:(Ze,we,k)=>{"use strict";k.d(we,{J:()=>F});var p=k(5724),J=k(4623);function F(de=1/0){return(0,p.z)(J.y,de)}},5724:(Ze,we,k)=>{"use strict";k.d(we,{z:()=>oe});var p=k(4753),J=k(9985),F=k(9947),se=(k(8395),k(8889)),ie=k(5044);function oe(he,H,$=1/0){return(0,ie.m)(H)?oe((Q,je)=>(0,p.U)((De,Ge)=>H(Q,De,je,Ge))((0,J.Xf)(he(Q,je))),$):("number"==typeof H&&($=H),(0,F.e)((Q,je)=>function(he,H,$,Q,je,De,Ge,Be){const le=[];let K=0,ce=0,Te=!1;const ye=()=>{Te&&!le.length&&!K&&H.complete()},qe=ze=>K<Q?Me(ze):le.push(ze),Me=ze=>{K++;let Ke=!1;(0,J.Xf)($(ze,ce++)).subscribe(new se.Q(H,ct=>{H.next(ct)},()=>{Ke=!0},void 0,()=>{if(Ke)try{for(K--;le.length&&K<Q;){const ct=le.shift();Me(ct)}ye()}catch(ct){H.error(ct)}}))};return he.subscribe(new se.Q(H,qe,()=>{Te=!0,ye()})),()=>{}}(Q,je,he,$)))}},4763:(Ze,we,k)=>{"use strict";k.d(we,{Q:()=>de});var p=k(8395),J=k(9947),F=k(8889);function de(se,me=0){return(0,J.e)((ie,oe)=>{ie.subscribe(new F.Q(oe,he=>(0,p.f)(oe,se,()=>oe.next(he),me),()=>(0,p.f)(oe,se,()=>oe.complete(),me),he=>(0,p.f)(oe,se,()=>oe.error(he),me)))})}},3174:(Ze,we,k)=>{"use strict";k.d(we,{B:()=>me});var p=k(5947),J=k(9468),F=k(273),de=k(3113),se=k(9947);function me(oe={}){const{connector:he=(()=>new F.x),resetOnError:H=!0,resetOnComplete:$=!0,resetOnRefCountZero:Q=!0}=oe;return je=>{let De=null,Ge=null,Be=null,le=0,K=!1,ce=!1;const Te=()=>{null==Ge||Ge.unsubscribe(),Ge=null},ye=()=>{Te(),De=Be=null,K=ce=!1},qe=()=>{const Me=De;ye(),null==Me||Me.unsubscribe()};return(0,se.e)((Me,ze)=>{le++,!ce&&!K&&Te();const Ke=Be=null!=Be?Be:he();ze.add(()=>{le--,0===le&&!ce&&!K&&(Ge=ie(qe,Q))}),Ke.subscribe(ze),De||(De=new de.Hp({next:ct=>Ke.next(ct),error:ct=>{ce=!0,Te(),Ge=ie(ye,H,ct),Ke.error(ct)},complete:()=>{K=!0,Te(),Ge=ie(ye,$),Ke.complete()}}),(0,p.D)(Me).subscribe(De))})(je)}}function ie(oe,he,...H){return!0===he?(oe(),null):!1===he?null:he(...H).pipe((0,J.q)(1)).subscribe(()=>oe())}},5222:(Ze,we,k)=>{"use strict";k.d(we,{R:()=>J});var p=k(9947);function J(F,de=0){return(0,p.e)((se,me)=>{me.add(F.schedule(()=>se.subscribe(me),de))})}},9468:(Ze,we,k)=>{"use strict";k.d(we,{q:()=>de});var p=k(5583),J=k(9947),F=k(8889);function de(se){return se<=0?()=>p.E:(0,J.e)((me,ie)=>{let oe=0;me.subscribe(new F.Q(ie,he=>{++oe<=se&&(ie.next(he),se<=oe&&ie.complete())}))})}},7384:(Ze,we,k)=>{"use strict";k.d(we,{b:()=>se});var p=k(5044),J=k(9947),F=k(8889),de=k(4623);function se(me,ie,oe){const he=(0,p.m)(me)||ie||oe?{next:me,error:ie,complete:oe}:me;return he?(0,J.e)((H,$)=>{var Q;null===(Q=he.subscribe)||void 0===Q||Q.call(he);let je=!0;H.subscribe(new F.Q($,De=>{var Ge;null===(Ge=he.next)||void 0===Ge||Ge.call(he,De),$.next(De)},()=>{var De;je=!1,null===(De=he.complete)||void 0===De||De.call(he),$.complete()},De=>{var Ge;je=!1,null===(Ge=he.error)||void 0===Ge||Ge.call(he,De),$.error(De)},()=>{var De,Ge;je&&(null===(De=he.unsubscribe)||void 0===De||De.call(he)),null===(Ge=he.finalize)||void 0===Ge||Ge.call(he)}))}):de.y}},2869:(Ze,we,k)=>{"use strict";k.d(we,{o:()=>se});var p=k(7908);class J extends p.w0{constructor(ie,oe){super()}schedule(ie,oe=0){return this}}const F={setInterval(...me){const{delegate:ie}=F;return((null==ie?void 0:ie.setInterval)||setInterval)(...me)},clearInterval(me){const{delegate:ie}=F;return((null==ie?void 0:ie.clearInterval)||clearInterval)(me)},delegate:void 0};var de=k(3980);class se extends J{constructor(ie,oe){super(ie,oe),this.scheduler=ie,this.work=oe,this.pending=!1}schedule(ie,oe=0){if(this.closed)return this;this.state=ie;const he=this.id,H=this.scheduler;return null!=he&&(this.id=this.recycleAsyncId(H,he,oe)),this.pending=!0,this.delay=oe,this.id=this.id||this.requestAsyncId(H,this.id,oe),this}requestAsyncId(ie,oe,he=0){return F.setInterval(ie.flush.bind(ie,this),he)}recycleAsyncId(ie,oe,he=0){if(null!=he&&this.delay===he&&!1===this.pending)return oe;F.clearInterval(oe)}execute(ie,oe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const he=this._execute(ie,oe);if(he)return he;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ie,oe){let H,he=!1;try{this.work(ie)}catch($){he=!0,H=$||new Error("Scheduled action threw falsy error")}if(he)return this.unsubscribe(),H}unsubscribe(){if(!this.closed){const{id:ie,scheduler:oe}=this,{actions:he}=oe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,de.P)(he,this),null!=ie&&(this.id=this.recycleAsyncId(oe,ie,null)),this.delay=null,super.unsubscribe()}}}},8843:(Ze,we,k)=>{"use strict";k.d(we,{v:()=>F});var p=k(1733);class J{constructor(se,me=J.now){this.schedulerActionCtor=se,this.now=me}schedule(se,me=0,ie){return new this.schedulerActionCtor(this,se).schedule(ie,me)}}J.now=p.l.now;class F extends J{constructor(se,me=J.now){super(se,me),this.actions=[],this._active=!1,this._scheduled=void 0}flush(se){const{actions:me}=this;if(this._active)return void me.push(se);let ie;this._active=!0;do{if(ie=se.execute(se.state,se.delay))break}while(se=me.shift());if(this._active=!1,ie){for(;se=me.shift();)se.unsubscribe();throw ie}}}},2210:(Ze,we,k)=>{"use strict";k.d(we,{z:()=>F});var p=k(2869);const F=new(k(8843).v)(p.o)},1733:(Ze,we,k)=>{"use strict";k.d(we,{l:()=>p});const p={now:()=>(p.delegate||Date).now(),delegate:void 0}},2496:(Ze,we,k)=>{"use strict";k.d(we,{z:()=>p});const p={setTimeout(...J){const{delegate:F}=p;return((null==F?void 0:F.setTimeout)||setTimeout)(...J)},clearTimeout(J){const{delegate:F}=p;return((null==F?void 0:F.clearTimeout)||clearTimeout)(J)},delegate:void 0}},5497:(Ze,we,k)=>{"use strict";k.d(we,{h:()=>J});const J="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},4816:(Ze,we,k)=>{"use strict";k.d(we,{L:()=>p});const p="function"==typeof Symbol&&Symbol.observable||"@@observable"},8830:(Ze,we,k)=>{"use strict";k.d(we,{_6:()=>me,jO:()=>de,yG:()=>se});var p=k(5044);function F(ie){return ie[ie.length-1]}function de(ie){return(0,p.m)(F(ie))?ie.pop():void 0}function se(ie){return function(ie){return ie&&(0,p.m)(ie.schedule)}(F(ie))?ie.pop():void 0}function me(ie,oe){return"number"==typeof F(ie)?ie.pop():oe}},3980:(Ze,we,k)=>{"use strict";function p(J,F){if(J){const de=J.indexOf(F);0<=de&&J.splice(de,1)}}k.d(we,{P:()=>p})},4893:(Ze,we,k)=>{"use strict";function p(J){const de=J(se=>{Error.call(se),se.stack=(new Error).stack});return de.prototype=Object.create(Error.prototype),de.prototype.constructor=de,de}k.d(we,{d:()=>p})},8706:(Ze,we,k)=>{"use strict";k.d(we,{x:()=>F,O:()=>de});var p=k(5367);let J=null;function F(se){if(p.v.useDeprecatedSynchronousErrorHandling){const me=!J;if(me&&(J={errorThrown:!1,error:null}),se(),me){const{errorThrown:ie,error:oe}=J;if(J=null,ie)throw oe}}else se()}function de(se){p.v.useDeprecatedSynchronousErrorHandling&&J&&(J.errorThrown=!0,J.error=se)}},8395:(Ze,we,k)=>{"use strict";function p(J,F,de,se=0,me=!1){const ie=F.schedule(function(){de(),me?J.add(this.schedule(null,se)):this.unsubscribe()},se);if(J.add(ie),!me)return ie}k.d(we,{f:()=>p})},4623:(Ze,we,k)=>{"use strict";function p(J){return J}k.d(we,{y:()=>p})},1537:(Ze,we,k)=>{"use strict";k.d(we,{z:()=>p});const p=J=>J&&"number"==typeof J.length&&"function"!=typeof J},9908:(Ze,we,k)=>{"use strict";k.d(we,{D:()=>J});var p=k(5044);function J(F){return Symbol.asyncIterator&&(0,p.m)(null==F?void 0:F[Symbol.asyncIterator])}},5044:(Ze,we,k)=>{"use strict";function p(J){return"function"==typeof J}k.d(we,{m:()=>p})},1073:(Ze,we,k)=>{"use strict";k.d(we,{c:()=>F});var p=k(4816),J=k(5044);function F(de){return(0,J.m)(de[p.L])}},2317:(Ze,we,k)=>{"use strict";k.d(we,{T:()=>F});var p=k(5497),J=k(5044);function F(de){return(0,J.m)(null==de?void 0:de[p.h])}},2442:(Ze,we,k)=>{"use strict";k.d(we,{t:()=>J});var p=k(5044);function J(F){return(0,p.m)(null==F?void 0:F.then)}},7751:(Ze,we,k)=>{"use strict";k.d(we,{Q:()=>F,L:()=>de});var p=k(9162),J=k(5044);function F(se){return(0,p.FC)(this,arguments,function*(){const ie=se.getReader();try{for(;;){const{value:oe,done:he}=yield(0,p.qq)(ie.read());if(he)return yield(0,p.qq)(void 0);yield yield(0,p.qq)(oe)}}finally{ie.releaseLock()}})}function de(se){return(0,J.m)(null==se?void 0:se.getReader)}},9947:(Ze,we,k)=>{"use strict";k.d(we,{A:()=>J,e:()=>F});var p=k(5044);function J(de){return(0,p.m)(null==de?void 0:de.lift)}function F(de){return se=>{if(J(se))return se.lift(function(me){try{return de(me,this)}catch(ie){this.error(ie)}});throw new TypeError("Unable to lift unknown Observable type")}}},5160:(Ze,we,k)=>{"use strict";k.d(we,{h:()=>F});var p=k(5367),J=k(2496);function F(de){J.z.setTimeout(()=>{const{onUnhandledError:se}=p.v;if(!se)throw de;se(de)})}},3754:(Ze,we,k)=>{"use strict";function p(J){return new TypeError(`You provided ${null!==J&&"object"==typeof J?"an invalid object":`'${J}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(we,{z:()=>p})},4648:(Ze,we,k)=>{"use strict";var p=k(3668);let J=null;function F(){return J}const ie=new p.OlP("DocumentToken");let oe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=p.Yz7({token:n,factory:function(){return(0,p.LFG)($)},providedIn:"platform"}),n})();const H=new p.OlP("Location Initialized");let $=(()=>{class n extends oe{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return F().getBaseHref(this._doc)}onPopState(t){const r=F().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=F().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,a){Q()?this._history.pushState(t,r,a):this.location.hash=a}replaceState(t,r,a){Q()?this._history.replaceState(t,r,a):this.location.hash=a}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(ie))},n.\u0275prov=p.Yz7({token:n,factory:function(){return new $((0,p.LFG)(ie))},providedIn:"platform"}),n})();function Q(){return!!window.history.pushState}function De(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ge(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Be(n){return n&&"?"!==n[0]?"?"+n:n}let le=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=p.Yz7({token:n,factory:function(){return function(n){const e=(0,p.LFG)(ie).location;return new Te((0,p.LFG)(oe),e&&e.origin||"")}()},providedIn:"root"}),n})();const ce=new p.OlP("appBaseHref");let Te=(()=>{class n extends le{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return De(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Be(this._platformLocation.search),a=this._platformLocation.hash;return a&&t?`${r}${a}`:r}pushState(t,r,a,l){const h=this.prepareExternalUrl(a+Be(l));this._platformLocation.pushState(t,r,h)}replaceState(t,r,a,l){const h=this.prepareExternalUrl(a+Be(l));this._platformLocation.replaceState(t,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,a;null==(a=(r=this._platformLocation).historyGo)||a.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(oe),p.LFG(ce,8))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})(),ye=(()=>{class n extends le{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=De(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,a,l){let h=this.prepareExternalUrl(a+Be(l));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(t,r,h)}replaceState(t,r,a,l){let h=this.prepareExternalUrl(a+Be(l));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,a;null==(a=(r=this._platformLocation).historyGo)||a.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(oe),p.LFG(ce,8))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})(),qe=(()=>{class n{constructor(t,r){this._subject=new p.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const a=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Ge(Ke(a)),this._platformStrategy.onPopState(l=>{this._subject.emit({url:this.path(!0),pop:!0,state:l.state,type:l.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Be(r))}normalize(t){return n.stripTrailingSlash(function(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Ke(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",a=null){this._platformStrategy.pushState(a,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Be(r)),a)}replaceState(t,r="",a=null){this._platformStrategy.replaceState(a,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Be(r)),a)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,a;null==(a=(r=this._platformStrategy).historyGo)||a.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(a=>a(t,r))}subscribe(t,r,a){return this._subject.subscribe({next:t,error:r,complete:a})}}return n.normalizeQueryParams=Be,n.joinWithSlash=De,n.stripTrailingSlash=Ge,n.\u0275fac=function(t){return new(t||n)(p.LFG(le),p.LFG(oe))},n.\u0275prov=p.Yz7({token:n,factory:function(){return new qe((0,p.LFG)(le),(0,p.LFG)(oe))},providedIn:"root"}),n})();function Ke(n){return n.replace(/\/index.html$/,"")}const ct={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var ee=(()=>((ee=ee||{})[ee.Decimal=0]="Decimal",ee[ee.Percent=1]="Percent",ee[ee.Currency=2]="Currency",ee[ee.Scientific=3]="Scientific",ee))(),fe=(()=>((fe=fe||{})[fe.Zero=0]="Zero",fe[fe.One=1]="One",fe[fe.Two=2]="Two",fe[fe.Few=3]="Few",fe[fe.Many=4]="Many",fe[fe.Other=5]="Other",fe))(),ge=(()=>((ge=ge||{})[ge.Decimal=0]="Decimal",ge[ge.Group=1]="Group",ge[ge.List=2]="List",ge[ge.PercentSign=3]="PercentSign",ge[ge.PlusSign=4]="PlusSign",ge[ge.MinusSign=5]="MinusSign",ge[ge.Exponential=6]="Exponential",ge[ge.SuperscriptingExponent=7]="SuperscriptingExponent",ge[ge.PerMille=8]="PerMille",ge[ge.Infinity=9]="Infinity",ge[ge.NaN=10]="NaN",ge[ge.TimeSeparator=11]="TimeSeparator",ge[ge.CurrencyDecimal=12]="CurrencyDecimal",ge[ge.CurrencyGroup=13]="CurrencyGroup",ge))();function bn(n,e){const t=(0,p.cg1)(n),r=t[p.wAp.NumberSymbols][e];if(void 0===r){if(e===ge.CurrencyDecimal)return t[p.wAp.NumberSymbols][ge.Decimal];if(e===ge.CurrencyGroup)return t[p.wAp.NumberSymbols][ge.Group]}return r}const ns=p.kL8;const hn=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function qn(n,e,t,r,a){const h=function(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(";"),a=r[0],l=r[1],h=-1!==a.indexOf(".")?a.split("."):[a.substring(0,a.lastIndexOf("0")+1),a.substring(a.lastIndexOf("0")+1)],y=h[0],w=h[1]||"";t.posPre=y.substr(0,y.indexOf("#"));for(let R=0;R<w.length;R++){const x=w.charAt(R);"0"===x?t.minFrac=t.maxFrac=R+1:"#"===x?t.maxFrac=R+1:t.posSuf+=x}const T=y.split(",");if(t.gSize=T[1]?T[1].length:0,t.lgSize=T[2]||T[1]?(T[2]||T[1]).length:0,l){const R=a.length-t.posPre.length-t.posSuf.length,x=l.indexOf("#");t.negPre=l.substr(0,x).replace(/'/g,""),t.negSuf=l.substr(x+R).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function(n,e){return(0,p.cg1)(n)[p.wAp.NumberFormats][e]}(e,ee.Currency),bn(e,ge.MinusSign));return h.minFrac=function(n){let e;const t=ct[n];return t&&(e=t[2]),"number"==typeof e?e:2}(r),h.maxFrac=h.minFrac,function(n,e,t,r,a,l,h=!1){let y="",w=!1;if(isFinite(n)){let T=function(n){let r,a,l,h,y,e=Math.abs(n)+"",t=0;for((a=e.indexOf("."))>-1&&(e=e.replace(".","")),(l=e.search(/e/i))>0?(a<0&&(a=l),a+=+e.slice(l+1),e=e.substring(0,l)):a<0&&(a=e.length),l=0;"0"===e.charAt(l);l++);if(l===(y=e.length))r=[0],a=1;else{for(y--;"0"===e.charAt(y);)y--;for(a-=l,r=[],h=0;l<=y;l++,h++)r[h]=Number(e.charAt(l))}return a>22&&(r=r.splice(0,21),t=a-1,a=1),{digits:r,exponent:t,integerLen:a}}(n);h&&(T=function(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(T));let R=e.minInt,x=e.minFrac,B=e.maxFrac;if(l){const wt=l.match(hn);if(null===wt)throw new Error(`${l} is not a valid digit info`);const jt=wt[1],gt=wt[3],vn=wt[5];null!=jt&&(R=pi(jt)),null!=gt&&(x=pi(gt)),null!=vn?B=pi(vn):null!=gt&&x>B&&(B=x)}!function(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,a=r.length-n.integerLen;const l=Math.min(Math.max(e,a),t);let h=l+n.integerLen,y=r[h];if(h>0){r.splice(Math.max(n.integerLen,h));for(let x=h;x<r.length;x++)r[x]=0}else{a=Math.max(0,a),n.integerLen=1,r.length=Math.max(1,h=l+1),r[0]=0;for(let x=1;x<h;x++)r[x]=0}if(y>=5)if(h-1<0){for(let x=0;x>h;x--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[h-1]++;for(;a<Math.max(0,l);a++)r.push(0);let w=0!==l;const T=e+n.integerLen,R=r.reduceRight(function(x,B,q,X){return X[q]=(B+=x)<10?B:B-10,w&&(0===X[q]&&q>=T?X.pop():w=!1),B>=10?1:0},0);R&&(r.unshift(R),n.integerLen++)}(T,x,B);let q=T.digits,X=T.integerLen;const Ee=T.exponent;let xe=[];for(w=q.every(wt=>!wt);X<R;X++)q.unshift(0);for(;X<0;X++)q.unshift(0);X>0?xe=q.splice(X,q.length):(xe=q,q=[0]);const at=[];for(q.length>=e.lgSize&&at.unshift(q.splice(-e.lgSize,q.length).join(""));q.length>e.gSize;)at.unshift(q.splice(-e.gSize,q.length).join(""));q.length&&at.unshift(q.join("")),y=at.join(bn(t,r)),xe.length&&(y+=bn(t,a)+xe.join("")),Ee&&(y+=bn(t,ge.Exponential)+"+"+Ee)}else y=bn(t,ge.Infinity);return y=n<0&&!w?e.negPre+y+e.negSuf:e.posPre+y+e.posSuf,y}(n,h,e,ge.CurrencyGroup,ge.CurrencyDecimal,a).replace("\xa4",t).replace("\xa4","").trim()}function pi(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}class Qr{}let rn=(()=>{class n extends Qr{constructor(t){super(),this.locale=t}getPluralCategory(t,r){switch(ns(r||this.locale)(t)){case fe.Zero:return"zero";case fe.One:return"one";case fe.Two:return"two";case fe.Few:return"few";case fe.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(p.soG))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();class Ha{constructor(e,t,r,a){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=a}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ga=(()=>{class n{constructor(t,r,a){this._viewContainer=t,this._template=r,this._differs=a,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(r){throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(n){return n.name||typeof n}(t)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=[];t.forEachOperation((a,l,h)=>{if(null==a.previousIndex){const y=this._viewContainer.createEmbeddedView(this._template,new Ha(null,this._ngForOf,-1,-1),null===h?void 0:h),w=new qa(a,y);r.push(w)}else if(null==h)this._viewContainer.remove(null===l?void 0:l);else if(null!==l){const y=this._viewContainer.get(l);this._viewContainer.move(y,h);const w=new qa(a,y);r.push(w)}});for(let a=0;a<r.length;a++)this._perViewChange(r[a].view,r[a].record);for(let a=0,l=this._viewContainer.length;a<l;a++){const h=this._viewContainer.get(a);h.context.index=a,h.context.count=l,h.context.ngForOf=this._ngForOf}t.forEachIdentityChange(a=>{this._viewContainer.get(a.currentIndex).context.$implicit=a.item})}_perViewChange(t,r){t.context.$implicit=r.item}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(p.s_b),p.Y36(p.Rgc),p.Y36(p.ZZ4))},n.\u0275dir=p.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class qa{constructor(e,t){this.record=e,this.view=t}}let ki=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Yu,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Ls("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Ls("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(p.s_b),p.Y36(p.Rgc))},n.\u0275dir=p.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class Yu{constructor(){this.$implicit=null,this.ngIf=null}}function Ls(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,p.AaK)(e)}'.`)}let Li=(()=>{class n{constructor(t,r="USD"){this._locale=t,this._defaultCurrencyCode=r}transform(t,r=this._defaultCurrencyCode,a="symbol",l,h){if(!function(n){return!(null==n||""===n||n!=n)}(t))return null;h=h||this._locale,"boolean"==typeof a&&(a=a?"symbol":"code");let y=r||this._defaultCurrencyCode;"code"!==a&&(y="symbol"===a||"symbol-narrow"===a?function(n,e,t="en"){const r=function(n){return(0,p.cg1)(n)[p.wAp.Currencies]}(t)[n]||ct[n]||[],a=r[1];return"narrow"===e&&"string"==typeof a?a:r[0]||n}(y,"symbol"===a?"wide":"narrow",h):a);try{return qn(function(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),h,y,r,l)}catch(w){throw function(n,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${(0,p.AaK)(n)}'`)}(n,w.message)}}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(p.soG,16),p.Y36(p.EJc,16))},n.\u0275pipe=p.Yjl({name:"currency",type:n,pure:!0}),n})();let Xu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({providers:[{provide:Qr,useClass:rn}]}),n})();function Ir(n){return"server"===n}let Rp=(()=>{class n{}return n.\u0275prov=(0,p.Yz7)({token:n,providedIn:"root",factory:()=>new Za((0,p.LFG)(ie),window)}),n})();class Za{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let a=r.currentNode;for(;a;){const l=a.shadowRoot;if(l){const h=l.getElementById(e)||l.querySelector(`[name="${e}"]`);if(h)return h}a=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,a=t.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(r-l[0],a-l[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=go(this.window.history)||go(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function go(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class yo extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new yo,J||(J=n)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(Pr=Pr||document.querySelector("base"),Pr?Pr.getAttribute("href"):null);return null==t?null:function(n){On=On||document.createElement("a"),On.setAttribute("href",n);const e=On.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Pr=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[a,l]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(a.trim()===e)return decodeURIComponent(l)}return null}(document.cookie,e)}}let On,Pr=null;const _o=new p.OlP("TRANSITION_ID"),nn=[{provide:p.ip1,useFactory:function(n,e,t){return()=>{t.get(p.CZH).donePromise.then(()=>{const r=F(),a=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<a.length;l++)r.remove(a[l])})}},deps:[_o,ie,p.zs3],multi:!0}];class Es{static init(){(0,p.VLi)(new Es)}addToWindow(e){p.dqk.getAngularTestability=(r,a=!0)=>{const l=e.findTestabilityInTree(r,a);if(null==l)throw new Error("Could not find testability for element.");return l},p.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),p.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),p.dqk.frameworkStabilizers||(p.dqk.frameworkStabilizers=[]),p.dqk.frameworkStabilizers.push(r=>{const a=p.dqk.getAllAngularTestabilities();let l=a.length,h=!1;const y=function(w){h=h||w,l--,0==l&&r(h)};a.forEach(function(w){w.whenStable(y)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const a=e.getTestability(t);return null!=a?a:r?F().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Ya=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();const ss=new p.OlP("EventManagerPlugins");let fn=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(a=>a.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,a){return this._findPluginFor(r).addEventListener(t,r,a)}addGlobalEventListener(t,r,a){return this._findPluginFor(r).addGlobalEventListener(t,r,a)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const a=this._plugins;for(let l=0;l<a.length;l++){const h=a[l];if(h.supports(t))return this._eventNameToPlugin.set(t,h),h}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(ss),p.LFG(p.R0b))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();class Bs{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const a=F().getGlobalEventTarget(this._doc,e);if(!a)throw new Error(`Unsupported event target ${a} for event ${t}`);return this.addEventListener(a,t,r)}}let Eo=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(a=>{this._stylesSet.has(a)||(this._stylesSet.add(a),r.add(a))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})(),nr=(()=>{class n extends Eo{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,a){t.forEach(l=>{const h=this._doc.createElement("style");h.textContent=l,a.push(r.appendChild(h))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Ja),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,a)=>{this._addStylesToHost(t,a,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Ja))}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(ie))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();function Ja(n){F().remove(n)}const js={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Xa=/%COMP%/g;function ji(n,e,t){for(let r=0;r<e.length;r++){let a=e[r];Array.isArray(a)?ji(n,a,t):(a=a.replace(Xa,n),t.push(a))}return t}function $i(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let $s=(()=>{class n{constructor(t,r,a){this.eventManager=t,this.sharedStylesHost=r,this.appId=a,this.rendererByCompId=new Map,this.defaultRenderer=new wo(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case p.ifc.Emulated:{let a=this.rendererByCompId.get(r.id);return a||(a=new aa(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,a)),a.applyToHost(t),a}case 1:case p.ifc.ShadowDom:return new ll(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const a=ji(r.id,r.styles,[]);this.sharedStylesHost.addStyles(a),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(fn),p.LFG(nr),p.LFG(p.AFp))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();class wo{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(js[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,a){if(a){t=a+":"+t;const l=js[a];l?e.setAttributeNS(l,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const a=js[r];a?e.removeAttributeNS(a,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,a){a&(p.JOm.DashCase|p.JOm.Important)?e.style.setProperty(t,r,a&p.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&p.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,$i(r)):this.eventManager.addEventListener(e,t,$i(r))}}class aa extends wo{constructor(e,t,r,a){super(e),this.component=r;const l=ji(a+"-"+r.id,r.styles,[]);t.addStyles(l),this.contentAttr="_ngcontent-%COMP%".replace(Xa,a+"-"+r.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(Xa,n)}(a+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class ll extends wo{constructor(e,t,r,a){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=ji(a.id,a.styles,[]);for(let h=0;h<l.length;h++){const y=document.createElement("style");y.textContent=l[h],this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let eu=(()=>{class n extends Bs{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,a){return t.addEventListener(r,a,!1),()=>this.removeEventListener(t,r,a)}removeEventListener(t,r,a){return t.removeEventListener(r,a)}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(ie))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();const Oc=["alt","control","meta","shift"],Hs={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},mn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Pc={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let $m=(()=>{class n extends Bs{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,a){const l=n.parseEventName(r),h=n.eventCallback(l.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>F().onAndCancel(t,l.domEventName,h))}static parseEventName(t){const r=t.toLowerCase().split("."),a=r.shift();if(0===r.length||"keydown"!==a&&"keyup"!==a)return null;const l=n._normalizeKey(r.pop());let h="";if(Oc.forEach(w=>{const T=r.indexOf(w);T>-1&&(r.splice(T,1),h+=w+".")}),h+=l,0!=r.length||0===l.length)return null;const y={};return y.domEventName=a,y.fullKey=h,y}static getEventFullKey(t){let r="",a=function(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&mn.hasOwnProperty(e)&&(e=mn[e]))}return Hs[e]||e}(t);return a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),Oc.forEach(l=>{l!=a&&Pc[l](t)&&(r+=l+".")}),r+=a,r}static eventCallback(t,r,a){return l=>{n.getEventFullKey(l)===t&&a.runGuarded(()=>r(l))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(ie))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})(),ha=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=p.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):p.LFG(Mh),r},providedIn:"root"}),n})(),Mh=(()=>{class n extends ha{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case p.q3G.NONE:return r;case p.q3G.HTML:return(0,p.qzn)(r,"HTML")?(0,p.z3N)(r):(0,p.EiD)(this._doc,String(r)).toString();case p.q3G.STYLE:return(0,p.qzn)(r,"Style")?(0,p.z3N)(r):r;case p.q3G.SCRIPT:if((0,p.qzn)(r,"Script"))return(0,p.z3N)(r);throw new Error("unsafe value used in a script context");case p.q3G.URL:return(0,p.yhl)(r),(0,p.qzn)(r,"URL")?(0,p.z3N)(r):(0,p.mCW)(String(r));case p.q3G.RESOURCE_URL:if((0,p.qzn)(r,"ResourceURL"))return(0,p.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,p.JVY)(t)}bypassSecurityTrustStyle(t){return(0,p.L6k)(t)}bypassSecurityTrustScript(t){return(0,p.eBb)(t)}bypassSecurityTrustUrl(t){return(0,p.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,p.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(ie))},n.\u0275prov=p.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function(n){return new Mh(n.get(ie))}(p.LFG(p.zs3)),r},providedIn:"root"}),n})();const pa=(0,p.eFA)(p._c5,"browser",[{provide:p.Lbi,useValue:"browser"},{provide:p.g9A,useValue:function(){yo.makeCurrent(),Es.init()},multi:!0},{provide:ie,useFactory:function(){return(0,p.RDi)(document),document},deps:[]}]),xp=[[],{provide:p.zSh,useValue:"root"},{provide:p.qLn,useFactory:function(){return new p.qLn},deps:[]},{provide:ss,useClass:eu,multi:!0,deps:[ie,p.R0b,p.Lbi]},{provide:ss,useClass:$m,multi:!0,deps:[ie]},[],{provide:$s,useClass:$s,deps:[fn,nr,p.AFp]},{provide:p.FYo,useExisting:$s},{provide:Eo,useExisting:nr},{provide:nr,useClass:nr,deps:[ie]},{provide:p.dDg,useClass:p.dDg,deps:[p.R0b]},{provide:fn,useClass:fn,deps:[ss,p.R0b]},{provide:class{},useClass:Ya,deps:[]},[]];let Lc=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:p.AFp,useValue:t.appId},{provide:_o,useExisting:p.AFp},nn]}}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(n,12))},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({providers:xp,imports:[Xu,p.hGG]}),n})();"undefined"!=typeof window&&window;var An=k(5947),os=k(8830);function pt(...n){const e=(0,os.yG)(n);return(0,An.D)(n,e)}var Rn=k(273);class kr extends Rn.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var Pn=k(8305);const{isArray:Oh}=Array,{getPrototypeOf:as,prototype:Uc,keys:Bc}=Object;function ou(n){if(1===n.length){const e=n[0];if(Oh(e))return{args:e,keys:null};if(function(n){return n&&"object"==typeof n&&as(n)===Uc}(e)){const t=Bc(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var uu=k(4623),ht=k(4753);const{isArray:bo}=Array;function To(n){return(0,ht.U)(e=>function(n,e){return bo(e)?n(...e):n(e)}(n,e))}function jc(n,e){return n.reduce((t,r,a)=>(t[r]=e[a],t),{})}var Pt=k(8889),yl=k(8395);function Cs(n,e,t){n?(0,yl.f)(t,n,e):e()}const Is=(0,k(4893).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Hi=k(5373);function Fr(...n){return(0,Hi.J)(1)((0,An.D)(n,(0,os.yG)(n)))}var Hc=k(9985);function du(n){return new Pn.y(e=>{(0,Hc.Xf)(n()).subscribe(e)})}var bs=k(5583),Gc=k(7908),Lr=k(9947);function Cn(){return(0,Lr.e)((n,e)=>{let t=null;n._refCount++;const r=new Pt.Q(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const a=n._connection,l=t;t=null,a&&(!l||a===l)&&a.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Ph extends Pn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Lr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Gc.w0;const t=this.getSubject();e.add(this.source.subscribe(new Pt.Q(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Gc.w0.EMPTY)}return e}refCount(){return Cn()(this)}}function Jr(n,e){return(0,Lr.e)((t,r)=>{let a=null,l=0,h=!1;const y=()=>h&&!a&&r.complete();t.subscribe(new Pt.Q(r,w=>{null==a||a.unsubscribe();let T=0;const R=l++;(0,Hc.Xf)(n(w,R)).subscribe(a=new Pt.Q(r,x=>r.next(e?e(w,x,R,T++):x),()=>{a=null,y()}))},()=>{h=!0,y()}))})}var _l=k(9468);function hu(...n){const e=(0,os.yG)(n);return(0,Lr.e)((t,r)=>{(e?Fr(n,t,e):Fr(n,t)).subscribe(r)})}function Op(n,e,t,r,a){return(l,h)=>{let y=t,w=e,T=0;l.subscribe(new Pt.Q(h,R=>{const x=T++;w=y?n(w,R,x):(y=!0,R),r&&h.next(w)},a&&(()=>{y&&h.next(w),h.complete()})))}}function vl(n,e){return(0,Lr.e)(Op(n,e,arguments.length>=2,!0))}function Do(n,e){return(0,Lr.e)((t,r)=>{let a=0;t.subscribe(new Pt.Q(r,l=>n.call(e,l,a++)&&r.next(l)))})}function yr(n){return(0,Lr.e)((e,t)=>{let l,r=null,a=!1;r=e.subscribe(new Pt.Q(t,void 0,void 0,h=>{l=(0,Hc.Xf)(n(h,yr(n)(e))),r?(r.unsubscribe(),r=null,l.subscribe(t)):a=!0})),a&&(r.unsubscribe(),r=null,l.subscribe(t))})}var br=k(5724),kn=k(5044);function Ao(n,e){return(0,kn.m)(e)?(0,br.z)(n,e,1):(0,br.z)(n,1)}function qs(n){return n<=0?()=>bs.E:(0,Lr.e)((e,t)=>{let r=[];e.subscribe(new Pt.Q(t,a=>{r.push(a),n<r.length&&r.shift()},()=>{for(const a of r)t.next(a);t.complete()},void 0,()=>{r=null}))})}function Pp(n=kh){return(0,Lr.e)((e,t)=>{let r=!1;e.subscribe(new Pt.Q(t,a=>{r=!0,t.next(a)},()=>r?t.complete():t.error(n())))})}function kh(){return new Is}function Vr(n){return(0,Lr.e)((e,t)=>{let r=!1;e.subscribe(new Pt.Q(t,a=>{r=!0,t.next(a)},()=>{r||t.next(n),t.complete()}))})}function ls(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Do((a,l)=>n(a,l,r)):uu.y,(0,_l.q)(1),t?Vr(e):Pp(()=>new Is))}var In=k(7384);class Gi{constructor(e,t){this.id=e,this.url=t}}class fu extends Gi{constructor(e,t,r="imperative",a=null){super(e,t),this.navigationTrigger=r,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class zs extends Gi{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class qc extends Gi{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Fh extends Gi{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class kp extends Gi{constructor(e,t,r,a){super(e,t),this.urlAfterRedirects=r,this.state=a}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _i extends Gi{constructor(e,t,r,a){super(e,t),this.urlAfterRedirects=r,this.state=a}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Lh extends Gi{constructor(e,t,r,a,l){super(e,t),this.urlAfterRedirects=r,this.state=a,this.shouldActivate=l}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class So extends Gi{constructor(e,t,r,a){super(e,t),this.urlAfterRedirects=r,this.state=a}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zm extends Gi{constructor(e,t,r,a){super(e,t),this.urlAfterRedirects=r,this.state=a}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ws{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class zc{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Wc{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fp{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ts{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Lp{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ur{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Mt="primary";class pu{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ds(n){return new pu(n)}const Ks="ngNavigationCancelingError";function gu(n){const e=Error("NavigationCancelingError: "+n);return e[Ks]=!0,e}function I(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const a={};for(let l=0;l<r.length;l++){const h=r[l],y=n[l];if(h.startsWith(":"))a[h.substring(1)]=y;else if(h!==y.path)return null}return{consumed:n.slice(0,r.length),posParams:a}}function M(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let a;for(let l=0;l<t.length;l++)if(a=t[l],!L(n[a],e[a]))return!1;return!0}function L(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((a,l)=>r[l]===a)}return n===e}function Z(n){return Array.prototype.concat.apply([],n)}function ue(n){return n.length>0?n[n.length-1]:null}function Ve(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function ke(n){return(0,p.CqO)(n)?n:(0,p.QGY)(n)?(0,An.D)(Promise.resolve(n)):pt(n)}const ln={exact:function Zs(n,e,t){if(!Ys(n.segments,e.segments)||!vi(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Zs(n.children[r],e.children[r],t))return!1;return!0},subset:qi},Fn={exact:function(n,e){return M(n,e)},subset:function(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>L(n[t],e[t]))},ignored:()=>!0};function Wn(n,e,t){return ln[t.paths](n.root,e.root,t.matrixParams)&&Fn[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function qi(n,e,t){return Kn(n,e,e.segments,t)}function Kn(n,e,t,r){if(n.segments.length>t.length){const a=n.segments.slice(0,t.length);return!(!Ys(a,t)||e.hasChildren()||!vi(a,t,r))}if(n.segments.length===t.length){if(!Ys(n.segments,t)||!vi(n.segments,t,r))return!1;for(const a in e.children)if(!n.children[a]||!qi(n.children[a],e.children[a],r))return!1;return!0}{const a=t.slice(0,n.segments.length),l=t.slice(n.segments.length);return!!(Ys(n.segments,a)&&vi(n.segments,a,r)&&n.children[Mt])&&Kn(n.children[Mt],e,l,r)}}function vi(n,e,t){return e.every((r,a)=>Fn[t](n[a].parameters,r.parameters))}class Tr{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ds(this.queryParams)),this._queryParamMap}toString(){return El.serialize(this)}}class Vt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Ve(t,(r,a)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Qs(this)}}class ya{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ds(this.parameters)),this._parameterMap}toString(){return Vh(this)}}function Ys(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class Up{}class Ym{parse(e){const t=new Xm(e);return new Tr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Zc(e.root,!0)}`,r=function(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(a=>`${mu(t)}=${mu(a)}`).join("&"):`${mu(t)}=${mu(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);var n;return`${t}${r}${"string"==typeof e.fragment?`#${n=e.fragment,encodeURI(n)}`:""}`}}const El=new Ym;function Qs(n){return n.segments.map(e=>Vh(e)).join("/")}function Zc(n,e){if(!n.hasChildren())return Qs(n);if(e){const t=n.children[Mt]?Zc(n.children[Mt],!1):"",r=[];return Ve(n.children,(a,l)=>{l!==Mt&&r.push(`${l}:${Zc(a,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function(n,e){let t=[];return Ve(n.children,(r,a)=>{a===Mt&&(t=t.concat(e(r,a)))}),Ve(n.children,(r,a)=>{a!==Mt&&(t=t.concat(e(r,a)))}),t}(n,(r,a)=>a===Mt?[Zc(n.children[Mt],!1)]:[`${a}:${Zc(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Mt]?`${Qs(n)}/${t[0]}`:`${Qs(n)}/(${t.join("//")})`}}function Bv(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function mu(n){return Bv(n).replace(/%3B/gi,";")}function Qm(n){return Bv(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function wl(n){return decodeURIComponent(n)}function Jm(n){return wl(n.replace(/\+/g,"%20"))}function Vh(n){return`${Qm(n.path)}${function(n){return Object.keys(n).map(e=>`;${Qm(e)}=${Qm(n[e])}`).join("")}(n.parameters)}`}const _u=/^[^\/()?;=#]+/;function Cl(n){const e=n.match(_u);return e?e[0]:""}const $v=/^[^=?&#]+/,Qc=/^[^&#]+/;class Xm{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Vt([],{}):new Vt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Mt]=new Vt(e,t)),r}parseSegment(){const e=Cl(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new ya(wl(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Cl(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const a=Cl(this.remaining);a&&(r=a,this.capture(r))}e[wl(t)]=wl(r)}parseQueryParam(e){const t=function(n){const e=n.match($v);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const h=function(n){const e=n.match(Qc);return e?e[0]:""}(this.remaining);h&&(r=h,this.capture(r))}const a=Jm(t),l=Jm(r);if(e.hasOwnProperty(a)){let h=e[a];Array.isArray(h)||(h=[h],e[a]=h),h.push(l)}else e[a]=l}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Cl(this.remaining),a=this.remaining[r.length];if("/"!==a&&")"!==a&&";"!==a)throw new Error(`Cannot parse url '${this.url}'`);let l;r.indexOf(":")>-1?(l=r.substr(0,r.indexOf(":")),this.capture(l),this.capture(":")):e&&(l=Mt);const h=this.parseChildren();t[l]=1===Object.keys(h).length?h[Mt]:new Vt([],h),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Bh{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Il(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Il(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=No(e,this._root);return t.length<2?[]:t[t.length-2].children.map(a=>a.value).filter(a=>a!==e)}pathFromRoot(e){return No(e,this._root).map(t=>t.value)}}function Il(n,e){if(n===e.value)return e;for(const t of e.children){const r=Il(n,t);if(r)return r}return null}function No(n,e){if(n===e.value)return[e];for(const t of e.children){const r=No(n,t);if(r.length)return r.unshift(e),r}return[]}class Mo{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function bl(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class jh extends Bh{constructor(e,t){super(e),this.snapshot=t,Bp(this,e)}toString(){return this.snapshot.toString()}}function ey(n,e){const t=function(n,e){const h=new $h([],{},{},"",{},Mt,e,null,n.root,-1,{});return new ty("",new Mo(h,[]))}(n,e),r=new kr([new ya("",{})]),a=new kr({}),l=new kr({}),h=new kr({}),y=new kr(""),w=new Br(r,a,h,y,l,Mt,e,t.root);return w.snapshot=t.root,new jh(new Mo(w,[]),t)}class Br{constructor(e,t,r,a,l,h,y,w){this.url=e,this.params=t,this.queryParams=r,this.fragment=a,this.data=l,this.outlet=h,this.component=y,this._futureSnapshot=w}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ht.U)(e=>Ds(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ht.U)(e=>Ds(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function vu(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const a=t[r],l=t[r-1];if(a.routeConfig&&""===a.routeConfig.path)r--;else{if(l.component)break;r--}}return function(n){return n.reduce((e,t)=>({params:Qe(Qe({},e.params),t.params),data:Qe(Qe({},e.data),t.data),resolve:Qe(Qe({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class $h{constructor(e,t,r,a,l,h,y,w,T,R,x){this.url=e,this.params=t,this.queryParams=r,this.fragment=a,this.data=l,this.outlet=h,this.component=y,this.routeConfig=w,this._urlSegment=T,this._lastPathIndex=R,this._resolve=x}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ds(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ds(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ty extends Bh{constructor(e,t){super(t),this.url=e,Bp(this,t)}toString(){return ny(this._root)}}function Bp(n,e){e.value._routerState=n,e.children.forEach(t=>Bp(n,t))}function ny(n){const e=n.children.length>0?` { ${n.children.map(ny).join(", ")} } `:"";return`${n.value}${e}`}function jp(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,M(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),M(e.params,t.params)||n.params.next(t.params),function(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!M(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),M(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Hh(n,e){const t=M(n.params,e.params)&&function(n,e){return Ys(n,e)&&n.every((t,r)=>M(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Hh(n.parent,e.parent))}function Xc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const a=function(n,e,t){return e.children.map(r=>{for(const a of t.children)if(n.shouldReuseRoute(r.value,a.value.snapshot))return Xc(n,r,a);return Xc(n,r)})}(n,e,t);return new Mo(r,a)}{if(n.shouldAttach(e.value)){const l=n.retrieve(e.value);if(null!==l){const h=l.route;return h.value._futureSnapshot=e.value,h.children=e.children.map(y=>Xc(n,y)),h}}const r=function(n){return new Br(new kr(n.url),new kr(n.params),new kr(n.queryParams),new kr(n.fragment),new kr(n.data),n.outlet,n.component,n)}(e.value),a=e.children.map(l=>Xc(n,l));return new Mo(r,a)}}function Gh(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function xo(n){return"object"==typeof n&&null!=n&&n.outlets}function qh(n,e,t,r,a){let l={};return r&&Ve(r,(h,y)=>{l[y]=Array.isArray(h)?h.map(w=>`${w}`):`${h}`}),new Tr(t.root===n?e:ds(t.root,n,e),l,a)}function ds(n,e,t){const r={};return Ve(n.children,(a,l)=>{r[l]=a===e?t:ds(a,e,t)}),new Vt(n.segments,r)}class Tl{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Gh(r[0]))throw new Error("Root segment cannot have matrix parameters");const a=r.find(xo);if(a&&a!==ue(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class zh{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Hp(n,e,t){if(n||(n=new Vt([],{})),0===n.segments.length&&n.hasChildren())return Dl(n,e,t);const r=function(n,e,t){let r=0,a=e;const l={match:!1,pathIndex:0,commandIndex:0};for(;a<n.segments.length;){if(r>=t.length)return l;const h=n.segments[a],y=t[r];if(xo(y))break;const w=`${y}`,T=r<t.length-1?t[r+1]:null;if(a>0&&void 0===w)break;if(w&&T&&"object"==typeof T&&void 0===T.outlets){if(!Kh(w,T,h))return l;r+=2}else{if(!Kh(w,{},h))return l;r++}a++}return{match:!0,pathIndex:a,commandIndex:r}}(n,e,t),a=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const l=new Vt(n.segments.slice(0,r.pathIndex),{});return l.children[Mt]=new Vt(n.segments.slice(r.pathIndex),n.children),Dl(l,0,a)}return r.match&&0===a.length?new Vt(n.segments,{}):r.match&&!n.hasChildren()?ed(n,e,t):r.match?Dl(n,0,a):ed(n,e,t)}function Dl(n,e,t){if(0===t.length)return new Vt(n.segments,{});{const r=function(n){return xo(n[0])?n[0].outlets:{[Mt]:n}}(t),a={};return Ve(r,(l,h)=>{"string"==typeof l&&(l=[l]),null!==l&&(a[h]=Hp(n.children[h],e,l))}),Ve(n.children,(l,h)=>{void 0===r[h]&&(a[h]=l)}),new Vt(n.segments,a)}}function ed(n,e,t){const r=n.segments.slice(0,e);let a=0;for(;a<t.length;){const l=t[a];if(xo(l)){const w=oy(l.outlets);return new Vt(r,w)}if(0===a&&Gh(t[0])){r.push(new ya(n.segments[e].path,Wv(t[0]))),a++;continue}const h=xo(l)?l.outlets[Mt]:`${l}`,y=a<t.length-1?t[a+1]:null;h&&y&&Gh(y)?(r.push(new ya(h,Wv(y))),a+=2):(r.push(new ya(h,{})),a++)}return new Vt(r,{})}function oy(n){const e={};return Ve(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=ed(new Vt([],{}),0,t))}),e}function Wv(n){const e={};return Ve(n,(t,r)=>e[r]=`${t}`),e}function Kh(n,e,t){return n==t.path&&M(e,t.parameters)}class Kv{constructor(e,t,r,a){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=a}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),jp(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const a=bl(t);e.children.forEach(l=>{const h=l.value.outlet;this.deactivateRoutes(l,a[h],r),delete a[h]}),Ve(a,(l,h)=>{this.deactivateRouteAndItsChildren(l,r)})}deactivateRoutes(e,t,r){const a=e.value,l=t?t.value:null;if(a===l)if(a.component){const h=r.getContext(a.outlet);h&&this.deactivateChildRoutes(e,t,h.children)}else this.deactivateChildRoutes(e,t,r);else l&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),a=r&&e.value.component?r.children:t,l=bl(e);for(const h of Object.keys(l))this.deactivateRouteAndItsChildren(l[h],a);if(r&&r.outlet){const h=r.outlet.detach(),y=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:h,route:e,contexts:y})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),a=r&&e.value.component?r.children:t,l=bl(e);for(const h of Object.keys(l))this.deactivateRouteAndItsChildren(l[h],a);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const a=bl(t);e.children.forEach(l=>{this.activateRoutes(l,a[l.value.outlet],r),this.forwardEvent(new Lp(l.value.snapshot))}),e.children.length&&this.forwardEvent(new Fp(e.value.snapshot))}activateRoutes(e,t,r){const a=e.value,l=t?t.value:null;if(jp(a),a===l)if(a.component){const h=r.getOrCreateContext(a.outlet);this.activateChildRoutes(e,t,h.children)}else this.activateChildRoutes(e,t,r);else if(a.component){const h=r.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const y=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),h.children.onOutletReAttached(y.contexts),h.attachRef=y.componentRef,h.route=y.route.value,h.outlet&&h.outlet.attach(y.componentRef,y.route.value),jp(y.route.value),this.activateChildRoutes(e,null,h.children)}else{const y=function(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(a.snapshot),w=y?y.module.componentFactoryResolver:null;h.attachRef=null,h.route=a,h.resolver=w,h.outlet&&h.outlet.activateWith(a,w),this.activateChildRoutes(e,null,h.children)}}else this.activateChildRoutes(e,null,r)}}class Gp{constructor(e,t){this.routes=e,this.module=t}}function _a(n){return"function"==typeof n}function va(n){return n instanceof Tr}const td=Symbol("INITIAL_VALUE");function Eu(){return Jr(n=>function(...n){const e=(0,os.yG)(n),t=(0,os.jO)(n),{args:r,keys:a}=ou(n);if(0===r.length)return(0,An.D)([],e);const l=new Pn.y(function(n,e,t=uu.y){return r=>{Cs(e,()=>{const{length:a}=n,l=new Array(a);let h=a,y=a;for(let w=0;w<a;w++)Cs(e,()=>{const T=(0,An.D)(n[w],e);let R=!1;T.subscribe(new Pt.Q(r,x=>{l[w]=x,R||(R=!0,y--),y||r.next(t(l.slice()))},()=>{--h||r.complete()}))},r)},r)}}(r,e,a?h=>jc(a,h):uu.y));return t?l.pipe(To(t)):l}(n.map(e=>e.pipe((0,_l.q)(1),hu(td)))).pipe(vl((e,t)=>{let r=!1;return t.reduce((a,l,h)=>a!==td?a:(l===td&&(r=!0),r||!1!==l&&h!==t.length-1&&!va(l)?a:l),e)},td),Do(e=>e!==td),(0,ht.U)(e=>va(e)?e:!0===e),(0,_l.q)(1)))}class Yh{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new nd,this.attachRef=null}}class nd{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Yh,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let Wp=(()=>{class n{constructor(t,r,a,l,h){this.parentContexts=t,this.location=r,this.resolver=a,this.changeDetector=h,this.activated=null,this._activatedRoute=null,this.activateEvents=new p.vpe,this.deactivateEvents=new p.vpe,this.attachEvents=new p.vpe,this.detachEvents=new p.vpe,this.name=l||Mt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const h=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),y=this.parentContexts.getOrCreateContext(this.name).children,w=new Kp(t,y,this.location.injector);this.activated=this.location.createComponent(h,this.location.length,w),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(nd),p.Y36(p.s_b),p.Y36(p._Vd),p.$8M("name"),p.Y36(p.sBO))},n.\u0275dir=p.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class Kp{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Br?this.route:e===nd?this.childContexts:this.parent.get(e,t)}}let uy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=p.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&p._UZ(0,"router-outlet")},directives:[Wp],encapsulation:2}),n})();function ly(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];TC(r,DC(e,r))}}function TC(n,e){n.children&&ly(n.children,e)}function DC(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function wu(n){const e=n.children&&n.children.map(wu),t=e?hr(Qe({},n),{children:e}):Qe({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Mt&&(t.component=uy),t}function yn(n){return n.outlet||Mt}function Al(n,e){const t=n.filter(r=>yn(r)===e);return t.push(...n.filter(r=>yn(r)!==e)),t}const Zp={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function rd(n,e,t){var y;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Qe({},Zp):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const a=(e.matcher||I)(t,n,e);if(!a)return Qe({},Zp);const l={};Ve(a.posParams,(w,T)=>{l[T]=w.path});const h=a.consumed.length>0?Qe(Qe({},l),a.consumed[a.consumed.length-1].parameters):l;return{matched:!0,consumedSegments:a.consumed,lastChild:a.consumed.length,parameters:h,positionalParamSegments:null!=(y=a.posParams)?y:{}}}function Zn(n,e,t,r,a="corrected"){if(t.length>0&&function(n,e,t){return t.some(r=>id(n,e,r)&&yn(r)!==Mt)}(n,t,r)){const h=new Vt(e,function(n,e,t,r){const a={};a[Mt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const l of t)if(""===l.path&&yn(l)!==Mt){const h=new Vt([],{});h._sourceSegment=n,h._segmentIndexShift=e.length,a[yn(l)]=h}return a}(n,e,r,new Vt(t,n.children)));return h._sourceSegment=n,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:[]}}if(0===t.length&&function(n,e,t){return t.some(r=>id(n,e,r))}(n,t,r)){const h=new Vt(n.segments,function(n,e,t,r,a,l){const h={};for(const y of r)if(id(n,t,y)&&!a[yn(y)]){const w=new Vt([],{});w._sourceSegment=n,w._segmentIndexShift="legacy"===l?n.segments.length:e.length,h[yn(y)]=w}return Qe(Qe({},a),h)}(n,e,t,r,n.children,a));return h._sourceSegment=n,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:t}}const l=new Vt(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}function id(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function cy(n,e,t,r){return!!(yn(n)===r||r!==Mt&&id(e,t,n))&&("**"===n.path||rd(e,n,t).matched)}function Qp(n,e,t){return 0===e.length&&!n.children[t]}class Sl{constructor(e){this.segmentGroup=e||null}}class Jp{constructor(e){this.urlTree=e}}function Jh(n){return new Pn.y(e=>e.error(new Sl(n)))}function dy(n){return new Pn.y(e=>e.error(new Jp(n)))}function Qv(n){return new Pn.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class eg{constructor(e,t,r,a,l){this.configLoader=t,this.urlSerializer=r,this.urlTree=a,this.config=l,this.allowRedirects=!0,this.ngModule=e.get(p.h0i)}apply(){const e=Zn(this.urlTree.root,[],[],this.config).segmentGroup,t=new Vt(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Mt).pipe((0,ht.U)(l=>this.createUrlTree(hy(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(yr(l=>{if(l instanceof Jp)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof Sl?this.noMatchError(l):l}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Mt).pipe((0,ht.U)(a=>this.createUrlTree(hy(a),e.queryParams,e.fragment))).pipe(yr(a=>{throw a instanceof Sl?this.noMatchError(a):a}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const a=e.segments.length>0?new Vt([],{[Mt]:e}):e;return new Tr(a,t,r)}expandSegmentGroup(e,t,r,a){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,ht.U)(l=>new Vt([],l))):this.expandSegment(e,r,t,r.segments,a,!0)}expandChildren(e,t,r){const a=[];for(const l of Object.keys(r.children))"primary"===l?a.unshift(l):a.push(l);return(0,An.D)(a).pipe(Ao(l=>{const h=r.children[l],y=Al(t,l);return this.expandSegmentGroup(e,y,h,l).pipe((0,ht.U)(w=>({segment:w,outlet:l})))}),vl((l,h)=>(l[h.outlet]=h.segment,l),{}),function(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Do((a,l)=>n(a,l,r)):uu.y,qs(1),t?Vr(e):Pp(()=>new Is))}())}expandSegment(e,t,r,a,l,h){return(0,An.D)(r).pipe(Ao(y=>this.expandSegmentAgainstRoute(e,t,r,y,a,l,h).pipe(yr(T=>{if(T instanceof Sl)return pt(null);throw T}))),ls(y=>!!y),yr((y,w)=>{if(y instanceof Is||"EmptyError"===y.name){if(Qp(t,a,l))return pt(new Vt([],{}));throw new Sl(t)}throw y}))}expandSegmentAgainstRoute(e,t,r,a,l,h,y){return cy(a,t,l,h)?void 0===a.redirectTo?this.matchSegmentAgainstRoute(e,t,a,l,h):y&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,a,l,h):Jh(t):Jh(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,a,l,h){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,a,h):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,a,l,h)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,a){const l=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?dy(l):this.lineralizeSegments(r,l).pipe((0,br.z)(h=>{const y=new Vt(h,{});return this.expandSegment(e,y,t,h,a,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,a,l,h){const{matched:y,consumedSegments:w,lastChild:T,positionalParamSegments:R}=rd(t,a,l);if(!y)return Jh(t);const x=this.applyRedirectCommands(w,a.redirectTo,R);return a.redirectTo.startsWith("/")?dy(x):this.lineralizeSegments(a,x).pipe((0,br.z)(B=>this.expandSegment(e,t,r,B.concat(l.slice(T)),h,!1)))}matchSegmentAgainstRoute(e,t,r,a,l){if("**"===r.path)return r.loadChildren?(r._loadedConfig?pt(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,ht.U)(B=>(r._loadedConfig=B,new Vt(a,{})))):pt(new Vt(a,{}));const{matched:h,consumedSegments:y,lastChild:w}=rd(t,r,a);if(!h)return Jh(t);const T=a.slice(w);return this.getChildConfig(e,r,a).pipe((0,br.z)(x=>{const B=x.module,q=x.routes,{segmentGroup:X,slicedSegments:Ee}=Zn(t,y,T,q),xe=new Vt(X.segments,X.children);if(0===Ee.length&&xe.hasChildren())return this.expandChildren(B,q,xe).pipe((0,ht.U)(gt=>new Vt(y,gt)));if(0===q.length&&0===Ee.length)return pt(new Vt(y,{}));const at=yn(r)===l;return this.expandSegment(B,xe,q,Ee,at?Mt:l,!0).pipe((0,ht.U)(jt=>new Vt(y.concat(jt.segments),jt.children)))}))}getChildConfig(e,t,r){return t.children?pt(new Gp(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?pt(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,br.z)(a=>{return a?this.configLoader.load(e.injector,t).pipe((0,ht.U)(l=>(t._loadedConfig=l,l))):(n=t,new Pn.y(e=>e.error(gu(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))));var n})):pt(new Gp([],e))}runCanLoadGuards(e,t,r){const a=t.canLoad;return a&&0!==a.length?pt(a.map(h=>{const y=e.get(h);let w;if((n=y)&&_a(n.canLoad))w=y.canLoad(t,r);else{if(!_a(y))throw new Error("Invalid CanLoad guard");w=y(t,r)}var n;return ke(w)})).pipe(Eu(),(0,In.b)(h=>{if(!va(h))return;const y=gu(`Redirecting to "${this.urlSerializer.serialize(h)}"`);throw y.url=h,y}),(0,ht.U)(h=>!0===h)):pt(!0)}lineralizeSegments(e,t){let r=[],a=t.root;for(;;){if(r=r.concat(a.segments),0===a.numberOfChildren)return pt(r);if(a.numberOfChildren>1||!a.children[Mt])return Qv(e.redirectTo);a=a.children[Mt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,a){const l=this.createSegmentGroup(e,t.root,r,a);return new Tr(l,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Ve(e,(a,l)=>{if("string"==typeof a&&a.startsWith(":")){const y=a.substring(1);r[l]=t[y]}else r[l]=a}),r}createSegmentGroup(e,t,r,a){const l=this.createSegments(e,t.segments,r,a);let h={};return Ve(t.children,(y,w)=>{h[w]=this.createSegmentGroup(e,y,r,a)}),new Vt(l,h)}createSegments(e,t,r,a){return t.map(l=>l.path.startsWith(":")?this.findPosParam(e,l,a):this.findOrReturn(l,r))}findPosParam(e,t,r){const a=r[t.path.substring(1)];if(!a)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return a}findOrReturn(e,t){let r=0;for(const a of t){if(a.path===e.path)return t.splice(r),a;r++}return e}}function hy(n){const e={};for(const r of Object.keys(n.children)){const l=hy(n.children[r]);(l.segments.length>0||l.hasChildren())&&(e[r]=l)}return function(n){if(1===n.numberOfChildren&&n.children[Mt]){const e=n.children[Mt];return new Vt(n.segments.concat(e.segments),e.children)}return n}(new Vt(n.segments,e))}class od{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class ad{constructor(e,t){this.component=e,this.route=t}}function tg(n,e,t){const r=n._root;return Iu(r,e?e._root:null,t,[r.value])}function ud(n,e,t){const r=function(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function Iu(n,e,t,r,a={canDeactivateChecks:[],canActivateChecks:[]}){const l=bl(e);return n.children.forEach(h=>{(function(n,e,t,r,a={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,h=e?e.value:null,y=t?t.getContext(n.value.outlet):null;if(h&&l.routeConfig===h.routeConfig){const w=function(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Ys(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ys(n.url,e.url)||!M(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Hh(n,e)||!M(n.queryParams,e.queryParams);default:return!Hh(n,e)}}(h,l,l.routeConfig.runGuardsAndResolvers);w?a.canActivateChecks.push(new od(r)):(l.data=h.data,l._resolvedData=h._resolvedData),Iu(n,e,l.component?y?y.children:null:t,r,a),w&&y&&y.outlet&&y.outlet.isActivated&&a.canDeactivateChecks.push(new ad(y.outlet.component,h))}else h&&Oo(e,y,a),a.canActivateChecks.push(new od(r)),Iu(n,null,l.component?y?y.children:null:t,r,a)})(h,l[h.value.outlet],t,r.concat([h.value]),a),delete l[h.value.outlet]}),Ve(l,(h,y)=>Oo(h,t.getContext(y),a)),a}function Oo(n,e,t){const r=bl(n),a=n.value;Ve(r,(l,h)=>{Oo(l,a.component?e?e.children.getContext(h):null:e,t)}),t.canDeactivateChecks.push(new ad(a.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,a))}class Rl{}function As(n){return new Pn.y(e=>e.error(n))}class tE{constructor(e,t,r,a,l,h){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=a,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=h}recognize(){const e=Zn(this.urlTree.root,[],[],this.config.filter(h=>void 0===h.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Mt);if(null===t)return null;const r=new $h([],Object.freeze({}),Object.freeze(Qe({},this.urlTree.queryParams)),this.urlTree.fragment,{},Mt,this.rootComponentType,null,this.urlTree.root,-1,{}),a=new Mo(r,t),l=new ty(this.url,a);return this.inheritParamsAndData(l._root),l}inheritParamsAndData(e){const t=e.value,r=vu(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(a=>this.inheritParamsAndData(a))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const l of Object.keys(t.children)){const h=t.children[l],y=Al(e,l),w=this.processSegmentGroup(y,h,l);if(null===w)return null;r.push(...w)}const a=Xh(r);return a.sort((e,t)=>e.value.outlet===Mt?-1:t.value.outlet===Mt?1:e.value.outlet.localeCompare(t.value.outlet)),a}processSegment(e,t,r,a){for(const l of e){const h=this.processSegmentAgainstRoute(l,t,r,a);if(null!==h)return h}return Qp(t,r,a)?[]:null}processSegmentAgainstRoute(e,t,r,a){if(e.redirectTo||!cy(e,t,r,a))return null;let l,h=[],y=[];if("**"===e.path){const q=r.length>0?ue(r).parameters:{};l=new $h(r,q,Object.freeze(Qe({},this.urlTree.queryParams)),this.urlTree.fragment,bu(e),yn(e),e.component,e,Nl(t),ef(t)+r.length,cd(e))}else{const q=rd(t,e,r);if(!q.matched)return null;h=q.consumedSegments,y=r.slice(q.lastChild),l=new $h(h,q.parameters,Object.freeze(Qe({},this.urlTree.queryParams)),this.urlTree.fragment,bu(e),yn(e),e.component,e,Nl(t),ef(t)+h.length,cd(e))}const w=(n=e).children?n.children:n.loadChildren?n._loadedConfig.routes:[],{segmentGroup:T,slicedSegments:R}=Zn(t,h,y,w.filter(q=>void 0===q.redirectTo),this.relativeLinkResolution);var n;if(0===R.length&&T.hasChildren()){const q=this.processChildren(w,T);return null===q?null:[new Mo(l,q)]}if(0===w.length&&0===R.length)return[new Mo(l,[])];const x=yn(e)===a,B=this.processSegment(w,T,R,x?Mt:a);return null===B?null:[new Mo(l,B)]}}function hs(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Xh(n){const e=[],t=new Set;for(const r of n){if(!hs(r)){e.push(r);continue}const a=e.find(l=>r.value.routeConfig===l.value.routeConfig);void 0!==a?(a.children.push(...r.children),t.add(a)):e.push(r)}for(const r of t){const a=Xh(r.children);e.push(new Mo(r.value,a))}return e.filter(r=>!t.has(r))}function Nl(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function ef(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function bu(n){return n.data||{}}function cd(n){return n.resolve||{}}function f(n){return Jr(e=>{const t=n(e);return t?(0,An.D)(t).pipe((0,ht.U)(()=>e)):pt(e)})}class A extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const N=new p.OlP("ROUTES");class j{constructor(e,t,r,a){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=a}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const a=this.loadModuleFactory(t.loadChildren).pipe((0,ht.U)(l=>{this.onLoadEndListener&&this.onLoadEndListener(t);const h=l.create(e);return new Gp(Z(h.injector.get(N,void 0,p.XFs.Self|p.XFs.Optional)).map(wu),h)}),yr(l=>{throw t._loader$=void 0,l}));return t._loader$=new Ph(a,()=>new Rn.x).pipe(Cn()),t._loader$}loadModuleFactory(e){return ke(e()).pipe((0,br.z)(t=>t instanceof p.YKP?pt(t):(0,An.D)(this.compiler.compileModuleAsync(t))))}}class Le{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Oe(n){throw n}function nt(n,e,t){return e.parse("/")}function et(n,e){return pt(null)}const Bt={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},rr={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Vn=(()=>{class n{constructor(t,r,a,l,h,y,w){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=a,this.location=l,this.config=w,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Rn.x,this.errorHandler=Oe,this.malformedUriErrorHandler=nt,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:et,afterPreactivation:et},this.urlHandlingStrategy=new Le,this.routeReuseStrategy=new A,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=h.get(p.h0i),this.console=h.get(p.c2e);const x=h.get(p.R0b);this.isNgZoneEnabled=x instanceof p.R0b&&p.R0b.isInAngularZone(),this.resetConfig(w),this.currentUrlTree=new Tr(new Vt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new j(h,y,B=>this.triggerEvent(new Ws(B)),B=>this.triggerEvent(new zc(B))),this.routerState=ey(this.currentUrlTree,this.rootComponentType),this.transitions=new kr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null==(t=this.location.getState())?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Do(a=>0!==a.id),(0,ht.U)(a=>hr(Qe({},a),{extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),Jr(a=>{let l=!1,h=!1;return pt(a).pipe((0,In.b)(y=>{this.currentNavigation={id:y.id,initialUrl:y.currentRawUrl,extractedUrl:y.extractedUrl,trigger:y.source,extras:y.extras,previousNavigation:this.lastSuccessfulNavigation?hr(Qe({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Jr(y=>{const w=this.browserUrlTree.toString(),T=!this.navigated||y.extractedUrl.toString()!==w||w!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||T)&&this.urlHandlingStrategy.shouldProcessUrl(y.rawUrl))return xl(y.source)&&(this.browserUrlTree=y.extractedUrl),pt(y).pipe(Jr(x=>{const B=this.transitions.getValue();return r.next(new fu(x.id,this.serializeUrl(x.extractedUrl),x.source,x.restoredState)),B!==this.transitions.getValue()?bs.E:Promise.resolve(x)}),function(n,e,t,r){return Jr(a=>function(n,e,t,r,a){return new eg(n,e,t,r,a).apply()}(n,e,t,a.extractedUrl,r).pipe((0,ht.U)(l=>hr(Qe({},a),{urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,In.b)(x=>{this.currentNavigation=hr(Qe({},this.currentNavigation),{finalUrl:x.urlAfterRedirects})}),function(n,e,t,r,a){return(0,br.z)(l=>function(n,e,t,r,a="emptyOnly",l="legacy"){try{const h=new tE(n,e,t,r,a,l).recognize();return null===h?As(new Rl):pt(h)}catch(h){return As(h)}}(n,e,l.urlAfterRedirects,t(l.urlAfterRedirects),r,a).pipe((0,ht.U)(h=>hr(Qe({},l),{targetSnapshot:h}))))}(this.rootComponentType,this.config,x=>this.serializeUrl(x),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,In.b)(x=>{if("eager"===this.urlUpdateStrategy){if(!x.extras.skipLocationChange){const q=this.urlHandlingStrategy.merge(x.urlAfterRedirects,x.rawUrl);this.setBrowserUrl(q,x)}this.browserUrlTree=x.urlAfterRedirects}const B=new kp(x.id,this.serializeUrl(x.extractedUrl),this.serializeUrl(x.urlAfterRedirects),x.targetSnapshot);r.next(B)}));if(T&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:B,extractedUrl:q,source:X,restoredState:Ee,extras:xe}=y,at=new fu(B,this.serializeUrl(q),X,Ee);r.next(at);const wt=ey(q,this.rootComponentType).snapshot;return pt(hr(Qe({},y),{targetSnapshot:wt,urlAfterRedirects:q,extras:hr(Qe({},xe),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=y.rawUrl,y.resolve(null),bs.E}),f(y=>{const{targetSnapshot:w,id:T,extractedUrl:R,rawUrl:x,extras:{skipLocationChange:B,replaceUrl:q}}=y;return this.hooks.beforePreactivation(w,{navigationId:T,appliedUrlTree:R,rawUrlTree:x,skipLocationChange:!!B,replaceUrl:!!q})}),(0,In.b)(y=>{const w=new _i(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(w)}),(0,ht.U)(y=>hr(Qe({},y),{guards:tg(y.targetSnapshot,y.currentSnapshot,this.rootContexts)})),function(n,e){return(0,br.z)(t=>{const{targetSnapshot:r,currentSnapshot:a,guards:{canActivateChecks:l,canDeactivateChecks:h}}=t;return 0===h.length&&0===l.length?pt(hr(Qe({},t),{guardsResult:!0})):function(n,e,t,r){return(0,An.D)(n).pipe((0,br.z)(a=>function(n,e,t,r,a){const l=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return l&&0!==l.length?pt(l.map(y=>{const w=ud(y,e,a);let T;if(function(n){return n&&_a(n.canDeactivate)}(w))T=ke(w.canDeactivate(n,e,t,r));else{if(!_a(w))throw new Error("Invalid CanDeactivate guard");T=ke(w(n,e,t,r))}return T.pipe(ls())})).pipe(Eu()):pt(!0)}(a.component,a.route,t,e,r)),ls(a=>!0!==a,!0))}(h,r,a,n).pipe((0,br.z)(y=>y&&function(n){return"boolean"==typeof n}(y)?function(n,e,t,r){return(0,An.D)(e).pipe(Ao(a=>Fr(function(n,e){return null!==n&&e&&e(new Wc(n)),pt(!0)}(a.route.parent,r),function(n,e){return null!==n&&e&&e(new Ts(n)),pt(!0)}(a.route,r),function(n,e,t){const r=e[e.length-1],l=e.slice(0,e.length-1).reverse().map(h=>function(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(h)).filter(h=>null!==h).map(h=>du(()=>pt(h.guards.map(w=>{const T=ud(w,h.node,t);let R;if(function(n){return n&&_a(n.canActivateChild)}(T))R=ke(T.canActivateChild(r,n));else{if(!_a(T))throw new Error("Invalid CanActivateChild guard");R=ke(T(r,n))}return R.pipe(ls())})).pipe(Eu())));return pt(l).pipe(Eu())}(n,a.path,t),function(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return pt(!0);const a=r.map(l=>du(()=>{const h=ud(l,e,t);let y;if(function(n){return n&&_a(n.canActivate)}(h))y=ke(h.canActivate(e,n));else{if(!_a(h))throw new Error("Invalid CanActivate guard");y=ke(h(e,n))}return y.pipe(ls())}));return pt(a).pipe(Eu())}(n,a.route,t))),ls(a=>!0!==a,!0))}(r,l,n,e):pt(y)),(0,ht.U)(y=>hr(Qe({},t),{guardsResult:y})))})}(this.ngModule.injector,y=>this.triggerEvent(y)),(0,In.b)(y=>{if(va(y.guardsResult)){const T=gu(`Redirecting to "${this.serializeUrl(y.guardsResult)}"`);throw T.url=y.guardsResult,T}const w=new Lh(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot,!!y.guardsResult);this.triggerEvent(w)}),Do(y=>!!y.guardsResult||(this.restoreHistory(y),this.cancelNavigationTransition(y,""),!1)),f(y=>{if(y.guards.canActivateChecks.length)return pt(y).pipe((0,In.b)(w=>{const T=new So(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);this.triggerEvent(T)}),Jr(w=>{let T=!1;return pt(w).pipe(function(n,e){return(0,br.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:a}}=t;if(!a.length)return pt(t);let l=0;return(0,An.D)(a).pipe(Ao(h=>function(n,e,t,r){return function(n,e,t,r){const a=Object.keys(n);if(0===a.length)return pt({});const l={};return(0,An.D)(a).pipe((0,br.z)(h=>function(n,e,t,r){const a=ud(n,e,r);return ke(a.resolve?a.resolve(e,t):a(e,t))}(n[h],e,t,r).pipe((0,In.b)(y=>{l[h]=y}))),qs(1),(0,br.z)(()=>Object.keys(l).length===a.length?pt(l):bs.E))}(n._resolve,n,e,r).pipe((0,ht.U)(l=>(n._resolvedData=l,n.data=Qe(Qe({},n.data),vu(n,t).resolve),null)))}(h.route,r,n,e)),(0,In.b)(()=>l++),qs(1),(0,br.z)(h=>l===a.length?pt(t):bs.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,In.b)({next:()=>T=!0,complete:()=>{T||(this.restoreHistory(w),this.cancelNavigationTransition(w,"At least one route resolver didn't emit any value."))}}))}),(0,In.b)(w=>{const T=new Zm(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);this.triggerEvent(T)}))}),f(y=>{const{targetSnapshot:w,id:T,extractedUrl:R,rawUrl:x,extras:{skipLocationChange:B,replaceUrl:q}}=y;return this.hooks.afterPreactivation(w,{navigationId:T,appliedUrlTree:R,rawUrlTree:x,skipLocationChange:!!B,replaceUrl:!!q})}),(0,ht.U)(y=>{const w=function(n,e,t){const r=Xc(n,e._root,t?t._root:void 0);return new jh(r,e)}(this.routeReuseStrategy,y.targetSnapshot,y.currentRouterState);return hr(Qe({},y),{targetRouterState:w})}),(0,In.b)(y=>{this.currentUrlTree=y.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(y.urlAfterRedirects,y.rawUrl),this.routerState=y.targetRouterState,"deferred"===this.urlUpdateStrategy&&(y.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,y),this.browserUrlTree=y.urlAfterRedirects)}),((n,e,t)=>(0,ht.U)(r=>(new Kv(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,y=>this.triggerEvent(y)),(0,In.b)({next(){l=!0},complete(){l=!0}}),function(n){return(0,Lr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var y;l||h||this.cancelNavigationTransition(a,`Navigation ID ${a.id} is not equal to the current navigation id ${this.navigationId}`),(null==(y=this.currentNavigation)?void 0:y.id)===a.id&&(this.currentNavigation=null)}),yr(y=>{if(h=!0,function(n){return n&&n[Ks]}(y)){const w=va(y.url);w||(this.navigated=!0,this.restoreHistory(a,!0));const T=new qc(a.id,this.serializeUrl(a.extractedUrl),y.message);r.next(T),w?setTimeout(()=>{const R=this.urlHandlingStrategy.merge(y.url,this.rawUrlTree),x={skipLocationChange:a.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||xl(a.source)};this.scheduleNavigation(R,"imperative",null,x,{resolve:a.resolve,reject:a.reject,promise:a.promise})},0):a.resolve(!1)}else{this.restoreHistory(a,!0);const w=new Fh(a.id,this.serializeUrl(a.extractedUrl),y);r.next(w);try{a.resolve(this.errorHandler(y))}catch(T){a.reject(T)}}return bs.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Qe(Qe({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var y;const a={replaceUrl:!0},l=(null==(y=t.state)?void 0:y.navigationId)?t.state:null;if(l){const w=Qe({},l);delete w.navigationId,delete w.\u0275routerPageId,0!==Object.keys(w).length&&(a.state=w)}const h=this.parseUrl(t.url);this.scheduleNavigation(h,r,l,a)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){ly(t),this.config=t.map(wu),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:a,queryParams:l,fragment:h,queryParamsHandling:y,preserveFragment:w}=r,T=a||this.routerState.root,R=w?this.currentUrlTree.fragment:h;let x=null;switch(y){case"merge":x=Qe(Qe({},this.currentUrlTree.queryParams),l);break;case"preserve":x=this.currentUrlTree.queryParams;break;default:x=l||null}return null!==x&&(x=this.removeEmptyProps(x)),function(n,e,t,r,a){if(0===t.length)return qh(e.root,e.root,e,r,a);const l=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Tl(!0,0,n);let e=0,t=!1;const r=n.reduce((a,l,h)=>{if("object"==typeof l&&null!=l){if(l.outlets){const y={};return Ve(l.outlets,(w,T)=>{y[T]="string"==typeof w?w.split("/"):w}),[...a,{outlets:y}]}if(l.segmentPath)return[...a,l.segmentPath]}return"string"!=typeof l?[...a,l]:0===h?(l.split("/").forEach((y,w)=>{0==w&&"."===y||(0==w&&""===y?t=!0:".."===y?e++:""!=y&&a.push(y))}),a):[...a,l]},[]);return new Tl(t,e,r)}(t);if(l.toRoot())return qh(e.root,new Vt([],{}),e,r,a);const h=function(n,e,t){if(n.isAbsolute)return new zh(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const l=t.snapshot._urlSegment;return new zh(l,l===e.root,0)}const r=Gh(n.commands[0])?0:1;return function(n,e,t){let r=n,a=e,l=t;for(;l>a;){if(l-=a,r=r.parent,!r)throw new Error("Invalid number of '../'");a=r.segments.length}return new zh(r,!1,a-l)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(l,e,n),y=h.processChildren?Dl(h.segmentGroup,h.index,l.commands):Hp(h.segmentGroup,h.index,l.commands);return qh(h.segmentGroup,y,e,r,a)}(T,this.currentUrlTree,t,x,null!=R?R:null)}navigateByUrl(t,r={skipLocationChange:!1}){const a=va(t)?t:this.parseUrl(t),l=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(a){r=this.malformedUriErrorHandler(a,this.urlSerializer,t)}return r}isActive(t,r){let a;if(a=!0===r?Qe({},Bt):!1===r?Qe({},rr):r,va(t))return Wn(this.currentUrlTree,t,a);const l=this.parseUrl(t);return Wn(this.currentUrlTree,l,a)}removeEmptyProps(t){return Object.keys(t).reduce((r,a)=>{const l=t[a];return null!=l&&(r[a]=l),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new zs(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,a,l,h){var at,wt,jt;if(this.disposed)return Promise.resolve(!1);const y=this.transitions.value,w=xl(r)&&y&&!xl(y.source),T=y.rawUrl.toString()===t.toString(),R=y.id===(null==(at=this.currentNavigation)?void 0:at.id);if(w&&T&&R)return Promise.resolve(!0);let B,q,X;h?(B=h.resolve,q=h.reject,X=h.promise):X=new Promise((gt,vn)=>{B=gt,q=vn});const Ee=++this.navigationId;let xe;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(a=this.location.getState()),xe=a&&a.\u0275routerPageId?a.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?null!=(wt=this.browserPageId)?wt:0:(null!=(jt=this.browserPageId)?jt:0)+1):xe=0,this.setTransition({id:Ee,targetPageId:xe,source:r,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:l,resolve:B,reject:q,promise:X,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),X.catch(gt=>Promise.reject(gt))}setBrowserUrl(t,r){const a=this.urlSerializer.serialize(t),l=Qe(Qe({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(a)||r.extras.replaceUrl?this.location.replaceState(a,"",l):this.location.go(a,"",l)}restoreHistory(t,r=!1){var a,l;if("computed"===this.canceledNavigationResolution){const h=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null==(a=this.currentNavigation)?void 0:a.finalUrl)||0===h?this.currentUrlTree===(null==(l=this.currentNavigation)?void 0:l.finalUrl)&&0===h&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(h)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const a=new qc(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(a),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){p.$Z()},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();function xl(n){return"imperative"!==n}let Tu=(()=>{class n{constructor(t,r,a,l,h){this.router=t,this.route=r,this.tabIndexAttribute=a,this.renderer=l,this.el=h,this.commands=null,this.onChanges=new Rn.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,a=this.el.nativeElement;null!==t?r.setAttribute(a,"tabindex",t):r.removeAttribute(a,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:Po(this.skipLocationChange),replaceUrl:Po(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Po(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(Vn),p.Y36(Br),p.$8M("tabindex"),p.Y36(p.Qsj),p.Y36(p.SBq))},n.\u0275dir=p.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&p.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[p.TTD]}),n})();function Po(n){return""===n||!!n}class hd{}class fd{preload(e,t){return pt(null)}}let tf=(()=>{class n{constructor(t,r,a,l){this.router=t,this.injector=a,this.preloadingStrategy=l,this.loader=new j(a,r,w=>t.triggerEvent(new Ws(w)),w=>t.triggerEvent(new zc(w)))}setUpPreloading(){this.subscription=this.router.events.pipe(Do(t=>t instanceof zs),Ao(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(p.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const a=[];for(const l of r)if(l.loadChildren&&!l.canLoad&&l._loadedConfig){const h=l._loadedConfig;a.push(this.processRoutes(h.module,h.routes))}else l.loadChildren&&!l.canLoad?a.push(this.preloadConfig(t,l)):l.children&&a.push(this.processRoutes(t,l.children));return(0,An.D)(a).pipe((0,Hi.J)(),(0,ht.U)(l=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?pt(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,br.z)(l=>(r._loadedConfig=l,this.processRoutes(l.module,l.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(Vn),p.LFG(p.Sil),p.LFG(p.zs3),p.LFG(hd))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})(),nf=(()=>{class n{constructor(t,r,a={}){this.router=t,this.viewportScroller=r,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof fu?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof zs&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ur&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Ur(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){p.$Z()},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();const Ol=new p.OlP("ROUTER_CONFIGURATION"),wy=new p.OlP("ROUTER_FORROOT_GUARD"),SC=[qe,{provide:Up,useClass:Ym},{provide:Vn,useFactory:function(n,e,t,r,a,l,h={},y,w){const T=new Vn(null,n,e,t,r,a,Z(l));return y&&(T.urlHandlingStrategy=y),w&&(T.routeReuseStrategy=w),function(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(h,T),h.enableTracing&&T.events.subscribe(R=>{var x,B;null==(x=console.group)||x.call(console,`Router Event: ${R.constructor.name}`),console.log(R.toString()),console.log(R),null==(B=console.groupEnd)||B.call(console)}),T},deps:[Up,nd,qe,p.zs3,p.Sil,N,Ol,[class{},new p.FiY],[class{},new p.FiY]]},nd,{provide:Br,useFactory:function(n){return n.routerState.root},deps:[Vn]},tf,fd,class{preload(e,t){return t().pipe(yr(()=>pt(null)))}},{provide:Ol,useValue:{enableTracing:!1}}];function Cy(){return new p.PXZ("Router",Vn)}let ug=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[SC,Iy(t),{provide:wy,useFactory:NC,deps:[[Vn,new p.FiY,new p.tp0]]},{provide:Ol,useValue:r||{}},{provide:le,useFactory:nE,deps:[oe,[new p.tBr(ce),new p.FiY],Ol]},{provide:nf,useFactory:RC,deps:[Vn,Rp,Ol]},{provide:hd,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:fd},{provide:p.PXZ,multi:!0,useFactory:Cy},[rE,{provide:p.ip1,multi:!0,useFactory:bA,deps:[rE]},{provide:by,useFactory:xC,deps:[rE]},{provide:p.tb,multi:!0,useExisting:by}]]}}static forChild(t){return{ngModule:n,providers:[Iy(t)]}}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(wy,8),p.LFG(Vn,8))},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({}),n})();function RC(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new nf(n,e,t)}function nE(n,e,t={}){return t.useHash?new ye(n,e):new Te(n,e)}function NC(n){return"guarded"}function Iy(n){return[{provide:p.deG,multi:!0,useValue:n},{provide:N,multi:!0,useValue:n}]}let rE=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Rn.x}appInitializer(){return this.injector.get(H,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const a=new Promise(y=>r=y),l=this.injector.get(Vn),h=this.injector.get(Ol);return"disabled"===h.initialNavigation?(l.setUpLocationChangeListener(),r(!0)):"enabled"===h.initialNavigation||"enabledBlocking"===h.initialNavigation?(l.hooks.afterPreactivation=()=>this.initNavigation?pt(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),l.initialNavigation()):r(!0),a})}bootstrapListener(t){const r=this.injector.get(Ol),a=this.injector.get(tf),l=this.injector.get(nf),h=this.injector.get(Vn),y=this.injector.get(p.z2F);t===y.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&h.initialNavigation(),a.setUpPreloading(),l.init(),h.resetRootComponentType(y.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(p.zs3))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();function bA(n){return n.appInitializer.bind(n)}function xC(n){return n.bootstrapListener.bind(n)}const by=new p.OlP("Router Initializer");let kC=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=a=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(p.Qsj),p.Y36(p.SBq))},n.\u0275dir=p.lG2({type:n}),n})(),Pl=(()=>{class n extends kC{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=p.n5z(n)))(r||n)}}(),n.\u0275dir=p.lG2({type:n,features:[p.qOj]}),n})();const Ia=new p.OlP("NgValueAccessor"),DA={provide:Ia,useExisting:(0,p.Gpc)(()=>Ty),multi:!0},AA=new p.OlP("CompositionEventMode");let Ty=(()=>{class n extends kC{constructor(t,r,a){super(t,r),this._compositionMode=a,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=F()?F().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(p.Qsj),p.Y36(p.SBq),p.Y36(AA,8))},n.\u0275dir=p.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&p.NdJ("input",function(l){return r._handleInput(l.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(l){return r._compositionEnd(l.target.value)})},features:[p._Bn([DA]),p.qOj]}),n})();function kl(n){return null==n||0===n.length}function LC(n){return null!=n&&"number"==typeof n.length}const ei=new p.OlP("NgValidators"),Fl=new p.OlP("NgAsyncValidators"),SA=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Dy{static min(e){return function(n){return e=>{if(kl(e.value)||kl(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function(n){return e=>{if(kl(e.value)||kl(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function(n){return kl(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function(n){return kl(n.value)||SA.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function(n){return e=>kl(e.value)||!LC(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function(n){return e=>LC(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function(n){if(!n)return pd;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(kl(r.value))return null;const a=r.value;return e.test(a)?null:{pattern:{requiredPattern:t,actualValue:a}}}}(e)}static nullValidator(e){return null}static compose(e){return RA(e)}static composeAsync(e){return dg(e)}}function pd(n){return null}function ba(n){return null!=n}function Ay(n){const e=(0,p.QGY)(n)?(0,An.D)(n):n;return(0,p.CqO)(e),e}function uE(n){let e={};return n.forEach(t=>{e=null!=t?Qe(Qe({},e),t):e}),0===Object.keys(e).length?null:e}function Sy(n,e){return e.map(t=>t(n))}function lE(n){return n.map(e=>function(n){return!n.validate}(e)?e:t=>e.validate(t))}function RA(n){if(!n)return null;const e=n.filter(ba);return 0==e.length?null:function(t){return uE(Sy(t,e))}}function rf(n){return null!=n?RA(lE(n)):null}function dg(n){if(!n)return null;const e=n.filter(ba);return 0==e.length?null:function(t){return function(...n){const e=(0,os.jO)(n),{args:t,keys:r}=ou(n),a=new Pn.y(l=>{const{length:h}=t;if(!h)return void l.complete();const y=new Array(h);let w=h,T=h;for(let R=0;R<h;R++){let x=!1;(0,Hc.Xf)(t[R]).subscribe(new Pt.Q(l,B=>{x||(x=!0,T--),y[R]=B},()=>w--,void 0,()=>{(!w||!x)&&(T||l.next(r?jc(r,y):y),l.complete())}))}});return e?a.pipe(To(e)):a}(Sy(t,e).map(Ay)).pipe((0,ht.U)(uE))}}function hg(n){return null!=n?dg(lE(n)):null}function Ry(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Ny(n){return n._rawValidators}function NA(n){return n._rawAsyncValidators}function cE(n){return n?Array.isArray(n)?n:[n]:[]}function My(n,e){return Array.isArray(n)?n.includes(e):n===e}function UC(n,e){const t=cE(e);return cE(n).forEach(a=>{My(t,a)||t.push(a)}),t}function BC(n,e){return cE(e).filter(t=>!My(n,t))}class dE{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=rf(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=hg(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class fs extends dE{get formDirective(){return null}get path(){return null}}class Ll extends dE{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class MA{constructor(e){this._cd=e}is(e){var t,r,a;return"submitted"===e?!!(null==(t=this._cd)?void 0:t.submitted):!!(null==(a=null==(r=this._cd)?void 0:r.control)?void 0:a[e])}}let jC=(()=>{class n extends MA{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(Ll,2))},n.\u0275dir=p.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&p.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[p.qOj]}),n})(),xy=(()=>{class n extends MA{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(fs,10))},n.\u0275dir=p.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&p.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[p.qOj]}),n})();function sf(n,e){gE(n,e),e.valueAccessor.writeValue(n.value),function(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Py(n,e)})}(n,e),function(n,e){const t=(r,a)=>{e.valueAccessor.writeValue(r),a&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Py(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function of(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),ko(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function fg(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function gE(n,e){const t=Ny(n);null!==e.validator?n.setValidators(Ry(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=NA(n);null!==e.asyncValidator?n.setAsyncValidators(Ry(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const a=()=>n.updateValueAndValidity();fg(e._rawValidators,a),fg(e._rawAsyncValidators,a)}function ko(n,e){let t=!1;if(null!==n){if(null!==e.validator){const a=Ny(n);if(Array.isArray(a)&&a.length>0){const l=a.filter(h=>h!==e.validator);l.length!==a.length&&(t=!0,n.setValidators(l))}}if(null!==e.asyncValidator){const a=NA(n);if(Array.isArray(a)&&a.length>0){const l=a.filter(h=>h!==e.asyncValidator);l.length!==a.length&&(t=!0,n.setAsyncValidators(l))}}}const r=()=>{};return fg(e._rawValidators,r),fg(e._rawAsyncValidators,r),t}function Py(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Du(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const af="VALID",gg="INVALID",Ul="PENDING",_d="DISABLED";function uf(n){return(Fy(n)?n.validators:n)||null}function zC(n){return Array.isArray(n)?rf(n):n||null}function ky(n,e){return(Fy(e)?e.asyncValidators:n)||null}function LA(n){return Array.isArray(n)?hg(n):n||null}function Fy(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class Ly{constructor(e,t){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=zC(this._rawValidators),this._composedAsyncValidatorFn=LA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===af}get invalid(){return this.status===gg}get pending(){return this.status==Ul}get disabled(){return this.status===_d}get enabled(){return this.status!==_d}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=zC(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=LA(e)}addValidators(e){this.setValidators(UC(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(UC(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(BC(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(BC(e,this._rawAsyncValidators))}hasValidator(e){return My(this._rawValidators,e)}hasAsyncValidator(e){return My(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ul,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=_d,this.errors=null,this._forEachChild(r=>{r.disable(hr(Qe({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(hr(Qe({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=af,this._forEachChild(r=>{r.enable(hr(Qe({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(hr(Qe({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===af||this.status===Ul)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?_d:af}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ul,this._hasOwnPendingAsyncValidator=!0;const t=Ay(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(a=>{r=r instanceof cf?r.controls.hasOwnProperty(a)?r.controls[a]:null:r instanceof _E&&r.at(a)||null}),r}(this,e)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new p.vpe,this.statusChanges=new p.vpe}_calculateStatus(){return this._allControlsDisabled()?_d:this.errors?gg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ul)?Ul:this._anyControlsHaveStatus(gg)?gg:af}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Fy(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class lf extends Ly{constructor(e=null,t,r){super(uf(t),ky(r,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Du(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Du(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class cf extends Ly{constructor(e,t,r){super(uf(t),ky(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(r=>{this._throwIfControlMissing(r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,a)=>{r.reset(e[a],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t instanceof lf?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((a,l)=>{r=t(r,a,l)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control with name: '${r}'.`)})}}class _E extends Ly{constructor(e,t,r){super(uf(t),ky(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((r,a)=>{this._throwIfControlMissing(a),this.at(a).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,a)=>{this.at(a)&&this.at(a).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,a)=>{r.reset(e[a],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof lf?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control at index: ${r}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}let QC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=p.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const JC={provide:Ia,useExisting:(0,p.Gpc)(()=>EE),multi:!0};let EE=(()=>{class n extends Pl{writeValue(t){this.setProperty("value",null==t?"":t)}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=p.n5z(n)))(r||n)}}(),n.\u0275dir=p.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&p.NdJ("input",function(l){return r.onChange(l.target.value)})("blur",function(){return r.onTouched()})},features:[p._Bn([JC]),p.qOj]}),n})(),eI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({}),n})();const mg=new p.OlP("NgModelWithFormControlWarning"),TM={provide:fs,useExisting:(0,p.Gpc)(()=>yg)};let yg=(()=>{class n extends fs{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new p.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ko(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return sf(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){of(t.control||null,t,!1),Du(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,a=this.form.get(t.path);r!==a&&(of(r||null,t),a instanceof lf&&(sf(a,t),t.control=a))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function(n,e){gE(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function(n,e){return ko(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){gE(this.form,this),this._oldForm&&ko(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(ei,10),p.Y36(Fl,10))},n.\u0275dir=p.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&p.NdJ("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[p._Bn([TM]),p.qOj,p.TTD]}),n})();const qA={provide:Ll,useExisting:(0,p.Gpc)(()=>df)};let df=(()=>{class n extends Ll{constructor(t,r,a,l,h){super(),this._ngModelWarningConfig=h,this._added=!1,this.update=new p.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(a),this.valueAccessor=function(n,e){if(!e)return null;let t,r,a;return Array.isArray(e),e.forEach(l=>{l.constructor===Ty?t=l:function(n){return Object.getPrototypeOf(n.constructor)===Pl}(l)?r=l:a=l}),a||r||t||null}(0,l)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(p.Y36(fs,13),p.Y36(ei,10),p.Y36(Fl,10),p.Y36(Ia,10),p.Y36(mg,8))},n.\u0275dir=p.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[p._Bn([qA]),p.qOj,p.TTD]}),n})(),gI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({imports:[[eI]]}),n})(),NE=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:mg,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({imports:[gI]}),n})(),YA=(()=>{class n{group(t,r=null){const a=this._reduceControls(t);let y,l=null,h=null;return null!=r&&(function(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(r)?(l=null!=r.validators?r.validators:null,h=null!=r.asyncValidators?r.asyncValidators:null,y=null!=r.updateOn?r.updateOn:void 0):(l=null!=r.validator?r.validator:null,h=null!=r.asyncValidator?r.asyncValidator:null)),new cf(a,{asyncValidators:h,updateOn:y,validators:l})}control(t,r,a){return new lf(t,r,a)}array(t,r,a){const l=t.map(h=>this._createControl(h));return new _E(l,r,a)}_reduceControls(t){const r={};return Object.keys(t).forEach(a=>{r[a]=this._createControl(t[a])}),r}_createControl(t){return t instanceof lf||t instanceof cf||t instanceof _E?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:NE}),n})();var QA=k(2210),ni=k(7233);function ME(){return(0,Lr.e)((n,e)=>{let t,r=!1;n.subscribe(new Pt.Q(e,a=>{const l=t;t=a,r&&e.next([l,a]),r=!0}))})}function RM(n,e){return n===e}var Je,Lo=k(7905),Un=(k(9777),k(6293)),_e=k(8239),Wi=k(1572),ff=k(1177),Da=k(3855),Gt=k(4213),eS="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Aa={},jy=jy||{},It=eS||self;function $y(){}function xE(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Au(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Hy="closure_uid_"+(1e9*Math.random()>>>0),mI=0;function yI(n,e,t){return n.call.apply(n.bind,arguments)}function _I(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,r),n.apply(e,a)}}return function(){return n.apply(e,arguments)}}function ri(n,e,t){return(ri=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?yI:_I).apply(null,arguments)}function Gy(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function ii(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,a,l){for(var h=Array(arguments.length-2),y=2;y<arguments.length;y++)h[y-2]=arguments[y];return e.prototype[a].apply(r,h)}}function Bl(){this.s=this.s,this.o=this.o}var NM={};Bl.prototype.s=!1,Bl.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function(n){return Object.prototype.hasOwnProperty.call(n,Hy)&&n[Hy]||(n[Hy]=++mI)}(this);delete NM[n]}},Bl.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const PE=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},EI=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,a="string"==typeof n?n.split(""):n;for(let l=0;l<r;l++)l in a&&e.call(t,a[l],l,n)};function nS(n){return Array.prototype.concat.apply([],arguments)}function wI(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function pf(n){return/^[\s\xa0]*$/.test(n)}var ps,CI=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Ei(n,e){return-1!=n.indexOf(e)}function qy(n,e){return n<e?-1:n>e?1:0}e:{var no=It.navigator;if(no){var rS=no.userAgent;if(rS){ps=rS;break e}}ps=""}function II(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function kE(n){const e={};for(const t in n)e[t]=n[t];return e}var FE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function LE(n,e){let t,r;for(let a=1;a<arguments.length;a++){for(t in r=arguments[a],r)n[t]=r[t];for(let l=0;l<FE.length;l++)t=FE[l],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function VE(n){return VE[" "](n),n}VE[" "]=$y;var zy,n,bI=Ei(ps,"Opera"),jl=Ei(ps,"Trident")||Ei(ps,"MSIE"),TI=Ei(ps,"Edge"),bg=TI||jl,DI=Ei(ps,"Gecko")&&!(Ei(ps.toLowerCase(),"webkit")&&!Ei(ps,"Edge"))&&!(Ei(ps,"Trident")||Ei(ps,"MSIE"))&&!Ei(ps,"Edge"),iS=Ei(ps.toLowerCase(),"webkit")&&!Ei(ps,"Edge");function AI(){var n=It.document;return n?n.documentMode:void 0}e:{var UE="",BE=(n=ps,DI?/rv:([^\);]+)(\)|;)/.exec(n):TI?/Edge\/([\d\.]+)/.exec(n):jl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):iS?/WebKit\/(\S+)/.exec(n):bI?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(BE&&(UE=BE?BE[1]:""),jl){var gf=AI();if(null!=gf&&gf>parseFloat(UE)){zy=String(gf);break e}}zy=UE}var mf={};function SI(){return e=mf,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let n=0;const e=CI(String(zy)).split("."),t=CI("9").split("."),r=Math.max(e.length,t.length);for(let h=0;0==n&&h<r;h++){var a=e[h]||"",l=t[h]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==a[0].length&&0==l[0].length)break;n=qy(0==a[1].length?0:parseInt(a[1],10),0==l[1].length?0:parseInt(l[1],10))||qy(0==a[2].length,0==l[2].length)||qy(a[2],l[2]),a=a[3],l=l[3]}while(0==n)}return 0<=n}();var e}var sS=It.document&&jl&&(AI()||parseInt(zy,10))||void 0,jE=function(){if(!It.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{It.addEventListener("test",$y,e),It.removeEventListener("test",$y,e)}catch(t){}return n}();function Nn(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Su(n,e){if(Nn.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(DI){e:{try{VE(e.nodeName);var a=!0;break e}catch(l){}a=!1}a||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:wi[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Su.Z.h.call(this)}}Nn.prototype.h=function(){this.defaultPrevented=!0},ii(Su,Nn);var wi={2:"touch",3:"pen",4:"mouse"};Su.prototype.h=function(){Su.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Vo="closure_listenable_"+(1e6*Math.random()|0),Wy=0;function ro(n,e,t,r,a){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=a,this.key=++Wy,this.ca=this.fa=!1}function yf(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Ru(n){this.src=n,this.g={},this.h=0}function $l(n,e){var t=e.type;if(t in n.g){var l,r=n.g[t],a=PE(r,e);(l=0<=a)&&Array.prototype.splice.call(r,a,1),l&&(yf(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Hl(n,e,t,r){for(var a=0;a<n.length;++a){var l=n[a];if(!l.ca&&l.listener==e&&l.capture==!!t&&l.ia==r)return a}return-1}Ru.prototype.add=function(n,e,t,r,a){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var h=Hl(n,e,r,a);return-1<h?(e=n[h],t||(e.fa=!1)):((e=new ro(e,this.src,l,!!r,a)).fa=t,n.push(e)),e};var Gl="closure_lm_"+(1e6*Math.random()|0),ql={};function wd(n,e,t,r,a){if(r&&r.once)return Id(n,e,t,r,a);if(Array.isArray(e)){for(var l=0;l<e.length;l++)wd(n,e[l],t,r,a);return null}return t=Qy(t),n&&n[Vo]?n.N(e,t,Au(r)?!!r.capture:!!r,a):Cd(n,e,t,!1,r,a)}function Cd(n,e,t,r,a,l){if(!e)throw Error("Invalid event type");var h=Au(a)?!!a.capture:!!a,y=Zy(n);if(y||(n[Gl]=y=new Ru(n)),(t=y.add(e,t,r,h,l)).proxy)return t;if(r=function(){var e=NI;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)jE||(a=h),void 0===a&&(a=!1),n.addEventListener(e.toString(),r,a);else if(n.attachEvent)n.attachEvent(HE(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function Id(n,e,t,r,a){if(Array.isArray(e)){for(var l=0;l<e.length;l++)Id(n,e[l],t,r,a);return null}return t=Qy(t),n&&n[Vo]?n.O(e,t,Au(r)?!!r.capture:!!r,a):Cd(n,e,t,!0,r,a)}function $E(n,e,t,r,a){if(Array.isArray(e))for(var l=0;l<e.length;l++)$E(n,e[l],t,r,a);else r=Au(r)?!!r.capture:!!r,t=Qy(t),n&&n[Vo]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Hl(l=n.g[e],t,r,a))&&(yf(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=Zy(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Hl(e,t,r,a)),(t=-1<n?e[n]:null)&&Ky(t))}function Ky(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Vo])$l(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(HE(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Zy(e))?($l(t,n),0==t.h&&(t.src=null,e[Gl]=null)):yf(n)}}}function HE(n){return n in ql?ql[n]:ql[n]="on"+n}function NI(n,e){if(n.ca)n=!0;else{e=new Su(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&Ky(n),n=t.call(r,e)}return n}function Zy(n){return(n=n[Gl])instanceof Ru?n:null}var Yy="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qy(n){return"function"==typeof n?n:(n[Yy]||(n[Yy]=function(e){return n.handleEvent(e)}),n[Yy])}function Dr(){Bl.call(this),this.i=new Ru(this),this.P=this,this.I=null}function jr(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Nn(e,n);else if(e instanceof Nn)e.target=e.target||n;else{var a=e;LE(e=new Nn(r,n),a)}if(a=!0,t)for(var l=t.length-1;0<=l;l--){var h=e.g=t[l];a=Jy(h,r,!0,e)&&a}if(a=Jy(h=e.g=n,r,!0,e)&&a,a=Jy(h,r,!1,e)&&a,t)for(l=0;l<t.length;l++)a=Jy(h=e.g=t[l],r,!1,e)&&a}function Jy(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,l=0;l<e.length;++l){var h=e[l];if(h&&!h.ca&&h.capture==t){var y=h.listener,w=h.ia||h.src;h.fa&&$l(n.i,h),a=!1!==y.call(w,r)&&a}}return a&&!r.defaultPrevented}ii(Dr,Bl),Dr.prototype[Vo]=!0,Dr.prototype.removeEventListener=function(n,e,t,r){$E(this,n,e,t,r)},Dr.prototype.M=function(){if(Dr.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)yf(t[r]);delete n.g[e],n.h--}}this.I=null},Dr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Dr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Xy=It.JSON.stringify;function oS(){var n=xI;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var qE,GE=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new uS,n=>n.reset());class uS{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function lS(n){It.setTimeout(()=>{throw n},0)}function e_(n,e){qE||function(){var n=It.Promise.resolve(void 0);qE=function(){n.then(cS)}}(),zE||(qE(),zE=!0),xI.add(n,e)}var zE=!1,xI=new class{constructor(){this.h=this.g=null}add(e,t){const r=GE.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function cS(){for(var n;n=oS();){try{n.h.call(n.g)}catch(t){lS(t)}var e=GE;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}zE=!1}function Tg(n,e){Dr.call(this),this.h=n||1,this.g=e||It,this.j=ri(this.kb,this),this.l=Date.now()}function OI(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function PI(n,e,t){if("function"==typeof n)t&&(n=ri(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ri(n.handleEvent,n)}return 2147483647<Number(e)?-1:It.setTimeout(n,e||0)}function kI(n){n.g=PI(()=>{n.g=null,n.i&&(n.i=!1,kI(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}ii(Tg,Dr),(Je=Tg.prototype).da=!1,Je.S=null,Je.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),jr(this,"tick"),this.da&&(OI(this),this.start()))}},Je.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Je.M=function(){Tg.Z.M.call(this),OI(this),delete this.g};class xM extends Bl{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:kI(this)}M(){super.M(),this.g&&(It.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Dg(n){Bl.call(this),this.h=n,this.g={}}ii(Dg,Bl);var FI=[];function t_(n,e,t,r){Array.isArray(t)||(t&&(FI[0]=t.toString()),t=FI);for(var a=0;a<t.length;a++){var l=wd(e,t[a],r||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function n_(n){II(n.g,function(e,t){this.g.hasOwnProperty(t)&&Ky(e)},n),n.g={}}function r_(){this.g=!0}function Ag(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var a=r[1];if(Array.isArray(a)&&!(1>a.length)){var l=a[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var h=1;h<a.length;h++)a[h]=""}}}return Xy(t)}catch(y){return e}}(n,t)+(r?" "+r:"")})}Dg.prototype.M=function(){Dg.Z.M.call(this),n_(this)},Dg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},r_.prototype.Aa=function(){this.g=!1},r_.prototype.info=function(){};var vf={},VI=null;function Nu(){return VI=VI||new Dr}function UI(n){Nn.call(this,vf.Ma,n)}function Ef(n){const e=Nu();jr(e,new UI(e,n))}function BI(n,e){Nn.call(this,vf.STAT_EVENT,n),this.stat=e}function Ci(n){const e=Nu();jr(e,new BI(e,n))}function Sg(n,e){Nn.call(this,vf.Na,n),this.size=e}function Rg(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return It.setTimeout(function(){n()},e)}vf.Ma="serverreachability",ii(UI,Nn),vf.STAT_EVENT="statevent",ii(BI,Nn),vf.Na="timingevent",ii(Sg,Nn);var Ng={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},jI={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function WE(){}function HI(){}WE.prototype.h=null;var s_,Mg={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function i_(){Nn.call(this,"d")}function KE(){Nn.call(this,"c")}function xg(){}function bd(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new Dg(this),this.P=ZE,this.W=new Tg(n=bg?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new hS}function hS(){this.i=null,this.g="",this.h=!1}ii(i_,Nn),ii(KE,Nn),ii(xg,WE),xg.prototype.g=function(){return new XMLHttpRequest},xg.prototype.i=function(){return{}},s_=new xg;var ZE=45e3,YE={},QE={};function Td(n,e,t){n.K=1,n.v=d_(Mu(e)),n.s=t,n.U=!0,JE(n,null)}function JE(n,e){n.F=Date.now(),Dd(n),n.A=Mu(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),s0(t.h,"t",r),n.C=0,t=n.l.H,n.h=new hS,n.g=pb(n.l,t?e:null,!n.s),0<n.O&&(n.L=new xM(ri(n.Ia,n,n.g),n.O)),t_(n.V,n.g,"readystatechange",n.gb),e=n.H?kE(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Ef(1),function(n,e,t,r,a,l){n.info(function(){if(n.g)if(l)for(var h="",y=l.split("&"),w=0;w<y.length;w++){var T=y[w].split("=");if(1<T.length){var R=T[0];T=T[1];var x=R.split("_");h=2<=x.length&&"type"==x[1]?h+(R+"=")+T+"&":h+(R+"=redacted&")}}else h=null;else h=l;return"XMLHTTP REQ ("+r+") [attempt "+a+"]: "+e+"\n"+t+"\n"+h})}(n.j,n.u,n.A,n.m,n.X,n.s)}function o_(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function a_(n,e,t){let a,r=!0;for(;!n.I&&n.C<t.length;){if(a=fS(n,t),a==QE){4==e&&(n.o=4,Ci(14),r=!1),Ag(n.j,n.m,null,"[Incomplete Response]");break}if(a==YE){n.o=4,Ci(15),Ag(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Ag(n.j,n.m,a,null),Pg(n,a)}o_(n)&&a!=QE&&a!=YE&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Ci(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),m0(e),e.L=!0,Ci(11))):(Ag(n.j,n.m,t,"[Invalid Chunked Response]"),Ad(n),l_(n))}function fS(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?QE:(t=Number(e.substring(t,r)),isNaN(t)?YE:(r+=1)+t>e.length?QE:(e=e.substr(r,t),n.C=r+t,e))}function Dd(n){n.Y=Date.now()+n.P,u_(n,n.P)}function u_(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Rg(ri(n.eb,n),e)}function Og(n){n.B&&(It.clearTimeout(n.B),n.B=null)}function l_(n){0==n.l.G||n.I||cb(n.l,n)}function Ad(n){Og(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,OI(n.W),n_(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Pg(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||h_(t.i,n)))if(t.I=n.N,!n.J&&h_(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(T){r=null}if(Array.isArray(r)&&3==r.length){var a=r;if(0==a[0])e:if(t.u)t.ta=a[1],0<t.ta-t.U&&37500>a[2]&&t.N&&0==t.A&&!t.v&&(t.v=Rg(ri(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;v_(t),Rf(t)}__(t),Ci(18)}if(1>=eb(t.i)&&t.ka){try{t.ka()}catch(T){}t.ka=void 0}}else Od(t,11)}else if((n.J||t.g==n)&&v_(t),!pf(e))for(a=t.Ca.g.parse(e),e=0;e<a.length;e++){let T=a[e];if(t.U=T[0],T=T[1],2==t.G)if("c"==T[0]){t.J=T[1],t.la=T[2];const R=T[3];null!=R&&(t.ma=R,t.h.info("VER="+t.ma));const x=T[4];null!=x&&(t.za=x,t.h.info("SVER="+t.za));const B=T[5];null!=B&&"number"==typeof B&&0<B&&(t.K=r=1.5*B,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const q=n.g;if(q){const X=q.g?q.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(X){var l=r.i;!l.g&&(Ei(X,"spdy")||Ei(X,"quic")||Ei(X,"h2"))&&(l.j=l.l,l.g=new Set,l.h&&(f_(l,l.h),l.h=null))}if(r.D){const Ee=q.g?q.g.getResponseHeader("X-HTTP-Session-Id"):null;Ee&&(r.sa=Ee,Bn(r.F,r.D,Ee))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var h=n;if((r=t).oa=fb(r,r.H?r.la:null,r.W),h.J){Md(r.i,h);var y=h,w=r.K;w&&y.setTimeout(w),y.B&&(Og(y),Dd(y)),r.g=h}else g0(r);0<t.l.length&&Bg(t)}else"stop"!=T[0]&&"close"!=T[0]||Od(t,7);else 3==t.G&&("stop"==T[0]||"close"==T[0]?"stop"==T[0]?Od(t,7):m_(t):"noop"!=T[0]&&t.j&&t.j.wa(T),t.A=0)}Ef(4)}catch(T){}}function e0(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(xE(n)||"string"==typeof n)EI(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(xE(n)||"string"==typeof n){t=[];for(var r=n.length,a=0;a<r;a++)t.push(a)}else for(a in t=[],r=0,n)t[r++]=a;r=function(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(xE(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),a=r.length;for(var l=0;l<a;l++)e.call(void 0,r[l],t&&t[l],n)}}function Sd(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof Sd)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function kg(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];zl(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var a={};for(t=e=0;e<n.g.length;)zl(a,r=n.g[e])||(n.g[t++]=r,a[r]=1),e++;n.g.length=t}}function zl(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(Je=bd.prototype).setTimeout=function(n){this.P=n},Je.gb=function(n){n=n.target;const e=this.L;e&&3==xu(n)?e.l():this.Ia(n)},Je.Ia=function(n){try{if(n==this.g)e:{const R=xu(this.g);var e=this.g.Da();const x=this.g.ba();if(!(3>R)&&(3!=R||bg||this.g&&(this.h.h||this.g.ga()||d0(this.g)))){this.I||4!=R||7==e||Ef(8==e||0>=x?3:2),Og(this);var t=this.g.ba();this.N=t;t:if(o_(this)){var r=d0(this.g);n="";var a=r.length,l=4==xu(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Ad(this),l_(this);var h="";break t}this.h.i=new It.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:l&&e==a-1});r.splice(0,a),this.h.g+=n,this.C=0,h=this.h.g}else h=this.g.ga();if(this.i=200==t,function(n,e,t,r,a,l,h){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+l+" "+h})}(this.j,this.u,this.A,this.m,this.X,R,t),this.i){if(this.$&&!this.J){t:{if(this.g){var y,w=this.g;if((y=w.g?w.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!pf(y)){var T=y;break t}}T=null}if(!(t=T)){this.i=!1,this.o=3,Ci(12),Ad(this),l_(this);break e}Ag(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Pg(this,t)}this.U?(a_(this,R,h),bg&&this.i&&3==R&&(t_(this.V,this.W,"tick",this.fb),this.W.start())):(Ag(this.j,this.m,h,null),Pg(this,h)),4==R&&Ad(this),this.i&&!this.I&&(4==R?cb(this.l,this):(this.i=!1,Dd(this)))}else 400==t&&0<h.indexOf("Unknown SID")?(this.o=3,Ci(12)):(this.o=0,Ci(13)),Ad(this),l_(this)}}}catch(R){}},Je.fb=function(){if(this.g){var n=xu(this.g),e=this.g.ga();this.C<e.length&&(Og(this),a_(this,n,e),this.i&&4!=n&&Dd(this))}},Je.cancel=function(){this.I=!0,Ad(this)},Je.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Ef(3),Ci(17)),Ad(this),this.o=2,l_(this)):u_(this,this.Y-n)},(Je=Sd.prototype).R=function(){kg(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},Je.T=function(){return kg(this),this.g.concat()},Je.get=function(n,e){return zl(this.h,n)?this.h[n]:e},Je.set=function(n,e){zl(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},Je.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var a=t[r],l=this.get(a);n.call(e,l,a,this)}};var c_=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Wl(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Wl){this.g=void 0!==e?e:n.g,Fg(this,n.j),this.s=n.s,Lg(this,n.i),wf(this,n.m),this.l=n.l,e=n.h;var t=new If;t.i=e.i,e.g&&(t.g=new Sd(e.g),t.h=e.h),n0(this,t),this.o=n.o}else n&&(t=String(n).match(c_))?(this.g=!!e,Fg(this,t[1]||"",!0),this.s=Rd(t[2]||""),Lg(this,t[3]||"",!0),wf(this,t[4]),this.l=Rd(t[5]||"",!0),n0(this,t[6]||"",!0),this.o=Rd(t[7]||"")):(this.g=!!e,this.h=new If(null,this.g))}function Mu(n){return new Wl(n)}function Fg(n,e,t){n.j=t?Rd(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Lg(n,e,t){n.i=t?Rd(e,!0):e}function wf(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function n0(n,e,t){e instanceof If?(n.h=e,function(n,e){e&&!n.j&&(Nd(n),n.i=null,n.g.forEach(function(t,r){var a=r.toLowerCase();r!=a&&(YI(this,r),s0(this,a,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Cf(e,KI)),n.h=new If(e,n.g))}function Bn(n,e,t){n.h.set(e,t)}function d_(n){return Bn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Rd(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Cf(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,qI),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function qI(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Wl.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Cf(e,r0,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Cf(e,r0,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Cf(t,"/"==t.charAt(0)?WI:zI,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Cf(t,ZI)),n.join("")};var r0=/[#\/\?@]/g,zI=/[#\?:]/g,WI=/[#\?]/g,KI=/[#\?@]/g,ZI=/#/g;function If(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Nd(n){n.g||(n.g=new Sd,n.h=0,n.i&&function(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),a=null;if(0<=r){var l=n[t].substring(0,r);a=n[t].substring(r+1)}else l=n[t];e(l,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function YI(n,e){Nd(n),e=bf(n,e),zl(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,zl((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&kg(n)))}function QI(n,e){return Nd(n),e=bf(n,e),zl(n.g.h,e)}function s0(n,e,t){YI(n,e),0<t.length&&(n.i=null,n.g.set(bf(n,e),wI(t)),n.h+=t.length)}function bf(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function XI(n){this.l=n||gS,n=It.PerformanceNavigationTiming?0<(n=It.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(It.g&&It.g.Ea&&It.g.Ea()&&It.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Je=If.prototype).add=function(n,e){Nd(this),this.i=null,n=bf(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Je.forEach=function(n,e){Nd(this),this.g.forEach(function(t,r){EI(t,function(a){n.call(e,a,r,this)},this)},this)},Je.T=function(){Nd(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var a=n[r],l=0;l<a.length;l++)t.push(e[r]);return t},Je.R=function(n){Nd(this);var e=[];if("string"==typeof n)QI(this,n)&&(e=nS(e,this.g.get(bf(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=nS(e,n[t])}return e},Je.set=function(n,e){return Nd(this),this.i=null,QI(this,n=bf(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Je.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},Je.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],a=encodeURIComponent(String(r));r=this.R(r);for(var l=0;l<r.length;l++){var h=a;""!==r[l]&&(h+="="+encodeURIComponent(String(r[l]))),n.push(h)}}return this.i=n.join("&")};var gS=10;function o0(n){return!!n.h||!!n.g&&n.g.size>=n.j}function eb(n){return n.h?1:n.g?n.g.size:0}function h_(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function f_(n,e){n.g?n.g.add(e):n.h=e}function Md(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function tb(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return wI(n.i)}function a0(){}function nb(){this.g=new a0}function mS(n,e,t){const r=t||"";try{e0(n,function(a,l){let h=a;Au(a)&&(h=Xy(a)),e.push(r+l+"="+encodeURIComponent(h))})}catch(a){throw e.push(r+"type="+encodeURIComponent("_badmap")),a}}function u0(n,e,t,r,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(r)}catch(l){}}function xd(n){this.l=n.$b||null,this.j=n.ib||!1}function Tf(n,e){Dr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=io,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}XI.prototype.cancel=function(){if(this.i=tb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},a0.prototype.stringify=function(n){return It.JSON.stringify(n,void 0)},a0.prototype.parse=function(n){return It.JSON.parse(n,void 0)},ii(xd,WE),xd.prototype.g=function(){return new Tf(this.l,this.j)},xd.prototype.i=function(n){return function(){return n}}({}),ii(Tf,Dr);var io=0;function ib(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Df(n){n.readyState=4,n.l=null,n.j=null,n.A=null,gs(n)}function gs(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Je=Tf.prototype).open=function(n,e){if(this.readyState!=io)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,gs(this)},Je.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||It).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Je.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Df(this)),this.readyState=io},Je.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,gs(this)),this.g&&(this.readyState=3,gs(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==It.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ib(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},Je.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Df(this):gs(this),3==this.readyState&&ib(this)}},Je.Ua=function(n){this.g&&(this.response=this.responseText=n,Df(this))},Je.Ta=function(n){this.g&&(this.response=n,Df(this))},Je.ha=function(){this.g&&Df(this)},Je.setRequestHeader=function(n,e){this.v.append(n,e)},Je.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Je.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Tf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Uo=It.JSON.parse;function gn(n){Dr.call(this),this.headers=new Sd,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=l0,this.K=this.L=!1}ii(gn,Dr);var l0="",sb=/^https?$/i,yS=["POST","PUT"];function vS(n){return"content-type"==n.toLowerCase()}function ob(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,p_(n),g_(n)}function p_(n){n.D||(n.D=!0,jr(n,"complete"),jr(n,"error"))}function Af(n){if(n.h&&void 0!==jy&&(!n.C[1]||4!=xu(n)||2!=n.ba()))if(n.v&&4==xu(n))PI(n.Fa,0,n);else if(jr(n,"readystatechange"),4==xu(n)){n.h=!1;try{const y=n.ba();e:switch(y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===y){var a=String(n.H).match(c_)[1]||null;if(!a&&It.self&&It.self.location){var l=It.self.location.protocol;a=l.substr(0,l.length-1)}r=!sb.test(a?a.toLowerCase():"")}t=r}if(t)jr(n,"complete"),jr(n,"success");else{n.m=6;try{var h=2<xu(n)?n.g.statusText:""}catch(w){h=""}n.j=h+" ["+n.ba()+"]",p_(n)}}finally{g_(n)}}}function g_(n,e){if(n.g){c0(n);const t=n.g,r=n.C[0]?$y:null;n.g=null,n.C=null,e||jr(n,"ready");try{t.onreadystatechange=r}catch(a){}}}function c0(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(It.clearTimeout(n.A),n.A=null)}function xu(n){return n.g?n.g.readyState:0}function d0(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case l0:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Sf(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function(n){let e="";return II(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Bn(n,e,t))}function Vg(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function h0(n){this.za=0,this.l=[],this.h=new r_,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Vg("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Vg("baseRetryDelayMs",5e3,n),this.$a=Vg("retryDelaySeedMs",1e4,n),this.Ya=Vg("forwardChannelMaxRetries",2,n),this.ra=Vg("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new XI(n&&n.concurrentRequestLimit),this.Ca=new nb,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function m_(n){if(Ug(n),3==n.G){var e=n.V++,t=Mu(n.F);Bn(t,"SID",n.J),Bn(t,"RID",e),Bn(t,"TYPE","terminate"),Nf(n,t),(e=new bd(n,n.h,e,void 0)).K=2,e.v=d_(Mu(t)),t=!1,It.navigator&&It.navigator.sendBeacon&&(t=It.navigator.sendBeacon(e.v.toString(),"")),!t&&It.Image&&((new Image).src=e.v,t=!0),t||(e.g=pb(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Dd(e)}hb(n)}function Rf(n){n.g&&(m0(n),n.g.cancel(),n.g=null)}function Ug(n){Rf(n),n.u&&(It.clearTimeout(n.u),n.u=null),v_(n),n.i.cancel(),n.m&&("number"==typeof n.m&&It.clearTimeout(n.m),n.m=null)}function y_(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&Bg(n)}function Bg(n){o0(n.i)||n.m||(n.m=!0,e_(n.Ha,n),n.C=0)}function f0(n,e){var t;t=e?e.m:n.V++;const r=Mu(n.F);Bn(r,"SID",n.J),Bn(r,"RID",t),Bn(r,"AID",n.U),Nf(n,r),n.o&&n.s&&Sf(r,n.o,n.s),t=new bd(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=p0(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),f_(n.i,t),Td(t,r,e)}function Nf(n,e){n.j&&e0({},function(t,r){Bn(e,r,t)})}function p0(n,e,t){t=Math.min(n.l.length,t);var r=n.j?ri(n.j.Oa,n.j,n):null;e:{var a=n.l;let l=-1;for(;;){const h=["count="+t];-1==l?0<t?(l=a[0].h,h.push("ofs="+l)):l=0:h.push("ofs="+l);let y=!0;for(let w=0;w<t;w++){let T=a[w].h;const R=a[w].g;if(T-=l,0>T)l=Math.max(0,a[w].h-100),y=!1;else try{mS(R,h,"req"+T+"_")}catch(x){r&&r(R)}}if(y){r=h.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function g0(n){n.g||n.u||(n.Y=1,e_(n.Ga,n),n.A=0)}function __(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Rg(ri(n.Ga,n),db(n,n.A)),n.A++,0))}function m0(n){null!=n.B&&(It.clearTimeout(n.B),n.B=null)}function lb(n){n.g=new bd(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Mu(n.oa);Bn(e,"RID","rpc"),Bn(e,"SID",n.J),Bn(e,"CI",n.N?"0":"1"),Bn(e,"AID",n.U),Nf(n,e),Bn(e,"TYPE","xmlhttp"),n.o&&n.s&&Sf(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=d_(Mu(e)),t.s=null,t.U=!0,JE(t,n)}function v_(n){null!=n.v&&(It.clearTimeout(n.v),n.v=null)}function cb(n,e){var t=null;if(n.g==e){v_(n),m0(n),n.g=null;var r=2}else{if(!h_(n.i,e))return;t=e.D,Md(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var a=n.C;jr(r=Nu(),new Sg(r,t,e,a)),Bg(n)}else g0(n);else if(3==(a=e.o)||0==a&&0<n.I||!(1==r&&function(n,e){return!(eb(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Rg(ri(n.Ha,n,e),db(n,n.C)),n.C++,0)))}(n,e)||2==r&&__(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),a){case 1:Od(n,5);break;case 4:Od(n,10);break;case 3:Od(n,6);break;default:Od(n,2)}}function db(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Od(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=ri(n.jb,n);t||(t=new Wl("//www.google.com/images/cleardot.gif"),It.location&&"http"==It.location.protocol||Fg(t,"https"),d_(t)),function(n,e){const t=new r_;if(It.Image){const r=new Image;r.onload=Gy(u0,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Gy(u0,t,r,"TestLoadImage: error",!1,e),r.onabort=Gy(u0,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Gy(u0,t,r,"TestLoadImage: timeout",!1,e),It.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Ci(2);n.G=0,n.j&&n.j.va(e),hb(n),Ug(n)}function hb(n){n.G=0,n.I=-1,n.j&&((0!=tb(n.i).length||0!=n.l.length)&&(n.i.i.length=0,wI(n.l),n.l.length=0),n.j.ua())}function fb(n,e,t){let r=function(n){return n instanceof Wl?Mu(n):new Wl(n,void 0)}(t);if(""!=r.i)e&&Lg(r,e+"."+r.i),wf(r,r.m);else{const a=It.location;r=function(n,e,t,r){var a=new Wl(null,void 0);return n&&Fg(a,n),e&&Lg(a,e),t&&wf(a,t),r&&(a.l=r),a}(a.protocol,e?e+"."+a.hostname:a.hostname,+a.port,t)}return n.aa&&II(n.aa,function(a,l){Bn(r,l,a)}),t=n.sa,(e=n.D)&&t&&Bn(r,e,t),Bn(r,"VER",n.ma),Nf(n,r),r}function pb(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new gn(t&&n.Ba&&!n.qa?new xd({ib:!0}):n.qa)).L=n.H,e}function gb(){}function E_(){if(jl&&!(10<=Number(sS)))throw Error("Environmental error: no available transport.")}function Ss(n,e){Dr.call(this),this.g=new h0(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!pf(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!pf(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Mf(this)}function mb(n){i_.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function yb(){KE.call(this),this.status=1}function Mf(n){this.g=n}(Je=gn.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():s_.g(),this.C=function(n){return n.h||(n.h=n.i())}(this.u?this.u:s_),this.g.onreadystatechange=ri(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(l){return void ob(this,l)}n=t||"";const a=new Sd(this.headers);r&&e0(r,function(l,h){a.set(h,l)}),r=function(n){e:{var e=vS;const t=n.length,r="string"==typeof n?n.split(""):n;for(let a=0;a<t;a++)if(a in r&&e.call(void 0,r[a],a,n)){e=a;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(a.T()),t=It.FormData&&n instanceof It.FormData,!(0<=PE(yS,e))||r||t||a.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),a.forEach(function(l,h){this.g.setRequestHeader(h,l)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{c0(this),0<this.B&&((this.K=function(n){return jl&&SI()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ri(this.pa,this)):this.A=PI(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){ob(this,l)}},Je.pa=function(){void 0!==jy&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,jr(this,"timeout"),this.abort(8))},Je.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,jr(this,"complete"),jr(this,"abort"),g_(this))},Je.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),g_(this,!0)),gn.Z.M.call(this)},Je.Fa=function(){this.s||(this.F||this.v||this.l?Af(this):this.cb())},Je.cb=function(){Af(this)},Je.ba=function(){try{return 2<xu(this)?this.g.status:-1}catch(n){return-1}},Je.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},Je.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Uo(e)}},Je.Da=function(){return this.m},Je.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Je=h0.prototype).ma=8,Je.G=1,Je.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},Je.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const a=new bd(this,this.h,n,void 0);let l=this.s;if(this.P&&(l?(l=kE(l),LE(l,this.P)):l=this.P),null===this.o&&(a.H=l),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=p0(this,a,e),Bn(t=Mu(this.F),"RID",n),Bn(t,"CVER",22),this.D&&Bn(t,"X-HTTP-Session-Id",this.D),Nf(this,t),this.o&&l&&Sf(t,this.o,l),f_(this.i,a),this.Ra&&Bn(t,"TYPE","init"),this.ja?(Bn(t,"$req",e),Bn(t,"SID","null"),a.$=!0,Td(a,t,null)):Td(a,t,e),this.G=2}}else 3==this.G&&(n?f0(this,n):0==this.l.length||o0(this.i)||f0(this))},Je.Ga=function(){if(this.u=null,lb(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Rg(ri(this.bb,this),n)}},Je.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ci(10),Rf(this),lb(this))},Je.ab=function(){null!=this.v&&(this.v=null,Rf(this),__(this),Ci(19))},Je.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Ci(2)):(this.h.info("Failed to ping google.com"),Ci(1))},(Je=gb.prototype).xa=function(){},Je.wa=function(){},Je.va=function(){},Je.ua=function(){},Je.Oa=function(){},E_.prototype.g=function(n,e){return new Ss(n,e)},ii(Ss,Dr),Ss.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),e_(ri(n.hb,n,e))),Ci(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=fb(n,null,n.W),Bg(n)},Ss.prototype.close=function(){m_(this.g)},Ss.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,y_(this.g,e)}else this.v?((e={}).__data__=Xy(n),y_(this.g,e)):y_(this.g,n)},Ss.prototype.M=function(){this.g.j=null,delete this.j,m_(this.g),delete this.g,Ss.Z.M.call(this)},ii(mb,i_),ii(yb,KE),ii(Mf,gb),Mf.prototype.xa=function(){jr(this.g,"a")},Mf.prototype.wa=function(n){jr(this.g,new mb(n))},Mf.prototype.va=function(n){jr(this.g,new yb(n))},Mf.prototype.ua=function(){jr(this.g,"b")},E_.prototype.createWebChannel=E_.prototype.g,Ss.prototype.send=Ss.prototype.u,Ss.prototype.open=Ss.prototype.m,Ss.prototype.close=Ss.prototype.close,Ng.NO_ERROR=0,Ng.TIMEOUT=8,Ng.HTTP_ERROR=6,jI.COMPLETE="complete",HI.EventType=Mg,Mg.OPEN="a",Mg.CLOSE="b",Mg.ERROR="c",Mg.MESSAGE="d",Dr.prototype.listen=Dr.prototype.N,gn.prototype.listenOnce=gn.prototype.O,gn.prototype.getLastError=gn.prototype.La,gn.prototype.getLastErrorCode=gn.prototype.Da,gn.prototype.getStatus=gn.prototype.ba,gn.prototype.getResponseJson=gn.prototype.Qa,gn.prototype.getResponseText=gn.prototype.ga,gn.prototype.send=gn.prototype.ea;var ES=Aa.createWebChannelTransport=function(){return new E_},wS=Aa.getStatEventTarget=function(){return Nu()},y0=Aa.ErrorCode=Ng,_b=Aa.EventType=jI,vb=Aa.Event=vf,_0=Aa.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Eb=Aa.FetchXmlHttpFactory=xd,jg=Aa.WebChannel=HI,wb=Aa.XhrIo=gn;const v0="@firebase/firestore";class $r{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$r.UNAUTHENTICATED=new $r(null),$r.GOOGLE_CREDENTIALS=new $r("google-credentials-uid"),$r.FIRST_PARTY=new $r("first-party-uid"),$r.MOCK_USER=new $r("mock-user");let Pd="9.4.0";const Ou=new Da.Yd("@firebase/firestore");function $g(){return Ou.logLevel}function Ue(n,...e){if(Ou.logLevel<=Da.in.DEBUG){const t=e.map(Cb);Ou.debug(`Firestore (${Pd}): ${n}`,...t)}}function _r(n,...e){if(Ou.logLevel<=Da.in.ERROR){const t=e.map(Cb);Ou.error(`Firestore (${Pd}): ${n}`,...t)}}function Sa(n,...e){if(Ou.logLevel<=Da.in.WARN){const t=e.map(Cb);Ou.warn(`Firestore (${Pd}): ${n}`,...t)}}function Cb(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function st(n="Unexpected state"){const e=`FIRESTORE (${Pd}) INTERNAL ASSERTION FAILED: `+n;throw _r(e),new Error(e)}function Ct(n,e){n||st()}function He(n,e){return n}const pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class re extends Error{constructor(e,t){super(t),this.code=e,this.message=t,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Hr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class bb{constructor(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${e}`}}class CS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t($r.UNAUTHENTICATED))}shutdown(){}}class w_{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class IS{constructor(e){this.t=e,this.currentUser=$r.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let a=this.i;const l=T=>this.i!==a?(a=this.i,t(T)):Promise.resolve();let h=new Hr;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Hr,e.enqueueRetryable(()=>l(this.currentUser))};const y=()=>{const T=h;e.enqueueRetryable((0,_e.Z)(function*(){yield T.promise,yield l(r.currentUser)}))},w=T=>{Ue("FirebaseCredentialsProvider","Auth detected"),this.auth=T,this.auth.addAuthTokenListener(this.o),y()};this.t.onInit(T=>w(T)),setTimeout(()=>{if(!this.auth){const T=this.t.getImmediate({optional:!0});T?w(T):(Ue("FirebaseCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Hr)}},0),y()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ue("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ct("string"==typeof r.accessToken),new bb(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ct(null===e||"string"==typeof e),new $r(e)}}class C_{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=$r.FIRST_PARTY}get authHeaders(){const e={"X-Goog-AuthUser":this.l},t=this.h.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.m&&(e["X-Goog-Iam-Authorization-Token"]=this.m),e}}class I_{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new C_(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t($r.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Xt{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.g(r),this.p=r=>t.writeSequenceNumber(r))}g(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.p&&this.p(e),e}}function kM(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}Xt.T=-1;class E0{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const a=kM(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<t&&(r+=e.charAt(a[l]%e.length))}return r}}function Wt(n,e){return n<e?-1:n>e?1:0}function xf(n,e,t){return n.length===e.length&&n.every((r,a)=>t(r,e[a]))}function w0(n){return n+"\0"}class Sr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new re(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new re(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new re(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new re(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Sr.fromMillis(Date.now())}static fromDate(e){return Sr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Sr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Wt(this.nanoseconds,e.nanoseconds):Wt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class xt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new xt(e)}static min(){return new xt(new Sr(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function C0(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Fd(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Tb(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Hg{constructor(e,t,r){void 0===t?t=0:t>e.length&&st(),void 0===r?r=e.length-t:r>e.length-t&&st(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Hg.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Hg?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const l=e.get(a),h=t.get(a);if(l<h)return-1;if(l>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Yt extends Hg{construct(e,t,r){return new Yt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new re(pe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(a=>a.length>0))}return new Yt(t)}static emptyPath(){return new Yt([])}}const bS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class si extends Hg{construct(e,t,r){return new si(e,t,r)}static isValidIdentifier(e){return bS.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),si.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new si(["__name__"])}static fromServerFormat(e){const t=[];let r="",a=0;const l=()=>{if(0===r.length)throw new re(pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let h=!1;for(;a<e.length;){const y=e[a];if("\\"===y){if(a+1===e.length)throw new re(pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const w=e[a+1];if("\\"!==w&&"."!==w&&"`"!==w)throw new re(pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=w,a+=2}else"`"===y?(h=!h,a++):"."!==y||h?(r+=y,a++):(l(),a++)}if(l(),h)throw new re(pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new si(t)}static emptyPath(){return new si([])}}class Of{constructor(e){this.fields=e,e.sort(si.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return xf(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Rr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Rr(t)}static fromUint8Array(e){const t=function(r){let a="";for(let l=0;l<r.length;++l)a+=String.fromCharCode(r[l]);return a}(e);return new Rr(t)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Wt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Rr.EMPTY_BYTE_STRING=new Rr("");const Db=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pu(n){if(Ct(!!n),"string"==typeof n){let e=0;const t=Db.exec(n);if(Ct(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:vr(n.seconds),nanos:vr(n.nanos)}}function vr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Ra(n){return"string"==typeof n?Rr.fromBase64String(n):Rr.fromUint8Array(n)}function Ld(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Ab(n){const e=n.mapValue.fields.__previous_value__;return Ld(e)?Ab(e):e}function Gg(n){const e=Pu(n.mapValue.fields.__local_write_time__.timestampValue);return new Sr(e.seconds,e.nanos)}function Vd(n){return null==n}function qg(n){return 0===n&&1/n==-1/0}function I0(n){return"number"==typeof n&&Number.isInteger(n)&&!qg(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class rt{constructor(e){this.path=e}static fromPath(e){return new rt(Yt.fromString(e))}static fromName(e){return new rt(Yt.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===Yt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Yt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new rt(new Yt(e.slice()))}}function Ud(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Ld(n)?4:10:st()}function Bo(n,e){const t=Ud(n);if(t!==Ud(e))return!1;switch(t){case 0:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Gg(n).isEqual(Gg(e));case 3:return function(r,a){if("string"==typeof r.timestampValue&&"string"==typeof a.timestampValue&&r.timestampValue.length===a.timestampValue.length)return r.timestampValue===a.timestampValue;const l=Pu(r.timestampValue),h=Pu(a.timestampValue);return l.seconds===h.seconds&&l.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return a=e,Ra(n.bytesValue).isEqual(Ra(a.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,a){return vr(r.geoPointValue.latitude)===vr(a.geoPointValue.latitude)&&vr(r.geoPointValue.longitude)===vr(a.geoPointValue.longitude)}(n,e);case 2:return function(r,a){if("integerValue"in r&&"integerValue"in a)return vr(r.integerValue)===vr(a.integerValue);if("doubleValue"in r&&"doubleValue"in a){const l=vr(r.doubleValue),h=vr(a.doubleValue);return l===h?qg(l)===qg(h):isNaN(l)&&isNaN(h)}return!1}(n,e);case 9:return xf(n.arrayValue.values||[],e.arrayValue.values||[],Bo);case 10:return function(r,a){const l=r.mapValue.fields||{},h=a.mapValue.fields||{};if(C0(l)!==C0(h))return!1;for(const y in l)if(l.hasOwnProperty(y)&&(void 0===h[y]||!Bo(l[y],h[y])))return!1;return!0}(n,e);default:return st()}var a}function zg(n,e){return void 0!==(n.values||[]).find(t=>Bo(t,e))}function Pf(n,e){const t=Ud(n),r=Ud(e);if(t!==r)return Wt(t,r);switch(t){case 0:return 0;case 1:return Wt(n.booleanValue,e.booleanValue);case 2:return function(a,l){const h=vr(a.integerValue||a.doubleValue),y=vr(l.integerValue||l.doubleValue);return h<y?-1:h>y?1:h===y?0:isNaN(h)?isNaN(y)?0:-1:1}(n,e);case 3:return TS(n.timestampValue,e.timestampValue);case 4:return TS(Gg(n),Gg(e));case 5:return Wt(n.stringValue,e.stringValue);case 6:return function(a,l){const h=Ra(a),y=Ra(l);return h.compareTo(y)}(n.bytesValue,e.bytesValue);case 7:return function(a,l){const h=a.split("/"),y=l.split("/");for(let w=0;w<h.length&&w<y.length;w++){const T=Wt(h[w],y[w]);if(0!==T)return T}return Wt(h.length,y.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,l){const h=Wt(vr(a.latitude),vr(l.latitude));return 0!==h?h:Wt(vr(a.longitude),vr(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(a,l){const h=a.values||[],y=l.values||[];for(let w=0;w<h.length&&w<y.length;++w){const T=Pf(h[w],y[w]);if(T)return T}return Wt(h.length,y.length)}(n.arrayValue,e.arrayValue);case 10:return function(a,l){const h=a.fields||{},y=Object.keys(h),w=l.fields||{},T=Object.keys(w);y.sort(),T.sort();for(let R=0;R<y.length&&R<T.length;++R){const x=Wt(y[R],T[R]);if(0!==x)return x;const B=Pf(h[y[R]],w[T[R]]);if(0!==B)return B}return Wt(y.length,T.length)}(n.mapValue,e.mapValue);default:throw st()}}function TS(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Wt(n,e);const t=Pu(n),r=Pu(e),a=Wt(t.seconds,r.seconds);return 0!==a?a:Wt(t.nanos,r.nanos)}function Sb(n){return Rb(n)}function Rb(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const a=Pu(r);return`time(${a.seconds},${a.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Ra(n.bytesValue).toBase64():"referenceValue"in n?rt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let a="[",l=!0;for(const h of r.values||[])l?l=!1:a+=",",a+=Rb(h);return a+"]"}(n.arrayValue):"mapValue"in n?function(r){const a=Object.keys(r.fields||{}).sort();let l="{",h=!0;for(const y of a)h?h=!1:l+=",",l+=`${y}:${Rb(r.fields[y])}`;return l+"}"}(n.mapValue):st();var e}function b0(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function T_(n){return!!n&&"integerValue"in n}function kf(n){return!!n&&"arrayValue"in n}function Nb(n){return!!n&&"nullValue"in n}function Mb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Wg(n){return!!n&&"mapValue"in n}function ku(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Fd(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=ku(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ku(n.arrayValue.values[t]);return e}return Object.assign({},n)}class Ii{constructor(e){this.value=e}static empty(){return new Ii({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Wg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ku(t)}setAll(e){let t=si.emptyPath(),r={},a=[];e.forEach((h,y)=>{if(!t.isImmediateParentOf(y)){const w=this.getFieldsMap(t);this.applyChanges(w,r,a),r={},a=[],t=y.popLast()}h?r[y.lastSegment()]=ku(h):a.push(y.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,a)}delete(e){const t=this.field(e.popLast());Wg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Bo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];Wg(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){Fd(t,(a,l)=>e[a]=l);for(const a of r)delete e[a]}clone(){return new Ii(ku(this.value))}}function xb(n){const e=[];return Fd(n.fields,(t,r)=>{const a=new si([t]);if(Wg(r)){const l=xb(r.mapValue).fields;if(0===l.length)e.push(a);else for(const h of l)e.push(a.child(h))}else e.push(a)}),new Of(e)}class jn{constructor(e,t,r,a,l){this.key=e,this.documentType=t,this.version=r,this.data=a,this.documentState=l}static newInvalidDocument(e){return new jn(e,0,xt.min(),Ii.empty(),0)}static newFoundDocument(e,t,r){return new jn(e,1,t,r,0)}static newNoDocument(e,t){return new jn(e,2,t,Ii.empty(),0)}static newUnknownDocument(e,t){return new jn(e,3,t,Ii.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ii.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ii.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof jn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new jn(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class DS{constructor(e,t=null,r=[],a=[],l=null,h=null,y=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=h,this.endAt=y,this.A=null}}function Ob(n,e=null,t=[],r=[],a=null,l=null,h=null){return new DS(n,e,t,r,a,l,h)}function Ff(n){const e=He(n);if(null===e.A){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>function(n){return n.field.canonicalString()+n.op.toString()+Sb(n.value)}(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(a=r).field.canonicalString()+a.dir;var a}).join(","),Vd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=A_(e.startAt)),e.endAt&&(t+="|ub:",t+=A_(e.endAt)),e.A=t}return e.A}function D_(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let a=0;a<n.orderBy.length;a++)if(!xS(n.orderBy[a],e.orderBy[a]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let a=0;a<n.filters.length;a++)if((t=n.filters[a]).op!==(r=e.filters[a]).op||!t.field.isEqual(r.field)||!Bo(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Lb(n.startAt,e.startAt)&&Lb(n.endAt,e.endAt)}function Fu(n){return rt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Ki extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.R(e,t,r):new SS(e,t,r):"array-contains"===t?new NS(e,r):"in"===t?new D0(e,r):"not-in"===t?new MS(e,r):"array-contains-any"===t?new Fb(e,r):new Ki(e,t,r)}static R(e,t,r){return"in"===t?new kb(e,r):new RS(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.P(Pf(t,this.value)):null!==t&&Ud(this.value)===Ud(t)&&this.P(Pf(t,this.value))}P(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return st()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class SS extends Ki{constructor(e,t,r){super(e,t,r),this.key=rt.fromName(r.referenceValue)}matches(e){const t=rt.comparator(e.key,this.key);return this.P(t)}}class kb extends Ki{constructor(e,t){super(e,"in",t),this.keys=T0(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class RS extends Ki{constructor(e,t){super(e,"not-in",t),this.keys=T0(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function T0(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>rt.fromName(r.referenceValue))}class NS extends Ki{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return kf(t)&&zg(t.arrayValue,this.value)}}class D0 extends Ki{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&zg(this.value.arrayValue,t)}}class MS extends Ki{constructor(e,t){super(e,"not-in",t)}matches(e){if(zg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!zg(this.value.arrayValue,t)}}class Fb extends Ki{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!kf(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>zg(this.value.arrayValue,r))}}class Lf{constructor(e,t){this.position=e,this.before=t}}function A_(n){return`${n.before?"b":"a"}:${n.position.map(e=>Sb(e)).join(",")}`}class Vf{constructor(e,t="asc"){this.field=e,this.dir=t}}function xS(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function S_(n,e,t){let r=0;for(let a=0;a<n.position.length;a++){const l=e[a],h=n.position[a];if(r=l.field.isKeyField()?rt.comparator(rt.fromName(h.referenceValue),t.key):Pf(h,t.data.field(l.field)),"desc"===l.dir&&(r*=-1),0!==r)break}return n.before?r<=0:r<0}function Lb(n,e){if(null===n)return null===e;if(null===e||n.before!==e.before||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Bo(n.position[t],e.position[t]))return!1;return!0}class Na{constructor(e,t=null,r=[],a=[],l=null,h="F",y=null,w=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=h,this.startAt=y,this.endAt=w,this.V=null,this.S=null}}function Vb(n,e,t,r,a,l,h,y){return new Na(n,e,t,r,a,l,h,y)}function Uf(n){return new Na(n)}function R_(n){return!Vd(n.limit)&&"F"===n.limitType}function N_(n){return!Vd(n.limit)&&"L"===n.limitType}function A0(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function S0(n){for(const e of n.filters)if(e.v())return e.field;return null}function R0(n){return null!==n.collectionGroup}function Bf(n){const e=He(n);if(null===e.V){e.V=[];const t=S0(e),r=A0(e);if(null!==t&&null===r)t.isKeyField()||e.V.push(new Vf(t)),e.V.push(new Vf(si.keyField(),"asc"));else{let a=!1;for(const l of e.explicitOrderBy)e.V.push(l),l.field.isKeyField()&&(a=!0);if(!a){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.V.push(new Vf(si.keyField(),l))}}}return e.V}function Rs(n){const e=He(n);if(!e.S)if("F"===e.limitType)e.S=Ob(e.path,e.collectionGroup,Bf(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of Bf(e))t.push(new Vf(l.field,"desc"===l.dir?"asc":"desc"));const r=e.endAt?new Lf(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Lf(e.startAt.position,!e.startAt.before):null;e.S=Ob(e.path,e.collectionGroup,t,e.filters,e.limit,r,a)}return e.S}function N0(n,e,t){return new Na(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Kg(n,e){return D_(Rs(n),Rs(e))&&n.limitType===e.limitType}function Ub(n){return`${Ff(Rs(n))}|lt:${n.limitType}`}function M_(n){return`Query(target=${function(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Sb(r.value)}`;var r}).join(", ")}]`),Vd(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: "+A_(n.startAt)),n.endAt&&(e+=", endAt: "+A_(n.endAt)),`Target(${e})`}(Rs(n))}; limitType=${n.limitType})`}function Zg(n,e){return e.isFoundDocument()&&function(t,r){const a=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):rt.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(n,e)&&function(t,r){for(const a of t.explicitOrderBy)if(!a.field.isKeyField()&&null===r.data.field(a.field))return!1;return!0}(n,e)&&function(t,r){for(const a of t.filters)if(!a.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!S_(t.startAt,Bf(t),r)||t.endAt&&S_(t.endAt,Bf(t),r)));var t,r}function Bb(n){return(e,t)=>{let r=!1;for(const a of Bf(n)){const l=OS(a,e,t);if(0!==l)return l;r=r||a.field.isKeyField()}return 0}}function OS(n,e,t){const r=n.field.isKeyField()?rt.comparator(e.key,t.key):function(a,l,h){const y=l.data.field(a),w=h.data.field(a);return null!==y&&null!==w?Pf(y,w):st()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return st()}}function x_(n,e){if(n.D){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qg(e)?"-0":e}}function O_(n){return{integerValue:""+n}}function M0(n,e){return I0(e)?O_(e):x_(n,e)}class jf{constructor(){this._=void 0}}function PS(n,e,t){return n instanceof $f?function(r,a){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return a&&(l.fields.__previous_value__=a),{mapValue:l}}(t,e):n instanceof Kl?jb(n,e):n instanceof Zl?x0(n,e):function(r,a){const l=P_(r,a),h=FS(l)+FS(r.C);return T_(l)&&T_(r.C)?O_(h):x_(r.N,h)}(n,e)}function kS(n,e,t){return n instanceof Kl?jb(n,e):n instanceof Zl?x0(n,e):t}function P_(n,e){return n instanceof Bd?T_(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class $f extends jf{}class Kl extends jf{constructor(e){super(),this.elements=e}}function jb(n,e){const t=$b(e);for(const r of n.elements)t.some(a=>Bo(a,r))||t.push(r);return{arrayValue:{values:t}}}class Zl extends jf{constructor(e){super(),this.elements=e}}function x0(n,e){let t=$b(e);for(const r of n.elements)t=t.filter(a=>!Bo(a,r));return{arrayValue:{values:t}}}class Bd extends jf{constructor(e,t){super(),this.N=e,this.C=t}}function FS(n){return vr(n.integerValue||n.doubleValue)}function $b(n){return kf(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Ma{constructor(e,t){this.field=e,this.transform=t}}class O0{constructor(e,t){this.version=e,this.transformResults=t}}class Yn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Yn}static exists(e){return new Yn(void 0,e)}static updateTime(e){return new Yn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function k_(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Lu{}function LS(n,e,t){n instanceof F_?function(r,a,l){const h=r.value.clone(),y=qb(r.fieldTransforms,a,l.transformResults);h.setAll(y),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(n,e,t):n instanceof $o?function(r,a,l){if(!k_(r.precondition,a))return void a.convertToUnknownDocument(l.version);const h=qb(r.fieldTransforms,a,l.transformResults),y=a.data;y.setAll(Gb(r)),y.setAll(h),a.convertToFoundDocument(l.version,y).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Hb(n,e,t){var a;n instanceof F_?function(r,a,l){if(!k_(r.precondition,a))return;const h=r.value.clone(),y=US(r.fieldTransforms,l,a);h.setAll(y),a.convertToFoundDocument(P0(a),h).setHasLocalMutations()}(n,e,t):n instanceof $o?function(r,a,l){if(!k_(r.precondition,a))return;const h=US(r.fieldTransforms,l,a),y=a.data;y.setAll(Gb(r)),y.setAll(h),a.convertToFoundDocument(P0(a),y).setHasLocalMutations()}(n,e,t):k_(n.precondition,a=e)&&a.convertToNoDocument(xt.min())}function VS(n,e){let t=null;for(const r of n.fieldTransforms){const a=e.data.field(r.field),l=P_(r.transform,a||null);null!=l&&(null==t&&(t=Ii.empty()),t.set(r.field,l))}return t||null}function jo(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&xf(t,r,(a,l)=>function(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Kl&&r instanceof Kl||t instanceof Zl&&r instanceof Zl?xf(t.elements,r.elements,Bo):t instanceof Bd&&r instanceof Bd?Bo(t.C,r.C):t instanceof $f&&r instanceof $f);var t,r}(a,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function P0(n){return n.isFoundDocument()?n.version:xt.min()}class F_ extends Lu{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}}class $o extends Lu{constructor(e,t,r,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}}function Gb(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function qb(n,e,t){const r=new Map;Ct(n.length===t.length);for(let a=0;a<t.length;a++){const l=n[a],h=l.transform,y=e.data.field(l.field);r.set(l.field,kS(h,y,t[a]))}return r}function US(n,e,t){const r=new Map;for(const a of n){const l=a.transform,h=t.data.field(a.field);r.set(a.field,PS(l,h,e))}return r}class Yg extends Lu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class k0 extends Lu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class BS{constructor(e){this.count=e}}var ir,Qt;function L_(n){switch(n){default:return st();case pe.CANCELLED:case pe.UNKNOWN:case pe.DEADLINE_EXCEEDED:case pe.RESOURCE_EXHAUSTED:case pe.INTERNAL:case pe.UNAVAILABLE:case pe.UNAUTHENTICATED:return!1;case pe.INVALID_ARGUMENT:case pe.NOT_FOUND:case pe.ALREADY_EXISTS:case pe.PERMISSION_DENIED:case pe.FAILED_PRECONDITION:case pe.ABORTED:case pe.OUT_OF_RANGE:case pe.UNIMPLEMENTED:case pe.DATA_LOSS:return!0}}function jd(n){if(void 0===n)return _r("GRPC error has no .code"),pe.UNKNOWN;switch(n){case ir.OK:return pe.OK;case ir.CANCELLED:return pe.CANCELLED;case ir.UNKNOWN:return pe.UNKNOWN;case ir.DEADLINE_EXCEEDED:return pe.DEADLINE_EXCEEDED;case ir.RESOURCE_EXHAUSTED:return pe.RESOURCE_EXHAUSTED;case ir.INTERNAL:return pe.INTERNAL;case ir.UNAVAILABLE:return pe.UNAVAILABLE;case ir.UNAUTHENTICATED:return pe.UNAUTHENTICATED;case ir.INVALID_ARGUMENT:return pe.INVALID_ARGUMENT;case ir.NOT_FOUND:return pe.NOT_FOUND;case ir.ALREADY_EXISTS:return pe.ALREADY_EXISTS;case ir.PERMISSION_DENIED:return pe.PERMISSION_DENIED;case ir.FAILED_PRECONDITION:return pe.FAILED_PRECONDITION;case ir.ABORTED:return pe.ABORTED;case ir.OUT_OF_RANGE:return pe.OUT_OF_RANGE;case ir.UNIMPLEMENTED:return pe.UNIMPLEMENTED;case ir.DATA_LOSS:return pe.DATA_LOSS;default:return st()}}(Qt=ir||(ir={}))[Qt.OK=0]="OK",Qt[Qt.CANCELLED=1]="CANCELLED",Qt[Qt.UNKNOWN=2]="UNKNOWN",Qt[Qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qt[Qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qt[Qt.NOT_FOUND=5]="NOT_FOUND",Qt[Qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qt[Qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qt[Qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qt[Qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qt[Qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qt[Qt.ABORTED=10]="ABORTED",Qt[Qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qt[Qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qt[Qt.INTERNAL=13]="INTERNAL",Qt[Qt.UNAVAILABLE=14]="UNAVAILABLE",Qt[Qt.DATA_LOSS=15]="DATA_LOSS";class sr{constructor(e,t){this.comparator=e,this.root=t||oi.EMPTY}insert(e,t){return new sr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,oi.BLACK,null,null))}remove(e){return new sr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,oi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(0===a)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yl(this.root,e,this.comparator,!0)}}class Yl{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class oi{constructor(e,t,r,a,l){this.key=e,this.value=t,this.color=null!=r?r:oi.RED,this.left=null!=a?a:oi.EMPTY,this.right=null!=l?l:oi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,l){return new oi(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=a?a:this.left,null!=l?l:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const l=r(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,r),null):0===l?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return oi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return oi.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,oi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,oi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw st();const e=this.left.check();if(e!==this.right.check())throw st();return e+(this.isRed()?0:1)}}oi.EMPTY=null,oi.RED=!0,oi.BLACK=!1,oi.EMPTY=new class{constructor(){this.size=0}get key(){throw st()}get value(){throw st()}get color(){throw st()}get left(){throw st()}get right(){throw st()}copy(n,e,t,r,a){return this}insert(n,e,t){return new oi(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Qn{constructor(e){this.comparator=e,this.data=new sr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new F0(this.data.getIterator())}getIteratorFrom(e){return new F0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Qn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=r.getNext().key;if(0!==this.comparator(a,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Qn(this.comparator);return t.data=e,t}}class F0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const jS=new sr(rt.comparator);function so(){return jS}const $S=new sr(rt.comparator);function Qg(){return $S}const HS=new sr(rt.comparator);function GS(){return HS}const qS=new Qn(rt.comparator);function _n(...n){let e=qS;for(const t of n)e=e.add(t);return e}const $d=new Qn(Wt);function Jg(){return $d}class xa{constructor(e,t,r,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,V_.createSynthesizedTargetChangeForCurrentChange(e,t)),new xa(xt.min(),r,Jg(),so(),_n())}}class V_{constructor(e,t,r,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t){return new V_(Rr.EMPTY_BYTE_STRING,t,_n(),_n(),_n())}}class Xg{constructor(e,t,r,a){this.k=e,this.removedTargetIds=t,this.key=r,this.$=a}}class zb{constructor(e,t){this.targetId=e,this.O=t}}class zS{constructor(e,t,r=Rr.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class U_{constructor(){this.F=0,this.M=KS(),this.L=Rr.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(e){e.approximateByteSize()>0&&(this.U=!0,this.L=e)}W(){let e=_n(),t=_n(),r=_n();return this.M.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:st()}}),new V_(this.L,this.B,e,t,r)}G(){this.U=!1,this.M=KS()}H(e,t){this.U=!0,this.M=this.M.insert(e,t)}J(e){this.U=!0,this.M=this.M.remove(e)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class LM{constructor(e){this.tt=e,this.et=new Map,this.nt=so(),this.st=WS(),this.it=new Qn(Wt)}rt(e){for(const t of e.k)e.$&&e.$.isFoundDocument()?this.ot(t,e.$):this.ct(t,e.key,e.$);for(const t of e.removedTargetIds)this.ct(t,e.key,e.$)}at(e){this.forEachTarget(e,t=>{const r=this.ut(t);switch(e.state){case 0:this.ht(t)&&r.j(e.resumeToken);break;case 1:r.X(),r.q||r.G(),r.j(e.resumeToken);break;case 2:r.X(),r.q||this.removeTarget(t);break;case 3:this.ht(t)&&(r.Z(),r.j(e.resumeToken));break;case 4:this.ht(t)&&(this.lt(t),r.j(e.resumeToken));break;default:st()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.et.forEach((r,a)=>{this.ht(a)&&t(a)})}ft(e){const t=e.targetId,r=e.O.count,a=this.dt(t);if(a){const l=a.target;if(Fu(l))if(0===r){const h=new rt(l.path);this.ct(t,h,jn.newNoDocument(h,xt.min()))}else Ct(1===r);else this.wt(t)!==r&&(this.lt(t),this.it=this.it.add(t))}}_t(e){const t=new Map;this.et.forEach((l,h)=>{const y=this.dt(h);if(y){if(l.current&&Fu(y.target)){const w=new rt(y.target.path);null!==this.nt.get(w)||this.gt(h,w)||this.ct(h,w,jn.newNoDocument(w,e))}l.K&&(t.set(h,l.W()),l.G())}});let r=_n();this.st.forEach((l,h)=>{let y=!0;h.forEachWhile(w=>{const T=this.dt(w);return!T||2===T.purpose||(y=!1,!1)}),y&&(r=r.add(l))});const a=new xa(e,t,this.it,this.nt,r);return this.nt=so(),this.st=WS(),this.it=new Qn(Wt),a}ot(e,t){if(!this.ht(e))return;const r=this.gt(e,t.key)?2:0;this.ut(e).H(t.key,r),this.nt=this.nt.insert(t.key,t),this.st=this.st.insert(t.key,this.yt(t.key).add(e))}ct(e,t,r){if(!this.ht(e))return;const a=this.ut(e);this.gt(e,t)?a.H(t,1):a.J(t),this.st=this.st.insert(t,this.yt(t).delete(e)),r&&(this.nt=this.nt.insert(t,r))}removeTarget(e){this.et.delete(e)}wt(e){const t=this.ut(e).W();return this.tt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Y(e){this.ut(e).Y()}ut(e){let t=this.et.get(e);return t||(t=new U_,this.et.set(e,t)),t}yt(e){let t=this.st.get(e);return t||(t=new Qn(Wt),this.st=this.st.insert(e,t)),t}ht(e){const t=null!==this.dt(e);return t||Ue("WatchChangeAggregator","Detected inactive target",e),t}dt(e){const t=this.et.get(e);return t&&t.q?null:this.tt.Tt(e)}lt(e){this.et.set(e,new U_),this.tt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}gt(e,t){return this.tt.getRemoteKeysForTarget(e).has(t)}}function WS(){return new sr(rt.comparator)}function KS(){return new sr(rt.comparator)}const Wb={asc:"ASCENDING",desc:"DESCENDING"},L0={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class ZS{constructor(e,t){this.databaseId=e,this.D=t}}function Hf(n,e){return n.D?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Kb(n,e){return n.D?e.toBase64():e.toUint8Array()}function YS(n,e){return Hf(n,e.toTimestamp())}function Gr(n){return Ct(!!n),xt.fromTimestamp(function(e){const t=Pu(e);return new Sr(t.seconds,t.nanos)}(n))}function V0(n,e){return(t=n,new Yt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Zb(n){const e=Yt.fromString(n);return Ct(nT(e)),e}function em(n,e){return V0(n.databaseId,e.path)}function Oa(n,e){const t=Zb(e);if(t.get(1)!==n.databaseId.projectId)throw new re(pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new re(pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new rt(B0(t))}function U0(n,e){return V0(n.databaseId,e)}function Gf(n){const e=Zb(n);return 4===e.length?Yt.emptyPath():B0(e)}function qf(n){return new Yt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function B0(n){return Ct(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function j0(n,e,t){return{name:em(n,e),fields:t.value.mapValue.fields}}function $0(n,e,t){const r=Oa(n,e.name),a=Gr(e.updateTime),l=new Ii({mapValue:{fields:e.fields}}),h=jn.newFoundDocument(r,a,l);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function B_(n,e){let t;if(e instanceof F_)t={update:j0(n,e.key,e.value)};else if(e instanceof Yg)t={delete:em(n,e.key)};else if(e instanceof $o)t={update:j0(n,e.key,e.data),updateMask:eR(e.fieldMask)};else{if(!(e instanceof k0))return st();t={verify:em(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,l){const h=l.transform;if(h instanceof $f)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Kl)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Zl)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Bd)return{fieldPath:l.field.canonicalString(),increment:h.C};throw st()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:YS(n,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:st()),t;var a}function H0(n,e){const t=e.currentDocument?void 0!==(a=e.currentDocument).updateTime?Yn.updateTime(Gr(a.updateTime)):void 0!==a.exists?Yn.exists(a.exists):Yn.none():Yn.none(),r=e.updateTransforms?e.updateTransforms.map(a=>function(l,h){let y=null;"setToServerValue"in h?(Ct("REQUEST_TIME"===h.setToServerValue),y=new $f):"appendMissingElements"in h?y=new Kl(h.appendMissingElements.values||[]):"removeAllFromArray"in h?y=new Zl(h.removeAllFromArray.values||[]):"increment"in h?y=new Bd(l,h.increment):st();const w=si.fromServerFormat(h.fieldPath);return new Ma(w,y)}(n,a)):[];var a;if(e.update){const a=Oa(n,e.update.name),l=new Ii({mapValue:{fields:e.update.fields}});if(e.updateMask){const h=new Of((e.updateMask.fieldPaths||[]).map(T=>si.fromServerFormat(T)));return new $o(a,l,h,t,r)}return new F_(a,l,t,r)}if(e.delete){const a=Oa(n,e.delete);return new Yg(a,t)}if(e.verify){const a=Oa(n,e.verify);return new k0(a,t)}return st()}function Jb(n,e){return{documents:[U0(n,e.path)]}}function Xb(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=U0(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=U0(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const a=function(y){if(0===y.length)return;const w=y.map(T=>function(R){if("=="===R.op){if(Mb(R.value))return{unaryFilter:{field:zf(R.field),op:"IS_NAN"}};if(Nb(R.value))return{unaryFilter:{field:zf(R.field),op:"IS_NULL"}}}else if("!="===R.op){if(Mb(R.value))return{unaryFilter:{field:zf(R.field),op:"IS_NOT_NAN"}};if(Nb(R.value))return{unaryFilter:{field:zf(R.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zf(R.field),op:$_(R.op),value:R.value}}}(T));return 1===w.length?w[0]:{compositeFilter:{op:"AND",filters:w}}}(e.filters);a&&(t.structuredQuery.where=a);const l=function(y){if(0!==y.length)return y.map(w=>{return{field:zf((T=w).field),direction:JS(T.dir)};var T})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const h=(w=e.limit,n.D||Vd(w)?w:{value:w});var w;return null!==h&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=j_(e.startAt)),e.endAt&&(t.structuredQuery.endAt=j_(e.endAt)),t}function eT(n){let e=Gf(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){Ct(1===r);const R=t.from[0];R.allDescendants?a=R.collectionId:e=e.child(R.collectionId)}let l=[];t.where&&(l=tT(t.where));let h=[];t.orderBy&&(h=t.orderBy.map(R=>{return new Vf(nm((x=R).field),function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction));var x}));let y=null;t.limit&&(y=function(R){let x;return x="object"==typeof R?R.value:R,Vd(x)?null:x}(t.limit));let w=null;t.startAt&&(w=Ho(t.startAt));let T=null;return t.endAt&&(T=Ho(t.endAt)),Vb(e,a,h,l,y,"F",w,T)}function tT(n){return n?void 0!==n.unaryFilter?[rm(n)]:void 0!==n.fieldFilter?[XS(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>tT(e)).reduce((e,t)=>e.concat(t)):st():[]}function j_(n){return{before:n.before,values:n.position}}function Ho(n){return new Lf(n.values||[],!!n.before)}function JS(n){return Wb[n]}function $_(n){return L0[n]}function zf(n){return{fieldPath:n.canonicalString()}}function nm(n){return si.fromServerFormat(n.fieldPath)}function XS(n){return Ki.create(nm(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return st()}}(n.fieldFilter.op),n.fieldFilter.value)}function rm(n){switch(n.unaryFilter.op){case"IS_NAN":const e=nm(n.unaryFilter.field);return Ki.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=nm(n.unaryFilter.field);return Ki.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=nm(n.unaryFilter.field);return Ki.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=nm(n.unaryFilter.field);return Ki.create(a,"!=",{nullValue:"NULL_VALUE"});default:return st()}}function eR(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function nT(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Go(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=rT(e)),e=H_(n.get(t),e);return rT(e)}function H_(n,e){let t=e;const r=n.length;for(let a=0;a<r;a++){const l=n.charAt(a);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function rT(n){return n+"\x01\x01"}function Ql(n){const e=n.length;if(Ct(e>=2),2===e)return Ct("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Yt.emptyPath();const t=e-2,r=[];let a="";for(let l=0;l<e;){const h=n.indexOf("\x01",l);switch((h<0||h>t)&&st(),n.charAt(h+1)){case"\x01":const y=n.substring(l,h);let w;0===a.length?w=y:(a+=y,w=a,a=""),r.push(w);break;case"\x10":a+=n.substring(l,h),a+="\0";break;case"\x11":a+=n.substring(l,h+1);break;default:st()}l=h+2}return new Yt(r)}class tR{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class bi{constructor(e,t,r){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=r}}bi.store="owner",bi.key="owner";class Jl{constructor(e,t,r){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=r}}Jl.store="mutationQueues",Jl.keyPath="userId";class Mn{constructor(e,t,r,a,l){this.userId=e,this.batchId=t,this.localWriteTimeMs=r,this.baseMutations=a,this.mutations=l}}Mn.store="mutations",Mn.keyPath="batchId",Mn.userMutationsIndex="userMutationsIndex",Mn.userMutationsKeyPath=["userId","batchId"];class ai{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,Go(t)]}static key(e,t,r){return[e,Go(t),r]}}ai.store="documentMutations",ai.PLACEHOLDER=new ai;class iT{constructor(e,t){this.path=e,this.readTime=t}}class G0{constructor(e,t){this.path=e,this.version=t}}class Jn{constructor(e,t,r,a,l,h){this.unknownDocument=e,this.noDocument=t,this.document=r,this.hasCommittedMutations=a,this.readTime=l,this.parentPath=h}}Jn.store="remoteDocuments",Jn.readTimeIndex="readTimeIndex",Jn.readTimeIndexPath="readTime",Jn.collectionReadTimeIndex="collectionReadTimeIndex",Jn.collectionReadTimeIndexPath=["parentPath","readTime"];class Pa{constructor(e){this.byteSize=e}}Pa.store="remoteDocumentGlobal",Pa.key="remoteDocumentGlobalKey";class ms{constructor(e,t,r,a,l,h,y){this.targetId=e,this.canonicalId=t,this.readTime=r,this.resumeToken=a,this.lastListenSequenceNumber=l,this.lastLimboFreeSnapshotVersion=h,this.query=y}}ms.store="targets",ms.keyPath="targetId",ms.queryTargetsIndexName="queryTargetsIndex",ms.queryTargetsKeyPath=["canonicalId","targetId"];class Ti{constructor(e,t,r){this.targetId=e,this.path=t,this.sequenceNumber=r}}Ti.store="targetDocuments",Ti.keyPath=["targetId","path"],Ti.documentTargetsIndex="documentTargetsIndex",Ti.documentTargetsKeyPath=["path","targetId"];class Zi{constructor(e,t,r,a){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=r,this.targetCount=a}}Zi.key="targetGlobalKey",Zi.store="targetGlobal";class Vu{constructor(e,t){this.collectionId=e,this.parent=t}}Vu.store="collectionParents",Vu.keyPath=["collectionId","parent"];class ka{constructor(e,t,r,a){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=r,this.inForeground=a}}ka.store="clientMetadata",ka.keyPath="clientId";class Xl{constructor(e,t,r){this.bundleId=e,this.createTime=t,this.version=r}}Xl.store="bundles",Xl.keyPath="bundleId";class ec{constructor(e,t,r){this.name=e,this.readTime=t,this.bundledQuery=r}}ec.store="namedQueries",ec.keyPath="name";const nR=[Jl.store,Mn.store,ai.store,Jn.store,ms.store,bi.store,Zi.store,Ti.store,ka.store,Pa.store,Vu.store,Xl.store,ec.store],sT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class oT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&st(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ne((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ne?t:Ne.resolve(t)}catch(t){return Ne.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ne.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ne.reject(t)}static resolve(e){return new Ne((t,r)=>{t(e)})}static reject(e){return new Ne((t,r)=>{r(e)})}static waitFor(e){return new Ne((t,r)=>{let a=0,l=0,h=!1;e.forEach(y=>{++a,y.next(()=>{++l,h&&l===a&&t()},w=>r(w))}),h=!0,l===a&&t()})}static or(e){let t=Ne.resolve(!1);for(const r of e)t=t.next(a=>a?Ne.resolve(a):r());return t}static forEach(e,t){const r=[];return e.forEach((a,l)=>{r.push(t.call(this,a,l))}),this.waitFor(r)}}class im{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.Et=new Hr,this.transaction.oncomplete=()=>{this.Et.resolve()},this.transaction.onabort=()=>{t.error?this.Et.reject(new sm(e,t.error)):this.Et.resolve()},this.transaction.onerror=r=>{const a=G_(r.target.error);this.Et.reject(new sm(e,a))}}static open(e,t,r,a){try{return new im(t,e.transaction(a,r))}catch(l){throw new sm(t,l)}}get It(){return this.Et.promise}abort(e){e&&this.Et.reject(e),this.aborted||(Ue("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const t=this.transaction.objectStore(e);return new uT(t)}}class Ns{constructor(e,t,r){this.name=e,this.version=t,this.At=r,12.2===Ns.Rt((0,Gt.z$)())&&_r("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ue("SimpleDb","Removing database:",e),Hd(window.indexedDB.deleteDatabase(e)).toPromise()}static bt(){if(!(0,Gt.hl)())return!1;if(Ns.Pt())return!0;const e=(0,Gt.z$)(),t=Ns.Rt(e),r=0<t&&t<10,a=Ns.vt(e),l=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||l)}static Pt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Vt)}static St(e,t){return e.store(t)}static Rt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static vt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Dt(e){var t=this;return(0,_e.Z)(function*(){return t.db||(Ue("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,a)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=h=>{r(h.target.result)},l.onblocked=()=>{a(new sm(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=h=>{const y=h.target.error;a("VersionError"===y.name?new re(pe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===y.name?new re(pe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+y):new sm(e,y))},l.onupgradeneeded=h=>{Ue("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',h.oldVersion),t.At.Ct(h.target.result,l.transaction,h.oldVersion,t.version).next(()=>{Ue("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Nt&&(t.db.onversionchange=r=>t.Nt(r)),t.db})()}xt(e){this.Nt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,a){var l=this;return(0,_e.Z)(function*(){const h="readonly"===t;let y=0;for(;;){++y;try{l.db=yield l.Dt(e);const w=im.open(l.db,e,h?"readonly":"readwrite",r),T=a(w).catch(R=>(w.abort(R),Ne.reject(R))).toPromise();return T.catch(()=>{}),yield w.It,T}catch(w){const T="FirebaseError"!==w.name&&y<3;if(Ue("SimpleDb","Transaction failed with error:",w.message,"Retrying:",T),l.close(),!T)return Promise.reject(w)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class aT{constructor(e){this.kt=e,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(e){this.kt=e}done(){this.$t=!0}Mt(e){this.Ot=e}delete(){return Hd(this.kt.delete())}}class sm extends re{constructor(e,t){super(pe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function tc(n){return"IndexedDbTransactionError"===n.name}class uT{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Ue("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Ue("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Hd(r)}add(e){return Ue("SimpleDb","ADD",this.store.name,e,e),Hd(this.store.add(e))}get(e){return Hd(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ue("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ue("SimpleDb","DELETE",this.store.name,e),Hd(this.store.delete(e))}count(){return Ue("SimpleDb","COUNT",this.store.name),Hd(this.store.count())}Lt(e,t){const r=this.cursor(this.options(e,t)),a=[];return this.Bt(r,(l,h)=>{a.push(h)}).next(()=>a)}Ut(e,t){Ue("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.qt=!1;const a=this.cursor(r);return this.Bt(a,(l,h,y)=>y.delete())}Kt(e,t){let r;t?r=e:(r={},t=e);const a=this.cursor(r);return this.Bt(a,t)}jt(e){const t=this.cursor({});return new Ne((r,a)=>{t.onerror=l=>{const h=G_(l.target.error);a(h)},t.onsuccess=l=>{const h=l.target.result;h?e(h.primaryKey,h.value).next(y=>{y?h.continue():r()}):r()}})}Bt(e,t){const r=[];return new Ne((a,l)=>{e.onerror=h=>{l(h.target.error)},e.onsuccess=h=>{const y=h.target.result;if(!y)return void a();const w=new aT(y),T=t(y.primaryKey,y.value,w);if(T instanceof Ne){const R=T.catch(x=>(w.done(),Ne.reject(x)));r.push(R)}w.isDone?a():null===w.Ft?y.continue():y.continue(w.Ft)}}).next(()=>Ne.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.qt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Hd(n){return new Ne((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const a=G_(r.target.error);t(a)}})}let q0=!1;function G_(n){const e=Ns.Rt((0,Gt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new re("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return q0||(q0=!0,setTimeout(()=>{throw r},0)),r}}return n}class lT extends oT{constructor(e,t){super(),this.Qt=e,this.currentSequenceNumber=t}}function Yi(n,e){const t=He(n);return Ns.St(t.Qt,e)}class z0{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&LS(l,e,r[a])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&Hb(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&Hb(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),a=r;this.applyToLocalView(a),r.isValidDocument()||a.convertToNoDocument(xt.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),_n())}isEqual(e){return this.batchId===e.batchId&&xf(this.mutations,e.mutations,(t,r)=>jo(t,r))&&xf(this.baseMutations,e.baseMutations,(t,r)=>jo(t,r))}}class ui{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){Ct(e.mutations.length===r.length);let a=GS();const l=e.mutations;for(let h=0;h<l.length;h++)a=a.insert(l[h].key,r[h].version);return new ui(e,t,r,a)}}class Ms{constructor(e,t,r,a,l=xt.min(),h=xt.min(),y=Rr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=y}withSequenceNumber(e){return new Ms(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class cT{constructor(e){this.Wt=e}}function W0(n,e){if(e.document)return $0(n.Wt,e.document,!!e.hasCommittedMutations);if(e.noDocument){const t=rt.fromSegments(e.noDocument.path),r=Wf(e.noDocument.readTime),a=jn.newNoDocument(t,r);return e.hasCommittedMutations?a.setHasCommittedMutations():a}if(e.unknownDocument){const t=rt.fromSegments(e.unknownDocument.path),r=Wf(e.unknownDocument.version);return jn.newUnknownDocument(t,r)}return st()}function rR(n,e,t){const r=Gd(t),a=e.key.path.popLast().toArray();if(e.isFoundDocument()){const l={name:em(y=n.Wt,(w=e).key),fields:w.data.value.mapValue.fields,updateTime:Hf(y,w.version.toTimestamp())};return new Jn(null,null,l,e.hasCommittedMutations,r,a)}var y,w;if(e.isNoDocument()){const l=e.key.path.toArray(),h=nc(e.version),y=e.hasCommittedMutations;return new Jn(null,new iT(l,h),null,y,r,a)}if(e.isUnknownDocument()){const l=e.key.path.toArray(),h=nc(e.version);return new Jn(new G0(l,h),null,null,!0,r,a)}return st()}function Gd(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function dT(n){const e=new Sr(n[0],n[1]);return xt.fromTimestamp(e)}function nc(n){const e=n.toTimestamp();return new tR(e.seconds,e.nanoseconds)}function Wf(n){const e=new Sr(n.seconds,n.nanoseconds);return xt.fromTimestamp(e)}function qd(n,e){const t=(e.baseMutations||[]).map(l=>H0(n.Wt,l));for(let l=0;l<e.mutations.length-1;++l){const h=e.mutations[l];l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(h.updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l)}const r=e.mutations.map(l=>H0(n.Wt,l)),a=Sr.fromMillis(e.localWriteTimeMs);return new z0(e.batchId,a,t,r)}function om(n){const e=Wf(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Wf(n.lastLimboFreeSnapshotVersion):xt.min();let r;var a;return void 0!==n.query.documents?(Ct(1===(a=n.query).documents.length),r=Rs(Uf(Gf(a.documents[0])))):r=Rs(eT(n.query)),new Ms(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Rr.fromBase64String(n.resumeToken))}function hT(n,e){const t=nc(e.snapshotVersion),r=nc(e.lastLimboFreeSnapshotVersion);let a;a=Fu(e.target)?Jb(n.Wt,e.target):Xb(n.Wt,e.target);const l=e.resumeToken.toBase64();return new ms(e.targetId,Ff(e.target),t,l,e.sequenceNumber,r,a)}function am(n){const e=eT({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?N0(e,e.limit,"L"):e}class fT{getBundleMetadata(e,t){return K0(e).get(t).next(r=>{if(r)return{id:(a=r).bundleId,createTime:Wf(a.createTime),version:a.version};var a})}saveBundleMetadata(e,t){return K0(e).put({bundleId:(r=t).id,createTime:nc(Gr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return um(e).get(t).next(r=>{if(r)return{name:(a=r).name,query:am(a.bundledQuery),readTime:Wf(a.readTime)};var a})}saveNamedQuery(e,t){return um(e).put({name:(r=t).name,readTime:nc(Gr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function K0(n){return Yi(n,Xl.store)}function um(n){return Yi(n,ec.store)}class Z0{constructor(){this.Gt=new pT}addToCollectionParentIndex(e,t){return this.Gt.add(t),Ne.resolve()}getCollectionParents(e,t){return Ne.resolve(this.Gt.getEntries(t))}}class pT{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new Qn(Yt.comparator),l=!a.has(r);return this.index[t]=a.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new Qn(Yt.comparator)).toArray()}}class gT{constructor(){this.zt=new pT}addToCollectionParentIndex(e,t){if(!this.zt.has(t)){const r=t.lastSegment(),a=t.popLast();e.addOnCommittedListener(()=>{this.zt.add(t)});const l={collectionId:r,parent:Go(a)};return mT(e).put(l)}return Ne.resolve()}getCollectionParents(e,t){const r=[],a=IDBKeyRange.bound([t,""],[w0(t),""],!1,!0);return mT(e).Lt(a).next(l=>{for(const h of l){if(h.collectionId!==t)break;r.push(Ql(h.parent))}return r})}}function mT(n){return Yi(n,Vu.store)}const Y0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class li{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new li(e,li.DEFAULT_COLLECTION_PERCENTILE,li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Q0(n,e,t){const r=n.store(Mn.store),a=n.store(ai.store),l=[],h=IDBKeyRange.only(t.batchId);let y=0;const w=r.Kt({range:h},(R,x,B)=>(y++,B.delete()));l.push(w.next(()=>{Ct(1===y)}));const T=[];for(const R of t.mutations){const x=ai.key(e,R.key.path,t.batchId);l.push(a.delete(x)),T.push(R.key)}return Ne.waitFor(l).next(()=>T)}function q_(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw st();e=n.noDocument}return JSON.stringify(e).length}li.DEFAULT_COLLECTION_PERCENTILE=10,li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,li.DEFAULT=new li(41943040,li.DEFAULT_COLLECTION_PERCENTILE,li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),li.DISABLED=new li(-1,0,0);class lm{constructor(e,t,r,a){this.userId=e,this.N=t,this.Ht=r,this.referenceDelegate=a,this.Jt={}}static Yt(e,t,r,a){Ct(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new lm(l,t,r,a)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return rc(e).Kt({index:Mn.userMutationsIndex,range:r},(a,l,h)=>{t=!1,h.done()}).next(()=>t)}addMutationBatch(e,t,r,a){const l=Kf(e),h=rc(e);return h.add({}).next(y=>{Ct("number"==typeof y);const w=new z0(y,t,r,a),T=function(B,q,X){const Ee=X.baseMutations.map(at=>B_(B.Wt,at)),xe=X.mutations.map(at=>B_(B.Wt,at));return new Mn(q,X.batchId,X.localWriteTime.toMillis(),Ee,xe)}(this.N,this.userId,w),R=[];let x=new Qn((B,q)=>Wt(B.canonicalString(),q.canonicalString()));for(const B of a){const q=ai.key(this.userId,B.key.path,y);x=x.add(B.key.path.popLast()),R.push(h.put(T)),R.push(l.put(q,ai.PLACEHOLDER))}return x.forEach(B=>{R.push(this.Ht.addToCollectionParentIndex(e,B))}),e.addOnCommittedListener(()=>{this.Jt[y]=w.keys()}),Ne.waitFor(R).next(()=>w)})}lookupMutationBatch(e,t){return rc(e).get(t).next(r=>r?(Ct(r.userId===this.userId),qd(this.N,r)):null)}Xt(e,t){return this.Jt[t]?Ne.resolve(this.Jt[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const a=r.keys();return this.Jt[t]=a,a}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return rc(e).Kt({index:Mn.userMutationsIndex,range:a},(h,y,w)=>{y.userId===this.userId&&(Ct(y.batchId>=r),l=qd(this.N,y)),w.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return rc(e).Kt({index:Mn.userMutationsIndex,range:t,reverse:!0},(a,l,h)=>{r=l.batchId,h.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return rc(e).Lt(Mn.userMutationsIndex,t).next(r=>r.map(a=>qd(this.N,a)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=ai.prefixForPath(this.userId,t.path),a=IDBKeyRange.lowerBound(r),l=[];return Kf(e).Kt({range:a},(h,y,w)=>{const[T,R,x]=h,B=Ql(R);if(T===this.userId&&t.path.isEqual(B))return rc(e).get(x).next(q=>{if(!q)throw st();Ct(q.userId===this.userId),l.push(qd(this.N,q))});w.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Qn(Wt);const a=[];return t.forEach(l=>{const h=ai.prefixForPath(this.userId,l.path),y=IDBKeyRange.lowerBound(h),w=Kf(e).Kt({range:y},(T,R,x)=>{const[B,q,X]=T,Ee=Ql(q);B===this.userId&&l.path.isEqual(Ee)?r=r.add(X):x.done()});a.push(w)}),Ne.waitFor(a).next(()=>this.Zt(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1,l=ai.prefixForPath(this.userId,r),h=IDBKeyRange.lowerBound(l);let y=new Qn(Wt);return Kf(e).Kt({range:h},(w,T,R)=>{const[x,B,q]=w,X=Ql(B);x===this.userId&&r.isPrefixOf(X)?X.length===a&&(y=y.add(q)):R.done()}).next(()=>this.Zt(e,y))}Zt(e,t){const r=[],a=[];return t.forEach(l=>{a.push(rc(e).get(l).next(h=>{if(null===h)throw st();Ct(h.userId===this.userId),r.push(qd(this.N,h))}))}),Ne.waitFor(a).next(()=>r)}removeMutationBatch(e,t){return Q0(e.Qt,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.te(t.batchId)}),Ne.forEach(r,a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))}te(e){delete this.Jt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Ne.resolve();const r=IDBKeyRange.lowerBound(ai.prefixForUser(this.userId)),a=[];return Kf(e).Kt({range:r},(l,h,y)=>{if(l[0]===this.userId){const w=Ql(l[1]);a.push(w)}else y.done()}).next(()=>{Ct(0===a.length)})})}containsKey(e,t){return z_(e,this.userId,t)}ee(e){return J0(e).get(this.userId).next(t=>t||new Jl(this.userId,-1,""))}}function z_(n,e,t){const r=ai.prefixForPath(e,t.path),a=r[1],l=IDBKeyRange.lowerBound(r);let h=!1;return Kf(n).Kt({range:l,qt:!0},(y,w,T)=>{const[R,x,B]=y;R===e&&x===a&&(h=!0),T.done()}).next(()=>h)}function rc(n){return Yi(n,Mn.store)}function Kf(n){return Yi(n,ai.store)}function J0(n){return Yi(n,Jl.store)}class ic{constructor(e){this.ne=e}next(){return this.ne+=2,this.ne}static se(){return new ic(0)}static ie(){return new ic(-1)}}class yT{constructor(e,t){this.referenceDelegate=e,this.N=t}allocateTargetId(e){return this.re(e).next(t=>{const r=new ic(t.highestTargetId);return t.highestTargetId=r.next(),this.oe(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.re(e).next(t=>xt.fromTimestamp(new Sr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.re(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.re(e).next(a=>(a.highestListenSequenceNumber=t,r&&(a.lastRemoteSnapshotVersion=r.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.oe(e,a)))}addTargetData(e,t){return this.ce(e,t).next(()=>this.re(e).next(r=>(r.targetCount+=1,this.ae(t,r),this.oe(e,r))))}updateTargetData(e,t){return this.ce(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Zf(e).delete(t.targetId)).next(()=>this.re(e)).next(r=>(Ct(r.targetCount>0),r.targetCount-=1,this.oe(e,r)))}removeTargets(e,t,r){let a=0;const l=[];return Zf(e).Kt((h,y)=>{const w=om(y);w.sequenceNumber<=t&&null===r.get(w.targetId)&&(a++,l.push(this.removeTargetData(e,w)))}).next(()=>Ne.waitFor(l)).next(()=>a)}forEachTarget(e,t){return Zf(e).Kt((r,a)=>{const l=om(a);t(l)})}re(e){return X0(e).get(Zi.key).next(t=>(Ct(null!==t),t))}oe(e,t){return X0(e).put(Zi.key,t)}ce(e,t){return Zf(e).put(hT(this.N,t))}ae(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.re(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Ff(t),a=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return Zf(e).Kt({range:a,index:ms.queryTargetsIndexName},(h,y,w)=>{const T=om(y);D_(t,T.target)&&(l=T,w.done())}).next(()=>l)}addMatchingKeys(e,t,r){const a=[],l=Uu(e);return t.forEach(h=>{const y=Go(h.path);a.push(l.put(new Ti(r,y))),a.push(this.referenceDelegate.addReference(e,r,h))}),Ne.waitFor(a)}removeMatchingKeys(e,t,r){const a=Uu(e);return Ne.forEach(t,l=>{const h=Go(l.path);return Ne.waitFor([a.delete([r,h]),this.referenceDelegate.removeReference(e,r,l)])})}removeMatchingKeysForTargetId(e,t){const r=Uu(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(a)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),a=Uu(e);let l=_n();return a.Kt({range:r,qt:!0},(h,y,w)=>{const T=Ql(h[1]),R=new rt(T);l=l.add(R)}).next(()=>l)}containsKey(e,t){const r=Go(t.path),a=IDBKeyRange.bound([r],[w0(r)],!1,!0);let l=0;return Uu(e).Kt({index:Ti.documentTargetsIndex,qt:!0,range:a},([h,y],w,T)=>{0!==h&&(l++,T.done())}).next(()=>l>0)}Tt(e,t){return Zf(e).get(t).next(r=>r?om(r):null)}}function Zf(n){return Yi(n,ms.store)}function X0(n){return Yi(n,Zi.store)}function Uu(n){return Yi(n,Ti.store)}function zd(n){return ew.apply(this,arguments)}function ew(){return ew=(0,_e.Z)(function*(n){if(n.code!==pe.FAILED_PRECONDITION||n.message!==sT)throw n;Ue("LocalStore","Unexpectedly lost primary lease")}),ew.apply(this,arguments)}function tw([n,e],[t,r]){const a=Wt(n,t);return 0===a?Wt(e,r):a}class iR{constructor(e){this.ue=e,this.buffer=new Qn(tw),this.he=0}le(){return++this.he}fe(e){const t=[e,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();tw(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class _T{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.de=!1,this.we=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(e)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(e){var t=this;const r=this.de?3e5:6e4;Ue("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,_e.Z)(function*(){t.we=null,t.de=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(a){tc(a)?Ue("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",a):yield zd(a)}yield t._e(e)}))}}class vT{constructor(e,t){this.me=e,this.params=t}calculateTargetCount(e,t){return this.me.ge(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return Ne.resolve(Xt.T);const r=new iR(t);return this.me.forEachTarget(e,a=>r.fe(a.sequenceNumber)).next(()=>this.me.ye(e,a=>r.fe(a))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.me.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.me.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ue("LruGarbageCollector","Garbage collection skipped; disabled"),Ne.resolve(Y0)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Y0):this.pe(e,t))}getCacheSize(e){return this.me.getCacheSize(e)}pe(e,t){let r,a,l,h,y,w,T;const R=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(Ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),a=this.params.maximumSequenceNumbersToCollect):a=x,h=Date.now(),this.nthSequenceNumber(e,a))).next(x=>(r=x,y=Date.now(),this.removeTargets(e,r,t))).next(x=>(l=x,w=Date.now(),this.removeOrphanedDocuments(e,r))).next(x=>(T=Date.now(),$g()<=Da.in.DEBUG&&Ue("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${h-R}ms\n\tDetermined least recently used ${a} in `+(y-h)+`ms\n\tRemoved ${l} targets in `+(w-y)+`ms\n\tRemoved ${x} documents in `+(T-w)+`ms\nTotal Duration: ${T-R}ms`),Ne.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:x})))}}class ET{constructor(e,t){this.db=e,this.garbageCollector=new vT(this,t)}ge(e){const t=this.Te(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(a=>r+a))}Te(e){let t=0;return this.ye(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}ye(e,t){return this.Ee(e,(r,a)=>t(a))}addReference(e,t,r){return cm(e,r)}removeReference(e,t,r){return cm(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return cm(e,t)}Ie(e,t){return function(r,a){let l=!1;return J0(r).jt(h=>z_(r,h,a).next(y=>(y&&(l=!0),Ne.resolve(!y)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let l=0;return this.Ee(e,(h,y)=>{if(y<=t){const w=this.Ie(e,h).next(T=>{if(!T)return l++,r.getEntry(e,h).next(()=>(r.removeEntry(h),Uu(e).delete([0,Go(h.path)])))});a.push(w)}}).next(()=>Ne.waitFor(a)).next(()=>r.apply(e)).next(()=>l)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return cm(e,t)}Ee(e,t){const r=Uu(e);let a,l=Xt.T;return r.Kt({index:Ti.documentTargetsIndex},([h,y],{path:w,sequenceNumber:T})=>{0===h?(l!==Xt.T&&t(new rt(Ql(a)),l),l=T,a=w):l=Xt.T}).next(()=>{l!==Xt.T&&t(new rt(Ql(a)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function cm(n,e){return Uu(n).put((r=n.currentSequenceNumber,new Ti(0,Go(e.path),r)));var r}class Yf{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[a,l]of r)if(this.equalsFn(a,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(void 0!==a){for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t])}else this.inner[r]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return 1===r.length?delete this.inner[t]:r.splice(a,1),!0;return!1}forEach(e){Fd(this.inner,(t,r)=>{for(const[a,l]of r)e(a,l)})}isEmpty(){return Tb(this.inner)}}class wT{constructor(){this.changes=new Yf(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:xt.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:jn.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?Ne.resolve(r.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class sR{constructor(e,t){this.N=e,this.Ht=t}addEntry(e,t,r){return Wd(e).put(nw(t),r)}removeEntry(e,t){const r=Wd(e),a=nw(t);return r.delete(a)}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Ae(e,r)))}getEntry(e,t){return Wd(e).get(nw(t)).next(r=>this.Re(t,r))}be(e,t){return Wd(e).get(nw(t)).next(r=>({document:this.Re(t,r),size:q_(r)}))}getEntries(e,t){let r=so();return this.Pe(e,t,(a,l)=>{const h=this.Re(a,l);r=r.insert(a,h)}).next(()=>r)}ve(e,t){let r=so(),a=new sr(rt.comparator);return this.Pe(e,t,(l,h)=>{const y=this.Re(l,h);r=r.insert(l,y),a=a.insert(l,q_(h))}).next(()=>({documents:r,Ve:a}))}Pe(e,t,r){if(t.isEmpty())return Ne.resolve();const a=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),l=t.getIterator();let h=l.getNext();return Wd(e).Kt({range:a},(y,w,T)=>{const R=rt.fromSegments(y);for(;h&&rt.comparator(h,R)<0;)r(h,null),h=l.getNext();h&&h.isEqual(R)&&(r(h,w),h=l.hasNext()?l.getNext():null),h?T.Mt(h.path.toArray()):T.done()}).next(()=>{for(;h;)r(h,null),h=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(e,t,r){let a=so();const l=t.path.length+1,h={};if(r.isEqual(xt.min())){const y=t.path.toArray();h.range=IDBKeyRange.lowerBound(y)}else{const y=t.path.toArray(),w=Gd(r);h.range=IDBKeyRange.lowerBound([y,w],!0),h.index=Jn.collectionReadTimeIndex}return Wd(e).Kt(h,(y,w,T)=>{if(y.length!==l)return;const R=W0(this.N,w);t.path.isPrefixOf(R.key.path)?Zg(t,R)&&(a=a.insert(R.key,R)):T.done()}).next(()=>a)}newChangeBuffer(e){return new CT(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return oR(e).get(Pa.key).next(t=>(Ct(!!t),t))}Ae(e,t){return oR(e).put(Pa.key,t)}Re(e,t){if(t){const r=W0(this.N,t);if(!r.isNoDocument()||!r.version.isEqual(xt.min()))return r}return jn.newInvalidDocument(e)}}class CT extends wT{constructor(e,t){super(),this.Se=e,this.trackRemovals=t,this.De=new Yf(r=>r.toString(),(r,a)=>r.isEqual(a))}applyChanges(e){const t=[];let r=0,a=new Qn((l,h)=>Wt(l.canonicalString(),h.canonicalString()));return this.changes.forEach((l,h)=>{const y=this.De.get(l);if(h.document.isValidDocument()){const w=rR(this.Se.N,h.document,this.getReadTime(l));a=a.add(l.path.popLast()),r+=q_(w)-y,t.push(this.Se.addEntry(e,l,w))}else if(r-=y,this.trackRemovals){const w=rR(this.Se.N,jn.newNoDocument(l,xt.min()),this.getReadTime(l));t.push(this.Se.addEntry(e,l,w))}else t.push(this.Se.removeEntry(e,l))}),a.forEach(l=>{t.push(this.Se.Ht.addToCollectionParentIndex(e,l))}),t.push(this.Se.updateMetadata(e,r)),Ne.waitFor(t)}getFromCache(e,t){return this.Se.be(e,t).next(r=>(this.De.set(t,r.size),r.document))}getAllFromCache(e,t){return this.Se.ve(e,t).next(({documents:r,Ve:a})=>(a.forEach((l,h)=>{this.De.set(l,h)}),r))}}function oR(n){return Yi(n,Pa.store)}function Wd(n){return Yi(n,Jn.store)}function nw(n){return n.path.toArray()}class VM{constructor(e){this.N=e}Ct(e,t,r,a){Ct(r<a&&r>=0&&a<=11);const l=new im("createOrUpgrade",t);var y;r<1&&a>=1&&(e.createObjectStore(bi.store),(y=e).createObjectStore(Jl.store,{keyPath:Jl.keyPath}),y.createObjectStore(Mn.store,{keyPath:Mn.keyPath,autoIncrement:!0}).createIndex(Mn.userMutationsIndex,Mn.userMutationsKeyPath,{unique:!0}),y.createObjectStore(ai.store),aR(e),function(y){y.createObjectStore(Jn.store)}(e));let h=Ne.resolve();return r<3&&a>=3&&(0!==r&&(function(y){y.deleteObjectStore(Ti.store),y.deleteObjectStore(ms.store),y.deleteObjectStore(Zi.store)}(e),aR(e)),h=h.next(()=>function(y){const w=y.store(Zi.store),T=new Zi(0,0,xt.min().toTimestamp(),0);return w.put(Zi.key,T)}(l))),r<4&&a>=4&&(0!==r&&(h=h.next(()=>function(y,w){return w.store(Mn.store).Lt().next(T=>{y.deleteObjectStore(Mn.store),y.createObjectStore(Mn.store,{keyPath:Mn.keyPath,autoIncrement:!0}).createIndex(Mn.userMutationsIndex,Mn.userMutationsKeyPath,{unique:!0});const R=w.store(Mn.store),x=T.map(B=>R.put(B));return Ne.waitFor(x)})}(e,l))),h=h.next(()=>{!function(y){y.createObjectStore(ka.store,{keyPath:ka.keyPath})}(e)})),r<5&&a>=5&&(h=h.next(()=>this.Ce(l))),r<6&&a>=6&&(h=h.next(()=>(function(y){y.createObjectStore(Pa.store)}(e),this.Ne(l)))),r<7&&a>=7&&(h=h.next(()=>this.xe(l))),r<8&&a>=8&&(h=h.next(()=>this.ke(e,l))),r<9&&a>=9&&(h=h.next(()=>{(function(y){y.objectStoreNames.contains("remoteDocumentChanges")&&y.deleteObjectStore("remoteDocumentChanges")})(e),function(y){const w=y.objectStore(Jn.store);w.createIndex(Jn.readTimeIndex,Jn.readTimeIndexPath,{unique:!1}),w.createIndex(Jn.collectionReadTimeIndex,Jn.collectionReadTimeIndexPath,{unique:!1})}(t)})),r<10&&a>=10&&(h=h.next(()=>this.$e(l))),r<11&&a>=11&&(h=h.next(()=>{(function(y){y.createObjectStore(Xl.store,{keyPath:Xl.keyPath})})(e),function(y){y.createObjectStore(ec.store,{keyPath:ec.keyPath})}(e)})),h}Ne(e){let t=0;return e.store(Jn.store).Kt((r,a)=>{t+=q_(a)}).next(()=>{const r=new Pa(t);return e.store(Pa.store).put(Pa.key,r)})}Ce(e){const t=e.store(Jl.store),r=e.store(Mn.store);return t.Lt().next(a=>Ne.forEach(a,l=>{const h=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return r.Lt(Mn.userMutationsIndex,h).next(y=>Ne.forEach(y,w=>{Ct(w.userId===l.userId);const T=qd(this.N,w);return Q0(e,l.userId,T).next(()=>{})}))}))}xe(e){const t=e.store(Ti.store),r=e.store(Jn.store);return e.store(Zi.store).get(Zi.key).next(a=>{const l=[];return r.Kt((h,y)=>{const w=new Yt(h),T=[0,Go(w)];l.push(t.get(T).next(R=>R?Ne.resolve():t.put(new Ti(0,Go(w),a.highestListenSequenceNumber))))}).next(()=>Ne.waitFor(l))})}ke(e,t){e.createObjectStore(Vu.store,{keyPath:Vu.keyPath});const r=t.store(Vu.store),a=new pT,l=h=>{if(a.add(h)){const y=h.lastSegment(),w=h.popLast();return r.put({collectionId:y,parent:Go(w)})}};return t.store(Jn.store).Kt({qt:!0},(h,y)=>{const w=new Yt(h);return l(w.popLast())}).next(()=>t.store(ai.store).Kt({qt:!0},([h,y,w],T)=>{const R=Ql(y);return l(R.popLast())}))}$e(e){const t=e.store(ms.store);return t.Kt((r,a)=>{const l=om(a),h=hT(this.N,l);return t.put(h)})}}function aR(n){n.createObjectStore(Ti.store,{keyPath:Ti.keyPath}).createIndex(Ti.documentTargetsIndex,Ti.documentTargetsKeyPath,{unique:!0}),n.createObjectStore(ms.store,{keyPath:ms.keyPath}).createIndex(ms.queryTargetsIndexName,ms.queryTargetsKeyPath,{unique:!0}),n.createObjectStore(Zi.store)}const IT="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class bT{constructor(e,t,r,a,l,h,y,w,T,R){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Oe=l,this.window=h,this.document=y,this.Fe=T,this.Me=R,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=x=>Promise.resolve(),!bT.bt())throw new re(pe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ET(this,a),this.We=t+"main",this.N=new cT(w),this.Ge=new Ns(this.We,11,new VM(this.N)),this.ze=new yT(this.referenceDelegate,this.N),this.Ht=new gT,this.He=new sR(this.N,this.Ht),this.Je=new fT,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===R&&_r("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new re(pe.FAILED_PRECONDITION,IT);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ze.getHighestSequenceNumber(e))}).then(e=>{this.Le=new Xt(e,this.Fe)}).then(()=>{this.Be=!0}).catch(e=>(this.Ge&&this.Ge.close(),Promise.reject(e)))}nn(e){var t=this;return this.Qe=function(){var r=(0,_e.Z)(function*(a){if(t.started)return e(a)});return function(a){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ge.xt(function(){var t=(0,_e.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Oe.enqueueAndForget((0,_e.Z)(function*(){t.started&&(yield t.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>W_(e).put(new ka(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(e).next(t=>{t||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(e)).next(t=>this.isPrimary&&!t?this.on(e).next(()=>!1):!!t&&this.cn(e).next(()=>!0))).catch(e=>{if(tc(e))return Ue("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ue("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Oe.enqueueRetryable(()=>this.Qe(e)),this.isPrimary=e})}sn(e){return dm(e).get(bi.key).next(t=>Ne.resolve(this.an(t)))}un(e){return W_(e).delete(this.clientId)}hn(){var e=this;return(0,_e.Z)(function*(){if(e.isPrimary&&!e.ln(e.je,18e5)){e.je=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const a=Yi(r,ka.store);return a.Lt().next(l=>{const h=e.fn(l,18e5),y=l.filter(w=>-1===h.indexOf(w));return Ne.forEach(y,w=>a.delete(w.clientId)).next(()=>y)})}).catch(()=>[]);if(e.Ye)for(const r of t)e.Ye.removeItem(e.dn(r.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}an(e){return!!e&&e.ownerId===this.clientId}rn(e){return this.Me?Ne.resolve(!0):dm(e).get(bi.key).next(t=>{if(null!==t&&this.ln(t.leaseTimestampMs,5e3)&&!this.wn(t.ownerId)){if(this.an(t)&&this.networkEnabled)return!0;if(!this.an(t)){if(!t.allowTabSynchronization)throw new re(pe.FAILED_PRECONDITION,IT);return!1}}return!(!this.networkEnabled||!this.inForeground)||W_(e).Lt().next(r=>void 0===this.fn(r,5e3).find(a=>{if(this.clientId!==a.clientId){const h=!this.inForeground&&a.inForeground,y=this.networkEnabled===a.networkEnabled;if(!this.networkEnabled&&a.networkEnabled||h&&y)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Ue("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,_e.Z)(function*(){e.Be=!1,e._n(),e.Ke&&(e.Ke.cancel(),e.Ke=null),e.mn(),e.gn(),yield e.Ge.runTransaction("shutdown","readwrite",[bi.store,ka.store],t=>{const r=new lT(t,Xt.T);return e.on(r).next(()=>e.un(r))}),e.Ge.close(),e.yn()})()}fn(e,t){return e.filter(r=>this.ln(r.updateTimeMs,t)&&!this.wn(r.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",e=>W_(e).Lt().next(t=>this.fn(t,18e5).map(r=>r.clientId)))}get started(){return this.Be}getMutationQueue(e){return lm.Yt(e,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(e,t,r){let l;return Ue("IndexedDbPersistence","Starting transaction:",e),this.Ge.runTransaction(e,"readonly"===t?"readonly":"readwrite",nR,h=>(l=new lT(h,this.Le?this.Le.next():Xt.T),"readwrite-primary"===t?this.sn(l).next(y=>!!y||this.rn(l)).next(y=>{if(!y)throw _r(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new re(pe.FAILED_PRECONDITION,sT);return r(l)}).next(y=>this.cn(l).next(()=>y)):this.Tn(l).next(()=>r(l)))).then(h=>(l.raiseOnCommittedEvent(),h))}Tn(e){return dm(e).get(bi.key).next(t=>{if(null!==t&&this.ln(t.leaseTimestampMs,5e3)&&!this.wn(t.ownerId)&&!this.an(t)&&!(this.Me||this.allowTabSynchronization&&t.allowTabSynchronization))throw new re(pe.FAILED_PRECONDITION,IT)})}cn(e){const t=new bi(this.clientId,this.allowTabSynchronization,Date.now());return dm(e).put(bi.key,t)}static bt(){return Ns.bt()}on(e){const t=dm(e);return t.get(bi.key).next(r=>this.an(r)?(Ue("IndexedDbPersistence","Releasing primary lease."),t.delete(bi.key)):Ne.resolve())}ln(e,t){const r=Date.now();return!(e<r-t||e>r&&(_r(`Detected an update time that is in the future: ${e} > ${r}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Ue=()=>{this._n(),(0,Gt.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(e){var t;try{const r=null!==(null===(t=this.Ye)||void 0===t?void 0:t.getItem(this.dn(e)));return Ue("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return _r("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(e){_r("Failed to set zombie client id.",e)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(e){}}dn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function dm(n){return Yi(n,bi.store)}function W_(n){return Yi(n,ka.store)}function rw(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class UM{constructor(e,t){this.progress=e,this.En=t}}class uR{constructor(e,t,r){this.He=e,this.In=t,this.Ht=r}An(e,t){return this.In.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Rn(e,t,r))}Rn(e,t,r){return this.He.getEntry(e,t).next(a=>{for(const l of r)l.applyToLocalView(a);return a})}bn(e,t){e.forEach((r,a)=>{for(const l of t)l.applyToLocalView(a)})}Pn(e,t){return this.He.getEntries(e,t).next(r=>this.vn(e,r).next(()=>r))}vn(e,t){return this.In.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.bn(t,r))}getDocumentsMatchingQuery(e,t,r){return rt.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.Vn(e,t.path):R0(t)?this.Sn(e,t,r):this.Dn(e,t,r);var a}Vn(e,t){return this.An(e,new rt(t)).next(r=>{let a=Qg();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}Sn(e,t,r){const a=t.collectionGroup;let l=Qg();return this.Ht.getCollectionParents(e,a).next(h=>Ne.forEach(h,y=>{const w=(T=t,R=y.child(a),new Na(R,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt));var T,R;return this.Dn(e,w,r).next(T=>{T.forEach((R,x)=>{l=l.insert(R,x)})})}).next(()=>l))}Dn(e,t,r){let a,l;return this.He.getDocumentsMatchingQuery(e,t,r).next(h=>(a=h,this.In.getAllMutationBatchesAffectingQuery(e,t))).next(h=>(l=h,this.Cn(e,l,a).next(y=>{a=y;for(const w of l)for(const T of w.mutations){const R=T.key;let x=a.get(R);null==x&&(x=jn.newInvalidDocument(R),a=a.insert(R,x)),Hb(T,x,w.localWriteTime),x.isFoundDocument()||(a=a.remove(R))}}))).next(()=>(a.forEach((h,y)=>{Zg(t,y)||(a=a.remove(h))}),a))}Cn(e,t,r){let a=_n();for(const h of t)for(const y of h.mutations)y instanceof $o&&null===r.get(y.key)&&(a=a.add(y.key));let l=r;return this.He.getEntries(e,a).next(h=>(h.forEach((y,w)=>{w.isFoundDocument()&&(l=l.insert(y,w))}),l))}}class TT{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.Nn=r,this.xn=a}static kn(e,t){let r=_n(),a=_n();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new TT(e,t.fromCache,r,a)}}class DT{$n(e){this.On=e}getDocumentsMatchingQuery(e,t,r,a){return 0===(l=t).filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())||r.isEqual(xt.min())?this.Fn(e,t):this.On.Pn(e,a).next(l=>{const h=this.Mn(t,l);return(R_(t)||N_(t))&&this.Ln(t.limitType,h,a,r)?this.Fn(e,t):($g()<=Da.in.DEBUG&&Ue("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),M_(t)),this.On.getDocumentsMatchingQuery(e,t,r).next(y=>(h.forEach(w=>{y=y.insert(w.key,w)}),y)))});var l}Mn(e,t){let r=new Qn(Bb(e));return t.forEach((a,l)=>{Zg(e,l)&&(r=r.add(l))}),r}Ln(e,t,r,a){if(r.size!==t.size)return!0;const l="F"===e?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Fn(e,t){return $g()<=Da.in.DEBUG&&Ue("QueryEngine","Using full collection scan to execute query:",M_(t)),this.On.getDocumentsMatchingQuery(e,t,xt.min())}}class lR{constructor(e,t,r,a){this.persistence=e,this.Bn=t,this.N=a,this.Un=new sr(Wt),this.qn=new Yf(l=>Ff(l),D_),this.Kn=xt.min(),this.In=e.getMutationQueue(r),this.jn=e.getRemoteDocumentCache(),this.ze=e.getTargetCache(),this.Qn=new uR(this.jn,this.In,this.persistence.getIndexManager()),this.Je=e.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Un))}}function AT(n,e,t,r){return new lR(n,e,t,r)}function cR(n,e){return ST.apply(this,arguments)}function ST(){return ST=(0,_e.Z)(function*(n,e){const t=He(n);let r=t.In,a=t.Qn;const l=yield t.persistence.runTransaction("Handle user change","readonly",h=>{let y;return t.In.getAllMutationBatches(h).next(w=>(y=w,r=t.persistence.getMutationQueue(e),a=new uR(t.jn,r,t.persistence.getIndexManager()),r.getAllMutationBatches(h))).next(w=>{const T=[],R=[];let x=_n();for(const B of y){T.push(B.batchId);for(const q of B.mutations)x=x.add(q.key)}for(const B of w){R.push(B.batchId);for(const q of B.mutations)x=x.add(q.key)}return a.Pn(h,x).next(B=>({Wn:B,removedBatchIds:T,addedBatchIds:R}))})});return t.In=r,t.Qn=a,t.Bn.$n(t.Qn),l}),ST.apply(this,arguments)}function dR(n,e){const t=He(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=e.batch.keys(),l=t.jn.newChangeBuffer({trackRemovals:!0});return function(h,y,w,T){const R=w.batch,x=R.keys();let B=Ne.resolve();return x.forEach(q=>{B=B.next(()=>T.getEntry(y,q)).next(X=>{const Ee=w.docVersions.get(q);Ct(null!==Ee),X.version.compareTo(Ee)<0&&(R.applyToRemoteDocument(X,w),X.isValidDocument()&&T.addEntry(X,w.commitVersion))})}),B.next(()=>h.In.removeMutationBatch(y,R))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.In.performConsistencyCheck(r)).next(()=>t.Qn.Pn(r,a))})}function hR(n){const e=He(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ze.getLastRemoteSnapshotVersion(t))}function fR(n,e){const t=He(n),r=e.snapshotVersion;let a=t.Un;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=t.jn.newChangeBuffer({trackRemovals:!0});a=t.Un;const y=[];e.targetChanges.forEach((T,R)=>{const x=a.get(R);if(!x)return;y.push(t.ze.removeMatchingKeys(l,T.removedDocuments,R).next(()=>t.ze.addMatchingKeys(l,T.addedDocuments,R)));const B=T.resumeToken;if(B.approximateByteSize()>0){const q=x.withResumeToken(B,r).withSequenceNumber(l.currentSequenceNumber);a=a.insert(R,q),X=x,xe=T,Ct((Ee=q).resumeToken.approximateByteSize()>0),(0===X.resumeToken.approximateByteSize()||Ee.snapshotVersion.toMicroseconds()-X.snapshotVersion.toMicroseconds()>=3e8||xe.addedDocuments.size+xe.modifiedDocuments.size+xe.removedDocuments.size>0)&&y.push(t.ze.updateTargetData(l,q))}var X,Ee,xe});let w=so();if(e.documentUpdates.forEach((T,R)=>{e.resolvedLimboDocuments.has(T)&&y.push(t.persistence.referenceDelegate.updateLimboDocument(l,T))}),y.push(pR(l,h,e.documentUpdates,r,void 0).next(T=>{w=T})),!r.isEqual(xt.min())){const T=t.ze.getLastRemoteSnapshotVersion(l).next(R=>t.ze.setTargetsMetadata(l,l.currentSequenceNumber,r));y.push(T)}return Ne.waitFor(y).next(()=>h.apply(l)).next(()=>t.Qn.vn(l,w)).next(()=>w)}).then(l=>(t.Un=a,l))}function pR(n,e,t,r,a){let l=_n();return t.forEach(h=>l=l.add(h)),e.getEntries(n,l).next(h=>{let y=so();return t.forEach((w,T)=>{const R=h.get(w),x=(null==a?void 0:a.get(w))||r;T.isNoDocument()&&T.version.isEqual(xt.min())?(e.removeEntry(w,x),y=y.insert(w,T)):!R.isValidDocument()||T.version.compareTo(R.version)>0||0===T.version.compareTo(R.version)&&R.hasPendingWrites?(e.addEntry(T,x),y=y.insert(w,T)):Ue("LocalStore","Ignoring outdated watch update for ",w,". Current version:",R.version," Watch version:",T.version)}),y})}function iw(n,e){const t=He(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.In.getNextMutationBatchAfterBatchId(r,e)))}function qo(n,e){const t=He(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return t.ze.getTargetData(r,e).next(l=>l?(a=l,Ne.resolve(a)):t.ze.allocateTargetId(r).next(h=>(a=new Ms(e,h,0,r.currentSequenceNumber),t.ze.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=t.Un.get(r.targetId);return(null===a||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Un=t.Un.insert(r.targetId,r),t.qn.set(e,r.targetId)),r})}function Kd(n,e,t){return sw.apply(this,arguments)}function sw(){return sw=(0,_e.Z)(function*(n,e,t){const r=He(n),a=r.Un.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",l,h=>r.persistence.referenceDelegate.removeTarget(h,a)))}catch(h){if(!tc(h))throw h;Ue("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}r.Un=r.Un.remove(e),r.qn.delete(a.target)}),sw.apply(this,arguments)}function K_(n,e,t){const r=He(n);let a=xt.min(),l=_n();return r.persistence.runTransaction("Execute query","readonly",h=>function(y,w,T){const R=He(y),x=R.qn.get(T);return void 0!==x?Ne.resolve(R.Un.get(x)):R.ze.getTargetData(w,T)}(r,h,Rs(e)).next(y=>{if(y)return a=y.lastLimboFreeSnapshotVersion,r.ze.getMatchingKeysForTargetId(h,y.targetId).next(w=>{l=w})}).next(()=>r.Bn.getDocumentsMatchingQuery(h,e,t?a:xt.min(),t?l:_n())).next(y=>({documents:y,Gn:l})))}function Z_(n,e){const t=He(n),r=He(t.ze),a=t.Un.get(e);return a?Promise.resolve(a.target):t.persistence.runTransaction("Get target data","readonly",l=>r.Tt(l,e).next(h=>h?h.target:null))}function ow(n){const e=He(n);return e.persistence.runTransaction("Get new document changes","readonly",t=>function(r,a,l){const h=He(r);let y=so(),w=Gd(l);const T=Wd(a),R=IDBKeyRange.lowerBound(w,!0);return T.Kt({index:Jn.readTimeIndex,range:R},(x,B)=>{const q=W0(h.N,B);y=y.insert(q.key,q),w=B.readTime}).next(()=>({En:y,readTime:dT(w)}))}(e.jn,t,e.Kn)).then(({En:t,readTime:r})=>(e.Kn=r,t))}function Y_(){return Y_=(0,_e.Z)(function*(n){const e=He(n);return e.persistence.runTransaction("Synchronize last document change read time","readonly",t=>function(r){const a=Wd(r);let l=xt.min();return a.Kt({index:Jn.readTimeIndex,reverse:!0},(h,y,w)=>{y.readTime&&(l=dT(y.readTime)),w.done()}).next(()=>l)}(t)).then(t=>{e.Kn=t})}),Y_.apply(this,arguments)}function Q_(){return Q_=(0,_e.Z)(function*(n,e,t,r){const a=He(n);let l=_n(),h=so(),y=GS();for(const R of t){const x=e.zn(R.metadata.name);R.document&&(l=l.add(x)),h=h.insert(x,e.Hn(R)),y=y.insert(x,e.Jn(R.metadata.readTime))}const w=a.jn.newChangeBuffer({trackRemovals:!0}),T=yield qo(a,(R=r,Rs(Uf(Yt.fromString(`__bundle__/docs/${R}`)))));var R;return a.persistence.runTransaction("Apply bundle documents","readwrite",R=>pR(R,w,h,xt.min(),y).next(x=>(w.apply(R),x)).next(x=>a.ze.removeMatchingKeysForTargetId(R,T.targetId).next(()=>a.ze.addMatchingKeys(R,l,T.targetId)).next(()=>a.Qn.vn(R,x)).next(()=>x)))}),Q_.apply(this,arguments)}function J_(n,e){return X_.apply(this,arguments)}function X_(){return X_=(0,_e.Z)(function*(n,e,t=_n()){const r=yield qo(n,Rs(am(e.bundledQuery))),a=He(n);return a.persistence.runTransaction("Save named query","readwrite",l=>{const h=Gr(e.readTime);if(r.snapshotVersion.compareTo(h)>=0)return a.Je.saveNamedQuery(l,e);const y=r.withResumeToken(Rr.EMPTY_BYTE_STRING,h);return a.Un=a.Un.insert(y.targetId,y),a.ze.updateTargetData(l,y).next(()=>a.ze.removeMatchingKeysForTargetId(l,r.targetId)).next(()=>a.ze.addMatchingKeys(l,t,r.targetId)).next(()=>a.Je.saveNamedQuery(l,e))})}),X_.apply(this,arguments)}class jM{constructor(e){this.N=e,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(e,t){return Ne.resolve(this.Yn.get(t))}saveBundleMetadata(e,t){var r;return this.Yn.set(t.id,{id:(r=t).id,version:r.version,createTime:Gr(r.createTime)}),Ne.resolve()}getNamedQuery(e,t){return Ne.resolve(this.Xn.get(t))}saveNamedQuery(e,t){return this.Xn.set(t.name,{name:(r=t).name,query:am(r.bundledQuery),readTime:Gr(r.readTime)}),Ne.resolve();var r}}class NT{constructor(){this.Zn=new Qn(ci.ts),this.es=new Qn(ci.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const r=new ci(e,t);this.Zn=this.Zn.add(r),this.es=this.es.add(r)}ss(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.rs(new ci(e,t))}os(e,t){e.forEach(r=>this.removeReference(r,t))}cs(e){const t=new rt(new Yt([])),r=new ci(t,e),a=new ci(t,e+1),l=[];return this.es.forEachInRange([r,a],h=>{this.rs(h),l.push(h.key)}),l}us(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new rt(new Yt([])),r=new ci(t,e),a=new ci(t,e+1);let l=_n();return this.es.forEachInRange([r,a],h=>{l=l.add(h.key)}),l}containsKey(e){const t=new ci(e,0),r=this.Zn.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class ci{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return rt.comparator(e.key,t.key)||Wt(e.ls,t.ls)}static ns(e,t){return Wt(e.ls,t.ls)||rt.comparator(e.key,t.key)}}class gR{constructor(e,t){this.Ht=e,this.referenceDelegate=t,this.In=[],this.fs=1,this.ds=new Qn(ci.ts)}checkEmpty(e){return Ne.resolve(0===this.In.length)}addMutationBatch(e,t,r,a){const l=this.fs;this.fs++;const h=new z0(l,t,r,a);this.In.push(h);for(const y of a)this.ds=this.ds.add(new ci(y.key,l)),this.Ht.addToCollectionParentIndex(e,y.key.path.popLast());return Ne.resolve(h)}lookupMutationBatch(e,t){return Ne.resolve(this.ws(t))}getNextMutationBatchAfterBatchId(e,t){const a=this._s(t+1),l=a<0?0:a;return Ne.resolve(this.In.length>l?this.In[l]:null)}getHighestUnacknowledgedBatchId(){return Ne.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(e){return Ne.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new ci(t,0),a=new ci(t,Number.POSITIVE_INFINITY),l=[];return this.ds.forEachInRange([r,a],h=>{const y=this.ws(h.ls);l.push(y)}),Ne.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Qn(Wt);return t.forEach(a=>{const l=new ci(a,0),h=new ci(a,Number.POSITIVE_INFINITY);this.ds.forEachInRange([l,h],y=>{r=r.add(y.ls)})}),Ne.resolve(this.gs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let l=r;rt.isDocumentKey(l)||(l=l.child(""));const h=new ci(new rt(l),0);let y=new Qn(Wt);return this.ds.forEachWhile(w=>{const T=w.key.path;return!!r.isPrefixOf(T)&&(T.length===a&&(y=y.add(w.ls)),!0)},h),Ne.resolve(this.gs(y))}gs(e){const t=[];return e.forEach(r=>{const a=this.ws(r);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){Ct(0===this.ys(t.batchId,"removed")),this.In.shift();let r=this.ds;return Ne.forEach(t.mutations,a=>{const l=new ci(a.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.ds=r})}te(e){}containsKey(e,t){const r=new ci(t,0),a=this.ds.firstAfterOrEqual(r);return Ne.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return Ne.resolve()}ys(e,t){return this._s(e)}_s(e){return 0===this.In.length?0:e-this.In[0].batchId}ws(e){const t=this._s(e);return t<0||t>=this.In.length?null:this.In[t]}}class $M{constructor(e,t){this.Ht=e,this.ps=t,this.docs=new sr(rt.comparator),this.size=0}addEntry(e,t,r){const a=t.key,l=this.docs.get(a),h=l?l.size:0,y=this.ps(t);return this.docs=this.docs.insert(a,{document:t.clone(),size:y,readTime:r}),this.size+=y-h,this.Ht.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Ne.resolve(r?r.document.clone():jn.newInvalidDocument(t))}getEntries(e,t){let r=so();return t.forEach(a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.clone():jn.newInvalidDocument(a))}),Ne.resolve(r)}getDocumentsMatchingQuery(e,t,r){let a=so();const l=new rt(t.path.child("")),h=this.docs.getIteratorFrom(l);for(;h.hasNext();){const{key:y,value:{document:w,readTime:T}}=h.getNext();if(!t.path.isPrefixOf(y.path))break;T.compareTo(r)<=0||Zg(t,w)&&(a=a.insert(w.key,w.clone()))}return Ne.resolve(a)}Ts(e,t){return Ne.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new MT(this)}getSize(e){return Ne.resolve(this.size)}}class MT extends wT{constructor(e){super(),this.Se=e}applyChanges(e){const t=[];return this.changes.forEach((r,a)=>{a.document.isValidDocument()?t.push(this.Se.addEntry(e,a.document,this.getReadTime(r))):this.Se.removeEntry(r)}),Ne.waitFor(t)}getFromCache(e,t){return this.Se.getEntry(e,t)}getAllFromCache(e,t){return this.Se.getEntries(e,t)}}class mR{constructor(e){this.persistence=e,this.Es=new Yf(t=>Ff(t),D_),this.lastRemoteSnapshotVersion=xt.min(),this.highestTargetId=0,this.Is=0,this.As=new NT,this.targetCount=0,this.Rs=ic.se()}forEachTarget(e,t){return this.Es.forEach((r,a)=>t(a)),Ne.resolve()}getLastRemoteSnapshotVersion(e){return Ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ne.resolve(this.Is)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),Ne.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Is&&(this.Is=t),Ne.resolve()}ce(e){this.Es.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new ic(t),this.highestTargetId=t),e.sequenceNumber>this.Is&&(this.Is=e.sequenceNumber)}addTargetData(e,t){return this.ce(t),this.targetCount+=1,Ne.resolve()}updateTargetData(e,t){return this.ce(t),Ne.resolve()}removeTargetData(e,t){return this.Es.delete(t.target),this.As.cs(t.targetId),this.targetCount-=1,Ne.resolve()}removeTargets(e,t,r){let a=0;const l=[];return this.Es.forEach((h,y)=>{y.sequenceNumber<=t&&null===r.get(y.targetId)&&(this.Es.delete(h),l.push(this.removeMatchingKeysForTargetId(e,y.targetId)),a++)}),Ne.waitFor(l).next(()=>a)}getTargetCount(e){return Ne.resolve(this.targetCount)}getTargetData(e,t){const r=this.Es.get(t)||null;return Ne.resolve(r)}addMatchingKeys(e,t,r){return this.As.ss(t,r),Ne.resolve()}removeMatchingKeys(e,t,r){this.As.os(t,r);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(h=>{l.push(a.markPotentiallyOrphaned(e,h))}),Ne.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.As.cs(t),Ne.resolve()}getMatchingKeysForTargetId(e,t){const r=this.As.hs(t);return Ne.resolve(r)}containsKey(e,t){return Ne.resolve(this.As.containsKey(t))}}class HM{constructor(e,t){this.bs={},this.Le=new Xt(0),this.Be=!1,this.Be=!0,this.referenceDelegate=e(this),this.ze=new mR(this),this.Ht=new Z0,this.He=new $M(this.Ht,r=>this.referenceDelegate.Ps(r)),this.N=new cT(t),this.Je=new jM(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(e){let t=this.bs[e.toKey()];return t||(t=new gR(this.Ht,this.referenceDelegate),this.bs[e.toKey()]=t),t}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(e,t,r){Ue("MemoryPersistence","Starting transaction:",e);const a=new GM(this.Le.next());return this.referenceDelegate.vs(),r(a).next(l=>this.referenceDelegate.Vs(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ss(e,t){return Ne.or(Object.values(this.bs).map(r=>()=>r.containsKey(e,t)))}}class GM extends oT{constructor(e){super(),this.currentSequenceNumber=e}}class hm{constructor(e){this.persistence=e,this.Ds=new NT,this.Cs=null}static Ns(e){return new hm(e)}get xs(){if(this.Cs)return this.Cs;throw st()}addReference(e,t,r){return this.Ds.addReference(r,t),this.xs.delete(r.toString()),Ne.resolve()}removeReference(e,t,r){return this.Ds.removeReference(r,t),this.xs.add(r.toString()),Ne.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),Ne.resolve()}removeTarget(e,t){this.Ds.cs(t.targetId).forEach(a=>this.xs.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.xs.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}vs(){this.Cs=new Set}Vs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ne.forEach(this.xs,r=>{const a=rt.fromPath(r);return this.ks(e,a).next(l=>{l||t.removeEntry(a)})}).next(()=>(this.Cs=null,t.apply(e)))}updateLimboDocument(e,t){return this.ks(e,t).next(r=>{r?this.xs.delete(t.toString()):this.xs.add(t.toString())})}Ps(e){return 0}ks(e,t){return Ne.or([()=>Ne.resolve(this.Ds.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ss(e,t)])}}function xT(n,e){return`firestore_clients_${n}_${e}`}function yR(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function OT(n,e){return`firestore_targets_${n}_${e}`}class ev{constructor(e,t,r,a){this.user=e,this.batchId=t,this.state=r,this.error=a}static $s(e,t,r){const a=JSON.parse(r);let l,h="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return h&&a.error&&(h="string"==typeof a.error.message&&"string"==typeof a.error.code,h&&(l=new re(a.error.code,a.error.message))),h?new ev(e,t,a.state,l):(_r("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class tv{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static $s(e,t){const r=JSON.parse(t);let a,l="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(a=new re(r.error.code,r.error.message))),l?new tv(e,r.state,a):(_r("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class fm{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static $s(e,t){const r=JSON.parse(t);let a="object"==typeof r&&r.activeTargetIds instanceof Array,l=Jg();for(let h=0;a&&h<r.activeTargetIds.length;++h)a=I0(r.activeTargetIds[h]),l=l.add(r.activeTargetIds[h]);return a?new fm(e,l):(_r("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class aw{constructor(e,t){this.clientId=e,this.onlineState=t}static $s(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new aw(t.clientId,t.onlineState):(_r("SharedClientState",`Failed to parse online state: ${e}`),null)}}class PT{constructor(){this.activeTargetIds=Jg()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ms(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class kT{constructor(e,t,r,a,l){this.window=e,this.Oe=t,this.persistenceKey=r,this.Ls=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new sr(Wt),this.started=!1,this.Ks=[];const h=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.js=xT(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new PT),this.Ws=new RegExp(`^firestore_clients_${h}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${h}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${h}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(y){return`firestore_bundle_loaded_${y}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static bt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,_e.Z)(function*(){const t=yield e.syncEngine.pn();for(const a of t){if(a===e.Ls)continue;const l=e.getItem(xT(e.persistenceKey,a));if(l){const h=fm.$s(a,l);h&&(e.qs=e.qs.insert(h.clientId,h))}}e.Ys();const r=e.storage.getItem(e.Hs);if(r){const a=e.Xs(r);a&&e.Zs(a)}for(const a of e.Ks)e.Us(a);e.Ks=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Qs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(e){let t=!1;return this.qs.forEach((r,a)=>{a.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.ei(e,"pending")}updateMutationState(e,t,r){this.ei(e,t,r),this.ni(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(OT(this.persistenceKey,e));if(r){const a=tv.$s(e,r);a&&(t=a.state)}}return this.si.Fs(e),this.Ys(),t}removeLocalQueryTarget(e){this.si.Ms(e),this.Ys()}isLocalQueryTarget(e){return this.si.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(OT(this.persistenceKey,e))}updateQueryState(e,t,r){this.ii(e,t,r)}handleUserChange(e,t,r){t.forEach(a=>{this.ni(a)}),this.currentUser=e,r.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(e){this.ri(e)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ue("SharedClientState","READ",e,t),t}setItem(e,t){Ue("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ue("SharedClientState","REMOVE",e),this.storage.removeItem(e)}Us(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Ue("SharedClientState","EVENT",r.key,r.newValue),r.key===this.js)return void _r("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,_e.Z)(function*(){if(t.started){if(null!==r.key)if(t.Ws.test(r.key)){if(null==r.newValue){const a=t.ci(r.key);return t.ai(a,null)}{const a=t.ui(r.key,r.newValue);if(a)return t.ai(a.clientId,a)}}else if(t.Gs.test(r.key)){if(null!==r.newValue){const a=t.hi(r.key,r.newValue);if(a)return t.li(a)}}else if(t.zs.test(r.key)){if(null!==r.newValue){const a=t.fi(r.key,r.newValue);if(a)return t.di(a)}}else if(r.key===t.Hs){if(null!==r.newValue){const a=t.Xs(r.newValue);if(a)return t.Zs(a)}}else if(r.key===t.Qs){const a=function(l){let h=Xt.T;if(null!=l)try{const y=JSON.parse(l);Ct("number"==typeof y),h=y}catch(y){_r("SharedClientState","Failed to read sequence number from WebStorage",y)}return h}(r.newValue);a!==Xt.T&&t.sequenceNumberHandler(a)}else if(r.key===t.Js)return t.syncEngine.wi()}else t.Ks.push(r)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(e,t,r){const a=new ev(this.currentUser,e,t,r),l=yR(this.persistenceKey,this.currentUser,e);this.setItem(l,a.Os())}ni(e){const t=yR(this.persistenceKey,this.currentUser,e);this.removeItem(t)}ri(e){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:e}))}ii(e,t,r){const a=OT(this.persistenceKey,e),l=new tv(e,t,r);this.setItem(a,l.Os())}oi(){this.setItem(this.Js,"value-not-used")}ci(e){const t=this.Ws.exec(e);return t?t[1]:null}ui(e,t){const r=this.ci(e);return fm.$s(r,t)}hi(e,t){const r=this.Gs.exec(e),a=Number(r[1]);return ev.$s(new $r(void 0!==r[2]?r[2]:null),a,t)}fi(e,t){const r=this.zs.exec(e),a=Number(r[1]);return tv.$s(a,t)}Xs(e){return aw.$s(e)}li(e){var t=this;return(0,_e.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine._i(e.batchId,e.state,e.error);Ue("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}di(e){return this.syncEngine.mi(e.targetId,e.state,e.error)}ai(e,t){const r=t?this.qs.insert(e,t):this.qs.remove(e),a=this.ti(this.qs),l=this.ti(r),h=[],y=[];return l.forEach(w=>{a.has(w)||h.push(w)}),a.forEach(w=>{l.has(w)||y.push(w)}),this.syncEngine.gi(h,y).then(()=>{this.qs=r})}Zs(e){this.qs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ti(e){let t=Jg();return e.forEach((r,a)=>{t=t.unionWith(a.activeTargetIds)}),t}}class FT{constructor(){this.yi=new PT,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.yi.Fs(e),this.pi[e]||"not-current"}updateQueryState(e,t,r){this.pi[e]=t}removeLocalQueryTarget(e){this.yi.Ms(e)}isLocalQueryTarget(e){return this.yi.activeTargetIds.has(e)}clearQueryState(e){delete this.pi[e]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(e){return this.yi.activeTargetIds.has(e)}start(){return this.yi=new PT,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class uw{Ti(e){}shutdown(){}}class LT{constructor(){this.Ei=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ti(e){this.bi.push(e)}shutdown(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ai)}Ii(){Ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.bi)e(0)}Ri(){Ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.bi)e(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const _R={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class vR{constructor(e){this.vi=e.vi,this.Vi=e.Vi}Si(e){this.Di=e}Ci(e){this.Ni=e}onMessage(e){this.xi=e}close(){this.Vi()}send(e){this.vi(e)}ki(){this.Di()}$i(e){this.Ni(e)}Oi(e){this.xi(e)}}class lw extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Fi=(e.ssl?"https":"http")+"://"+e.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(e,t,r,a){const l=this.Bi(e,t);Ue("RestConnection","Sending: ",l,r);const h={};return this.Ui(h,a),this.qi(e,l,h,r).then(y=>(Ue("RestConnection","Received: ",y),y),y=>{throw Sa("RestConnection",`${e} failed with error: `,y,"url: ",l,"request:",r),y})}Ki(e,t,r,a){return this.Li(e,t,r,a)}Ui(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/"+Pd,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(const r in t.authHeaders)t.authHeaders.hasOwnProperty(r)&&(e[r]=t.authHeaders[r])}Bi(e,t){return`${this.Fi}/v1/${t}:${_R[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}qi(e,t,r,a){return new Promise((l,h)=>{const y=new wb;y.listenOnce(_b.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case y0.NO_ERROR:const T=y.getResponseJson();Ue("Connection","XHR received:",JSON.stringify(T)),l(T);break;case y0.TIMEOUT:Ue("Connection",'RPC "'+e+'" timed out'),h(new re(pe.DEADLINE_EXCEEDED,"Request time out"));break;case y0.HTTP_ERROR:const R=y.getStatus();if(Ue("Connection",'RPC "'+e+'" failed with status:',R,"response text:",y.getResponseText()),R>0){const x=y.getResponseJson().error;if(x&&x.status&&x.message){const B=function(q){const X=q.toLowerCase().replace(/_/g,"-");return Object.values(pe).indexOf(X)>=0?X:pe.UNKNOWN}(x.status);h(new re(B,x.message))}else h(new re(pe.UNKNOWN,"Server responded with status "+y.getStatus()))}else h(new re(pe.UNAVAILABLE,"Connection failed."));break;default:st()}}finally{Ue("Connection",'RPC "'+e+'" completed.')}});const w=JSON.stringify(a);y.send(t,"POST",w,r,15)})}ji(e,t){const r=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=ES(),l=wS(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new Eb({})),this.Ui(h.initMessageHeaders,t),(0,Gt.uI)()||(0,Gt.b$)()||(0,Gt.d)()||(0,Gt.w1)()||(0,Gt.Mn)()||(0,Gt.ru)()||(h.httpHeadersOverwriteParam="$httpHeaders");const y=r.join("");Ue("Connection","Creating WebChannel: "+y,h);const w=a.createWebChannel(y,h);let T=!1,R=!1;const x=new vR({vi:q=>{R?Ue("Connection","Not sending because WebChannel is closed:",q):(T||(Ue("Connection","Opening WebChannel transport."),w.open(),T=!0),Ue("Connection","WebChannel sending:",q),w.send(q))},Vi:()=>w.close()}),B=(q,X,Ee)=>{q.listen(X,xe=>{try{Ee(xe)}catch(at){setTimeout(()=>{throw at},0)}})};return B(w,jg.EventType.OPEN,()=>{R||Ue("Connection","WebChannel transport opened.")}),B(w,jg.EventType.CLOSE,()=>{R||(R=!0,Ue("Connection","WebChannel transport closed"),x.$i())}),B(w,jg.EventType.ERROR,q=>{R||(R=!0,Sa("Connection","WebChannel transport errored:",q),x.$i(new re(pe.UNAVAILABLE,"The operation could not be completed")))}),B(w,jg.EventType.MESSAGE,q=>{var X;if(!R){const Ee=q.data[0];Ct(!!Ee);const xe=Ee,at=xe.error||(null===(X=xe[0])||void 0===X?void 0:X.error);if(at){Ue("Connection","WebChannel received error:",at);const wt=at.status;let jt=function(vn){const dr=ir[vn];if(void 0!==dr)return jd(dr)}(wt),gt=at.message;void 0===jt&&(jt=pe.INTERNAL,gt="Unknown error status: "+wt+" with message "+at.message),R=!0,x.$i(new re(jt,gt)),w.close()}else Ue("Connection","WebChannel received:",Ee),x.Oi(Ee)}}),B(l,vb.STAT_EVENT,q=>{q.stat===_0.PROXY?Ue("Connection","Detected buffering proxy"):q.stat===_0.NOPROXY&&Ue("Connection","Detected no buffering proxy")}),setTimeout(()=>{x.ki()},0),x}}function VT(){return"undefined"!=typeof window?window:null}function Di(){return"undefined"!=typeof document?document:null}function pm(n){return new ZS(n,!0)}class gm{constructor(e,t,r=1e3,a=1.5,l=6e4){this.Oe=e,this.timerId=t,this.Qi=r,this.Wi=a,this.Gi=l,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(e){this.cancel();const t=Math.floor(this.zi+this.Zi()),r=Math.max(0,Date.now()-this.Ji),a=Math.max(0,t-r);a>0&&Ue("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.zi} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,a,()=>(this.Ji=Date.now(),e())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class UT{constructor(e,t,r,a,l,h,y){this.Oe=e,this.er=r,this.nr=a,this.sr=l,this.credentialsProvider=h,this.listener=y,this.state=0,this.ir=0,this.rr=null,this.cr=null,this.stream=null,this.ar=new gm(e,t)}ur(){return 1===this.state||5===this.state||this.hr()}hr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.lr()}stop(){var e=this;return(0,_e.Z)(function*(){e.ur()&&(yield e.close(0))})()}dr(){this.state=0,this.ar.reset()}wr(){this.hr()&&null===this.rr&&(this.rr=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this._r()))}mr(e){this.gr(),this.stream.send(e)}_r(){var e=this;return(0,_e.Z)(function*(){if(e.hr())return e.close(0)})()}gr(){this.rr&&(this.rr.cancel(),this.rr=null)}yr(){this.cr&&(this.cr.cancel(),this.cr=null)}close(e,t){var r=this;return(0,_e.Z)(function*(){r.gr(),r.yr(),r.ar.cancel(),r.ir++,4!==e?r.ar.reset():t&&t.code===pe.RESOURCE_EXHAUSTED?(_r(t.toString()),_r("Using maximum backoff delay to prevent overloading the backend."),r.ar.Yi()):t&&t.code===pe.UNAUTHENTICATED&&3!==r.state&&r.credentialsProvider.invalidateToken(),null!==r.stream&&(r.pr(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Ci(t)})()}pr(){}auth(){this.state=1;const e=this.Tr(this.ir),t=this.ir;this.credentialsProvider.getToken().then(r=>{this.ir===t&&this.Er(r)},r=>{e(()=>{const a=new re(pe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Ir(a)})})}Er(e){const t=this.Tr(this.ir);this.stream=this.Ar(e),this.stream.Si(()=>{t(()=>(this.state=2,this.cr=this.Oe.enqueueAfterDelay(this.nr,1e4,()=>(this.hr()&&(this.state=3),Promise.resolve())),this.listener.Si()))}),this.stream.Ci(r=>{t(()=>this.Ir(r))}),this.stream.onMessage(r=>{t(()=>this.onMessage(r))})}lr(){var e=this;this.state=5,this.ar.Xi((0,_e.Z)(function*(){e.state=0,e.start()}))}Ir(e){return Ue("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Tr(e){return t=>{this.Oe.enqueueAndForget(()=>this.ir===e?t():(Ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ER extends UT{constructor(e,t,r,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,l),this.N=a}Ar(e){return this.sr.ji("Listen",e)}onMessage(e){this.ar.reset();const t=function(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(w=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===w?1:"REMOVE"===w?2:"CURRENT"===w?3:"RESET"===w?4:st(),a=e.targetChange.targetIds||[],l=function(w,T){return w.D?(Ct(void 0===T||"string"==typeof T),Rr.fromBase64String(T||"")):(Ct(void 0===T||T instanceof Uint8Array),Rr.fromUint8Array(T||new Uint8Array))}(n,e.targetChange.resumeToken),h=e.targetChange.cause,y=h&&function(w){const T=void 0===w.code?pe.UNKNOWN:jd(w.code);return new re(T,w.message||"")}(h);t=new zS(r,a,l,y||null)}else if("documentChange"in e){const r=e.documentChange,a=Oa(n,r.document.name),l=Gr(r.document.updateTime),h=new Ii({mapValue:{fields:r.document.fields}}),y=jn.newFoundDocument(a,l,h);t=new Xg(r.targetIds||[],r.removedTargetIds||[],y.key,y)}else if("documentDelete"in e){const r=e.documentDelete,a=Oa(n,r.document),l=r.readTime?Gr(r.readTime):xt.min(),h=jn.newNoDocument(a,l);t=new Xg([],r.removedTargetIds||[],h.key,h)}else if("documentRemove"in e){const r=e.documentRemove,a=Oa(n,r.document);t=new Xg([],r.removedTargetIds||[],a,null)}else{if(!("filter"in e))return st();{const r=e.filter,l=new BS(r.count||0);t=new zb(r.targetId,l)}}var w;return t}(this.N,e),r=function(a){if(!("targetChange"in a))return xt.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?xt.min():l.readTime?Gr(l.readTime):xt.min()}(e);return this.listener.Rr(t,r)}br(e){const t={};t.database=qf(this.N),t.addTarget=function(a,l){let h;const y=l.target;return h=Fu(y)?{documents:Jb(a,y)}:{query:Xb(a,y)},h.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?h.resumeToken=Kb(a,l.resumeToken):l.snapshotVersion.compareTo(xt.min())>0&&(h.readTime=Hf(a,l.snapshotVersion.toTimestamp())),h}(this.N,e);const r=function(n,e){const t=function(r,a){switch(a){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return st()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.mr(t)}Pr(e){const t={};t.database=qf(this.N),t.removeTarget=e,this.mr(t)}}class cw extends UT{constructor(e,t,r,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,l),this.N=a,this.vr=!1}get Vr(){return this.vr}start(){this.vr=!1,this.lastStreamToken=void 0,super.start()}pr(){this.vr&&this.Sr([])}Ar(e){return this.sr.ji("Write",e)}onMessage(e){if(Ct(!!e.streamToken),this.lastStreamToken=e.streamToken,this.vr){this.ar.reset();const t=function(n,e){return n&&n.length>0?(Ct(void 0!==e),n.map(t=>function(r,a){let l=Gr(r.updateTime?r.updateTime:a);return l.isEqual(xt.min())&&(l=Gr(a)),new O0(l,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Gr(e.commitTime);return this.listener.Dr(r,t)}return Ct(!e.writeResults||0===e.writeResults.length),this.vr=!0,this.listener.Cr()}Nr(){const e={};e.database=qf(this.N),this.mr(e)}Sr(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>B_(this.N,r))};this.mr(t)}}class BT extends class{}{constructor(e,t,r){super(),this.credentials=e,this.sr=t,this.N=r,this.kr=!1}$r(){if(this.kr)throw new re(pe.FAILED_PRECONDITION,"The client has already been terminated.")}Li(e,t,r){return this.$r(),this.credentials.getToken().then(a=>this.sr.Li(e,t,r,a)).catch(a=>{throw"FirebaseError"===a.name?(a.code===pe.UNAUTHENTICATED&&this.credentials.invalidateToken(),a):new re(pe.UNKNOWN,a.toString())})}Ki(e,t,r){return this.$r(),this.credentials.getToken().then(a=>this.sr.Ki(e,t,r,a)).catch(a=>{throw"FirebaseError"===a.name?(a.code===pe.UNAUTHENTICATED&&this.credentials.invalidateToken(),a):new re(pe.UNKNOWN,a.toString())})}terminate(){this.kr=!0}}class jT{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Or=0,this.Fr=null,this.Mr=!0}Lr(){0===this.Or&&(this.Br("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Fr=null,this.Ur("Backend didn't respond within 10 seconds."),this.Br("Offline"),Promise.resolve())))}qr(e){"Online"===this.state?this.Br("Unknown"):(this.Or++,this.Or>=1&&(this.Kr(),this.Ur(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Br("Offline")))}set(e){this.Kr(),this.Or=0,"Online"===e&&(this.Mr=!1),this.Br(e)}Br(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}Ur(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Mr?(_r(t),this.Mr=!1):Ue("OnlineStateTracker",t)}Kr(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}class wR{constructor(e,t,r,a,l){var h=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.jr=[],this.Qr=new Map,this.Wr=new Set,this.Gr=[],this.zr=l,this.zr.Ti(y=>{r.enqueueAndForget((0,_e.Z)(function*(){var w;sc(h)&&(Ue("RemoteStore","Restarting streams for network reachability change."),yield(w=(0,_e.Z)(function*(T){const R=He(T);R.Wr.add(4),yield Jf(R),R.Hr.set("Unknown"),R.Wr.delete(4),yield Qf(R)}),function(T){return w.apply(this,arguments)})(h))}))}),this.Hr=new jT(r,a)}}function Qf(n){return nv.apply(this,arguments)}function nv(){return nv=(0,_e.Z)(function*(n){if(sc(n))for(const e of n.Gr)yield e(!0)}),nv.apply(this,arguments)}function Jf(n){return dw.apply(this,arguments)}function dw(){return dw=(0,_e.Z)(function*(n){for(const e of n.Gr)yield e(!1)}),dw.apply(this,arguments)}function Xf(n,e){const t=He(n);t.Qr.has(e.targetId)||(t.Qr.set(e.targetId,e),xs(t)?hw(t):mm(t).hr()&&rv(t,e))}function ep(n,e){const t=He(n),r=mm(t);t.Qr.delete(e),r.hr()&&iv(t,e),0===t.Qr.size&&(r.hr()?r.wr():sc(t)&&t.Hr.set("Unknown"))}function rv(n,e){n.Jr.Y(e.targetId),mm(n).br(e)}function iv(n,e){n.Jr.Y(e),mm(n).Pr(e)}function hw(n){n.Jr=new LM({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Tt:e=>n.Qr.get(e)||null}),mm(n).start(),n.Hr.Lr()}function xs(n){return sc(n)&&!mm(n).ur()&&n.Qr.size>0}function sc(n){return 0===He(n).Wr.size}function CR(n){n.Jr=void 0}function IR(n){return $T.apply(this,arguments)}function $T(){return $T=(0,_e.Z)(function*(n){n.Qr.forEach((e,t)=>{rv(n,e)})}),$T.apply(this,arguments)}function bR(n,e){return fw.apply(this,arguments)}function fw(){return fw=(0,_e.Z)(function*(n,e){CR(n),xs(n)?(n.Hr.qr(e),hw(n)):n.Hr.set("Unknown")}),fw.apply(this,arguments)}function TR(n,e,t){return HT.apply(this,arguments)}function HT(){return HT=(0,_e.Z)(function*(n,e,t){if(n.Hr.set("Online"),e instanceof zS&&2===e.state&&e.cause)try{yield(r=(0,_e.Z)(function*(a,l){const h=l.cause;for(const y of l.targetIds)a.Qr.has(y)&&(yield a.remoteSyncer.rejectListen(y,h),a.Qr.delete(y),a.Jr.removeTarget(y))}),function(a,l){return r.apply(this,arguments)})(n,e)}catch(r){Ue("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield sv(n,r)}else if(e instanceof Xg?n.Jr.rt(e):e instanceof zb?n.Jr.ft(e):n.Jr.at(e),!t.isEqual(xt.min()))try{const r=yield hR(n.localStore);t.compareTo(r)>=0&&(yield function(a,l){const h=a.Jr._t(l);return h.targetChanges.forEach((y,w)=>{if(y.resumeToken.approximateByteSize()>0){const T=a.Qr.get(w);T&&a.Qr.set(w,T.withResumeToken(y.resumeToken,l))}}),h.targetMismatches.forEach(y=>{const w=a.Qr.get(y);if(!w)return;a.Qr.set(y,w.withResumeToken(Rr.EMPTY_BYTE_STRING,w.snapshotVersion)),iv(a,y);const T=new Ms(w.target,y,1,w.sequenceNumber);rv(a,T)}),a.remoteSyncer.applyRemoteEvent(h)}(n,t))}catch(r){Ue("RemoteStore","Failed to raise snapshot:",r),yield sv(n,r)}var r}),HT.apply(this,arguments)}function sv(n,e,t){return ov.apply(this,arguments)}function ov(){return ov=(0,_e.Z)(function*(n,e,t){if(!tc(e))throw e;n.Wr.add(1),yield Jf(n),n.Hr.set("Offline"),t||(t=()=>hR(n.localStore)),n.asyncQueue.enqueueRetryable((0,_e.Z)(function*(){Ue("RemoteStore","Retrying IndexedDB access"),yield t(),n.Wr.delete(1),yield Qf(n)}))}),ov.apply(this,arguments)}function GT(n,e){return e().catch(t=>sv(n,t,e))}function tp(n){return av.apply(this,arguments)}function av(){return av=(0,_e.Z)(function*(n){const e=He(n),t=Yd(e);let r=e.jr.length>0?e.jr[e.jr.length-1].batchId:-1;for(;DR(e);)try{const a=yield iw(e.localStore,r);if(null===a){0===e.jr.length&&t.wr();break}r=a.batchId,qM(e,a)}catch(a){yield sv(e,a)}pw(e)&&gw(e)}),av.apply(this,arguments)}function DR(n){return sc(n)&&n.jr.length<10}function qM(n,e){n.jr.push(e);const t=Yd(n);t.hr()&&t.Vr&&t.Sr(e.mutations)}function pw(n){return sc(n)&&!Yd(n).ur()&&n.jr.length>0}function gw(n){Yd(n).start()}function AR(n){return mw.apply(this,arguments)}function mw(){return mw=(0,_e.Z)(function*(n){Yd(n).Nr()}),mw.apply(this,arguments)}function qT(n){return Zd.apply(this,arguments)}function Zd(){return Zd=(0,_e.Z)(function*(n){const e=Yd(n);for(const t of n.jr)e.Sr(t.mutations)}),Zd.apply(this,arguments)}function yw(n,e,t){return uv.apply(this,arguments)}function uv(){return uv=(0,_e.Z)(function*(n,e,t){const r=n.jr.shift(),a=ui.from(r,e,t);yield GT(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),yield tp(n)}),uv.apply(this,arguments)}function SR(n,e){return zT.apply(this,arguments)}function zT(){return zT=(0,_e.Z)(function*(n,e){var t;e&&Yd(n).Vr&&(yield(t=(0,_e.Z)(function*(r,a){if(L_(l=a.code)&&l!==pe.ABORTED){const h=r.jr.shift();Yd(r).dr(),yield GT(r,()=>r.remoteSyncer.rejectFailedWrite(h.batchId,a)),yield tp(r)}var l}),function(r,a){return t.apply(this,arguments)})(n,e)),pw(n)&&gw(n)}),zT.apply(this,arguments)}function WT(n,e){return KT.apply(this,arguments)}function KT(){return KT=(0,_e.Z)(function*(n,e){const t=He(n);e?(t.Wr.delete(2),yield Qf(t)):e||(t.Wr.add(2),yield Jf(t),t.Hr.set("Unknown"))}),KT.apply(this,arguments)}function mm(n){return n.Yr||(n.Yr=function(e,t,r){const a=He(e);return a.$r(),new ER(t,a.sr,a.credentials,a.N,r)}(n.datastore,n.asyncQueue,{Si:IR.bind(null,n),Ci:bR.bind(null,n),Rr:TR.bind(null,n)}),n.Gr.push(function(){var e=(0,_e.Z)(function*(t){t?(n.Yr.dr(),xs(n)?hw(n):n.Hr.set("Unknown")):(yield n.Yr.stop(),CR(n))});return function(t){return e.apply(this,arguments)}}())),n.Yr}function Yd(n){return n.Xr||(n.Xr=function(e,t,r){const a=He(e);return a.$r(),new cw(t,a.sr,a.credentials,a.N,r)}(n.datastore,n.asyncQueue,{Si:AR.bind(null,n),Ci:SR.bind(null,n),Cr:qT.bind(null,n),Dr:yw.bind(null,n)}),n.Gr.push(function(){var e=(0,_e.Z)(function*(t){t?(n.Xr.dr(),yield tp(n)):(yield n.Xr.stop(),n.jr.length>0&&(Ue("RemoteStore",`Stopping write stream with ${n.jr.length} pending writes`),n.jr=[]))});return function(t){return e.apply(this,arguments)}}())),n.Xr}class ZT{constructor(e,t,r,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new Hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}static createAndSchedule(e,t,r,a,l){const h=Date.now()+r,y=new ZT(e,t,h,a,l);return y.start(r),y}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new re(pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function oc(n,e){if(_r("AsyncQueue",`${e}: ${n}`),tc(n))return new re(pe.UNAVAILABLE,`${e}: ${n}`);throw n}class np{constructor(e){this.comparator=e?(t,r)=>e(t,r)||rt.comparator(t.key,r.key):(t,r)=>rt.comparator(t.key,r.key),this.keyedMap=Qg(),this.sortedSet=new sr(this.comparator)}static emptySet(e){return new np(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof np)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new np;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class RR{constructor(){this.Zr=new sr(rt.comparator)}track(e){const t=e.doc.key,r=this.Zr.get(t);r?0!==e.type&&3===r.type?this.Zr=this.Zr.insert(t,e):3===e.type&&1!==r.type?this.Zr=this.Zr.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Zr=this.Zr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Zr=this.Zr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Zr=this.Zr.remove(t):1===e.type&&2===r.type?this.Zr=this.Zr.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Zr=this.Zr.insert(t,{type:2,doc:e.doc}):st():this.Zr=this.Zr.insert(t,e)}eo(){const e=[];return this.Zr.inorderTraversal((t,r)=>{e.push(r)}),e}}class rp{constructor(e,t,r,a,l,h,y,w){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=y,this.excludesMetadataChanges=w}static fromInitialDocuments(e,t,r,a){const l=[];return t.forEach(h=>{l.push({type:0,doc:h})}),new rp(e,t,np.emptySet(t),l,r,a,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Kg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}class NR{constructor(){this.no=void 0,this.listeners=[]}}class MR{constructor(){this.queries=new Yf(e=>Ub(e),Kg),this.onlineState="Unknown",this.so=new Set}}function _w(n,e){return YT.apply(this,arguments)}function YT(){return YT=(0,_e.Z)(function*(n,e){const t=He(n),r=e.query;let a=!1,l=t.queries.get(r);if(l||(a=!0,l=new NR),a)try{l.no=yield t.onListen(r)}catch(h){const y=oc(h,`Initialization of query '${M_(e.query)}' failed`);return void e.onError(y)}t.queries.set(r,l),l.listeners.push(e),e.io(t.onlineState),l.no&&e.ro(l.no)&&Er(t)}),YT.apply(this,arguments)}function QT(n,e){return JT.apply(this,arguments)}function JT(){return JT=(0,_e.Z)(function*(n,e){const t=He(n),r=e.query;let a=!1;const l=t.queries.get(r);if(l){const h=l.listeners.indexOf(e);h>=0&&(l.listeners.splice(h,1),a=0===l.listeners.length)}if(a)return t.queries.delete(r),t.onUnlisten(r)}),JT.apply(this,arguments)}function xR(n,e){const t=He(n);let r=!1;for(const a of e){const h=t.queries.get(a.query);if(h){for(const y of h.listeners)y.ro(a)&&(r=!0);h.no=a}}r&&Er(t)}function vw(n,e,t){const r=He(n),a=r.queries.get(e);if(a)for(const l of a.listeners)l.onError(t);r.queries.delete(e)}function Er(n){n.so.forEach(e=>{e.next()})}class XT{constructor(e,t,r){this.query=e,this.oo=t,this.co=!1,this.ao=null,this.onlineState="Unknown",this.options=r||{}}ro(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)3!==a.type&&r.push(a);e=new rp(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.co?this.uo(e)&&(this.oo.next(e),t=!0):this.ho(e,this.onlineState)&&(this.lo(e),t=!0),this.ao=e,t}onError(e){this.oo.error(e)}io(e){this.onlineState=e;let t=!1;return this.ao&&!this.co&&this.ho(this.ao,e)&&(this.lo(this.ao),t=!0),t}ho(e,t){return!e.fromCache||!(this.options.fo&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}uo(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ao&&this.ao.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}lo(e){e=rp.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.co=!0,this.oo.next(e)}}class eD{constructor(e,t){this.payload=e,this.byteLength=t}wo(){return"metadata"in this.payload}}class Ew{constructor(e){this.N=e}zn(e){return Oa(this.N,e)}Hn(e){return e.metadata.exists?$0(this.N,e.document,!1):jn.newNoDocument(this.zn(e.metadata.name),this.Jn(e.metadata.readTime))}Jn(e){return Gr(e)}}class OR{constructor(e,t,r){this._o=e,this.localStore=t,this.N=r,this.queries=[],this.documents=[],this.progress=ym(e)}mo(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}yo(e){const t=new Map,r=new Ew(this.N);for(const a of e)if(a.metadata.queries){const l=r.zn(a.metadata.name);for(const h of a.metadata.queries){const y=(t.get(h)||_n()).add(l);t.set(h,y)}}return t}complete(){var e=this;return(0,_e.Z)(function*(){const t=yield function(n,e,t,r){return Q_.apply(this,arguments)}(e.localStore,new Ew(e.N),e.documents,e._o.id),r=e.yo(e.documents);for(const a of e.queries)yield J_(e.localStore,a,r.get(a.name));return e.progress.taskState="Success",new UM(Object.assign({},e.progress),t)})()}}function ym(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class tD{constructor(e){this.key=e}}class nD{constructor(e){this.key=e}}class ww{constructor(e,t){this.query=e,this.po=t,this.To=null,this.current=!1,this.Eo=_n(),this.mutatedKeys=_n(),this.Io=Bb(e),this.Ao=new np(this.Io)}get Ro(){return this.po}bo(e,t){const r=t?t.Po:new RR,a=t?t.Ao:this.Ao;let l=t?t.mutatedKeys:this.mutatedKeys,h=a,y=!1;const w=R_(this.query)&&a.size===this.query.limit?a.last():null,T=N_(this.query)&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((R,x)=>{const B=a.get(R),q=Zg(this.query,x)?x:null,X=!!B&&this.mutatedKeys.has(B.key),Ee=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let xe=!1;B&&q?B.data.isEqual(q.data)?X!==Ee&&(r.track({type:3,doc:q}),xe=!0):this.vo(B,q)||(r.track({type:2,doc:q}),xe=!0,(w&&this.Io(q,w)>0||T&&this.Io(q,T)<0)&&(y=!0)):!B&&q?(r.track({type:0,doc:q}),xe=!0):B&&!q&&(r.track({type:1,doc:B}),xe=!0,(w||T)&&(y=!0)),xe&&(q?(h=h.add(q),l=Ee?l.add(R):l.delete(R)):(h=h.delete(R),l=l.delete(R)))}),R_(this.query)||N_(this.query))for(;h.size>this.query.limit;){const R=R_(this.query)?h.last():h.first();h=h.delete(R.key),l=l.delete(R.key),r.track({type:1,doc:R})}return{Ao:h,Po:r,Ln:y,mutatedKeys:l}}vo(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const a=this.Ao;this.Ao=e.Ao,this.mutatedKeys=e.mutatedKeys;const l=e.Po.eo();l.sort((T,R)=>function(x,B){const q=X=>{switch(X){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return st()}};return q(x)-q(B)}(T.type,R.type)||this.Io(T.doc,R.doc)),this.Vo(r);const h=t?this.So():[],y=0===this.Eo.size&&this.current?1:0,w=y!==this.To;return this.To=y,0!==l.length||w?{snapshot:new rp(this.query,e.Ao,a,l,e.mutatedKeys,0===y,w,!1),Do:h}:{Do:h}}io(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ao:this.Ao,Po:new RR,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{Do:[]}}Co(e){return!this.po.has(e)&&!!this.Ao.has(e)&&!this.Ao.get(e).hasLocalMutations}Vo(e){e&&(e.addedDocuments.forEach(t=>this.po=this.po.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.po=this.po.delete(t)),this.current=e.current)}So(){if(!this.current)return[];const e=this.Eo;this.Eo=_n(),this.Ao.forEach(r=>{this.Co(r.key)&&(this.Eo=this.Eo.add(r.key))});const t=[];return e.forEach(r=>{this.Eo.has(r)||t.push(new nD(r))}),this.Eo.forEach(r=>{e.has(r)||t.push(new tD(r))}),t}No(e){this.po=e.Gn,this.Eo=_n();const t=this.bo(e.documents);return this.applyChanges(t,!0)}xo(){return rp.fromInitialDocuments(this.query,this.Ao,this.mutatedKeys,0===this.To)}}class Qd{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class rD{constructor(e){this.key=e,this.ko=!1}}class Cw{constructor(e,t,r,a,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.$o={},this.Oo=new Yf(y=>Ub(y),Kg),this.Fo=new Map,this.Mo=new Set,this.Lo=new sr(rt.comparator),this.Bo=new Map,this.Uo=new NT,this.qo={},this.Ko=new Map,this.jo=ic.ie(),this.onlineState="Unknown",this.Qo=void 0}get isPrimaryClient(){return!0===this.Qo}}function Iw(n,e){return bw.apply(this,arguments)}function bw(){return bw=(0,_e.Z)(function*(n,e){const t=an(n);let r,a;const l=t.Oo.get(e);if(l)r=l.targetId,t.sharedClientState.addLocalQueryTarget(r),a=l.view.xo();else{const h=yield qo(t.localStore,Rs(e)),y=t.sharedClientState.addLocalQueryTarget(h.targetId);r=h.targetId,a=yield ip(t,e,r,"current"===y),t.isPrimaryClient&&Xf(t.remoteStore,h)}return a}),bw.apply(this,arguments)}function ip(n,e,t,r){return Tw.apply(this,arguments)}function Tw(){return Tw=(0,_e.Z)(function*(n,e,t,r){n.Wo=(R,x,B)=>{return(q=(0,_e.Z)(function*(X,Ee,xe,at){let wt=Ee.view.bo(xe);wt.Ln&&(wt=yield K_(X.localStore,Ee.query,!1).then(({documents:vn})=>Ee.view.bo(vn,wt)));const jt=at&&at.targetChanges.get(Ee.targetId),gt=Ee.view.applyChanges(wt,X.isPrimaryClient,jt);return Ow(X,Ee.targetId,gt.Do),gt.snapshot}),function(X,Ee,xe,at){return q.apply(this,arguments)})(n,R,x,B);var q};const a=yield K_(n.localStore,e,!0),l=new ww(e,a.Gn),h=l.bo(a.documents),y=V_.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),w=l.applyChanges(h,n.isPrimaryClient,y);Ow(n,t,w.Do);const T=new Qd(e,t,l);return n.Oo.set(e,T),n.Fo.has(t)?n.Fo.get(t).push(e):n.Fo.set(t,[e]),w.snapshot}),Tw.apply(this,arguments)}function Dw(n,e){return lv.apply(this,arguments)}function lv(){return lv=(0,_e.Z)(function*(n,e){const t=He(n),r=t.Oo.get(e),a=t.Fo.get(r.targetId);if(a.length>1)return t.Fo.set(r.targetId,a.filter(l=>!Kg(l,e))),void t.Oo.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Kd(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),ep(t.remoteStore,r.targetId),Jd(t,r.targetId)}).catch(zd))):(Jd(t,r.targetId),yield Kd(t.localStore,r.targetId,!0))}),lv.apply(this,arguments)}function iD(){return iD=(0,_e.Z)(function*(n,e,t){const r=Fa(n);try{const a=yield function(l,h){const y=He(l),w=Sr.now(),T=h.reduce((x,B)=>x.add(B.key),_n());let R;return y.persistence.runTransaction("Locally write mutations","readwrite",x=>y.Qn.Pn(x,T).next(B=>{R=B;const q=[];for(const X of h){const Ee=VS(X,R.get(X.key));null!=Ee&&q.push(new $o(X.key,Ee,xb(Ee.value.mapValue),Yn.exists(!0)))}return y.In.addMutationBatch(x,w,q,h)})).then(x=>(x.applyToLocalDocumentSet(R),{batchId:x.batchId,changes:R}))}(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),function(l,h,y){let w=l.qo[l.currentUser.toKey()];w||(w=new sr(Wt)),w=w.insert(h,y),l.qo[l.currentUser.toKey()]=w}(r,a.batchId,t),yield oo(r,a.changes),yield tp(r.remoteStore)}catch(a){const l=oc(a,"Failed to persist write");t.reject(l)}}),iD.apply(this,arguments)}function sD(n,e){return Aw.apply(this,arguments)}function Aw(){return Aw=(0,_e.Z)(function*(n,e){const t=He(n);try{const r=yield fR(t.localStore,e);e.targetChanges.forEach((a,l)=>{const h=t.Bo.get(l);h&&(Ct(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?h.ko=!0:a.modifiedDocuments.size>0?Ct(h.ko):a.removedDocuments.size>0&&(Ct(h.ko),h.ko=!1))}),yield oo(t,r,e)}catch(r){yield zd(r)}}),Aw.apply(this,arguments)}function PR(n,e,t){const r=He(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const a=[];r.Oo.forEach((l,h)=>{const y=h.view.io(e);y.snapshot&&a.push(y.snapshot)}),function(l,h){const y=He(l);y.onlineState=h;let w=!1;y.queries.forEach((T,R)=>{for(const x of R.listeners)x.io(h)&&(w=!0)}),w&&Er(y)}(r.eventManager,e),a.length&&r.$o.Rr(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function cv(n,e,t){return Sw.apply(this,arguments)}function Sw(){return Sw=(0,_e.Z)(function*(n,e,t){const r=He(n);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r.Bo.get(e),l=a&&a.key;if(l){let h=new sr(rt.comparator);h=h.insert(l,jn.newNoDocument(l,xt.min()));const y=_n().add(l),w=new xa(xt.min(),new Map,new Qn(Wt),h,y);yield sD(r,w),r.Lo=r.Lo.remove(l),r.Bo.delete(e),hv(r)}else yield Kd(r.localStore,e,!1).then(()=>Jd(r,e,t)).catch(zd)}),Sw.apply(this,arguments)}function zM(n,e){return oD.apply(this,arguments)}function oD(){return oD=(0,_e.Z)(function*(n,e){const t=He(n),r=e.batch.batchId;try{const a=yield dR(t.localStore,e);dv(t,r,null),Mw(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield oo(t,a)}catch(a){yield zd(a)}}),oD.apply(this,arguments)}function aD(n,e,t){return Rw.apply(this,arguments)}function Rw(){return Rw=(0,_e.Z)(function*(n,e,t){const r=He(n);try{const a=yield function(l,h){const y=He(l);return y.persistence.runTransaction("Reject batch","readwrite-primary",w=>{let T;return y.In.lookupMutationBatch(w,h).next(R=>(Ct(null!==R),T=R.keys(),y.In.removeMutationBatch(w,R))).next(()=>y.In.performConsistencyCheck(w)).next(()=>y.Qn.Pn(w,T))})}(r.localStore,e);dv(r,e,t),Mw(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield oo(r,a)}catch(a){yield zd(a)}}),Rw.apply(this,arguments)}function Nw(){return Nw=(0,_e.Z)(function*(n,e){const t=He(n);sc(t.remoteStore)||Ue("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(l){const h=He(l);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",y=>h.In.getHighestUnacknowledgedBatchId(y))}(t.localStore);if(-1===r)return void e.resolve();const a=t.Ko.get(r)||[];a.push(e),t.Ko.set(r,a)}catch(r){const a=oc(r,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}}),Nw.apply(this,arguments)}function Mw(n,e){(n.Ko.get(e)||[]).forEach(t=>{t.resolve()}),n.Ko.delete(e)}function dv(n,e,t){const r=He(n);let a=r.qo[r.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),r.qo[r.currentUser.toKey()]=a}}function Jd(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Fo.get(e))n.Oo.delete(r),t&&n.$o.Go(r,t);n.Fo.delete(e),n.isPrimaryClient&&n.Uo.cs(e).forEach(r=>{n.Uo.containsKey(r)||xw(n,r)})}function xw(n,e){n.Mo.delete(e.path.canonicalString());const t=n.Lo.get(e);null!==t&&(ep(n.remoteStore,t),n.Lo=n.Lo.remove(e),n.Bo.delete(t),hv(n))}function Ow(n,e,t){for(const r of t)r instanceof tD?(n.Uo.addReference(r.key,e),FR(n,r)):r instanceof nD?(Ue("SyncEngine","Document no longer in limbo: "+r.key),n.Uo.removeReference(r.key,e),n.Uo.containsKey(r.key)||xw(n,r.key)):st()}function FR(n,e){const t=e.key,r=t.path.canonicalString();n.Lo.get(t)||n.Mo.has(r)||(Ue("SyncEngine","New document in limbo: "+t),n.Mo.add(r),hv(n))}function hv(n){for(;n.Mo.size>0&&n.Lo.size<n.maxConcurrentLimboResolutions;){const e=n.Mo.values().next().value;n.Mo.delete(e);const t=new rt(Yt.fromString(e)),r=n.jo.next();n.Bo.set(r,new rD(t)),n.Lo=n.Lo.insert(t,r),Xf(n.remoteStore,new Ms(Rs(Uf(t.path)),r,2,Xt.T))}}function oo(n,e,t){return Pw.apply(this,arguments)}function Pw(){return Pw=(0,_e.Z)(function*(n,e,t){const r=He(n),a=[],l=[],h=[];var y;r.Oo.isEmpty()||(r.Oo.forEach((y,w)=>{h.push(r.Wo(w,e,t).then(T=>{if(T){r.isPrimaryClient&&r.sharedClientState.updateQueryState(w.targetId,T.fromCache?"not-current":"current"),a.push(T);const R=TT.kn(w.targetId,T);l.push(R)}}))}),yield Promise.all(h),r.$o.Rr(a),yield(y=(0,_e.Z)(function*(w,T){const R=He(w);try{yield R.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>Ne.forEach(T,B=>Ne.forEach(B.Nn,q=>R.persistence.referenceDelegate.addReference(x,B.targetId,q)).next(()=>Ne.forEach(B.xn,q=>R.persistence.referenceDelegate.removeReference(x,B.targetId,q)))))}catch(x){if(!tc(x))throw x;Ue("LocalStore","Failed to update sequence numbers: "+x)}for(const x of T){const B=x.targetId;if(!x.fromCache){const q=R.Un.get(B),Ee=q.withLastLimboFreeSnapshotVersion(q.snapshotVersion);R.Un=R.Un.insert(B,Ee)}}}),function(w,T){return y.apply(this,arguments)})(r.localStore,l))}),Pw.apply(this,arguments)}function uD(n,e){return sp.apply(this,arguments)}function sp(){return sp=(0,_e.Z)(function*(n,e){const t=He(n);if(!t.currentUser.isEqual(e)){Ue("SyncEngine","User change. New user:",e.toKey());const r=yield cR(t.localStore,e);t.currentUser=e,(a=t).Ko.forEach(h=>{h.forEach(y=>{y.reject(new re(pe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.Ko.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield oo(t,r.Wn)}var a}),sp.apply(this,arguments)}function LR(n,e){const t=He(n),r=t.Bo.get(e);if(r&&r.ko)return _n().add(r.key);{let a=_n();const l=t.Fo.get(e);if(!l)return a;for(const h of l){const y=t.Oo.get(h);a=a.unionWith(y.view.Ro)}return a}}function VR(n,e){return kw.apply(this,arguments)}function kw(){return kw=(0,_e.Z)(function*(n,e){const t=He(n),r=yield K_(t.localStore,e.query,!0),a=e.view.No(r);return t.isPrimaryClient&&Ow(t,e.targetId,a.Do),a}),kw.apply(this,arguments)}function UR(n){return lD.apply(this,arguments)}function lD(){return lD=(0,_e.Z)(function*(n){const e=He(n);return ow(e.localStore).then(t=>oo(e,t))}),lD.apply(this,arguments)}function BR(n,e,t,r){return Fw.apply(this,arguments)}function Fw(){return Fw=(0,_e.Z)(function*(n,e,t,r){const a=He(n),l=yield function(h,y){const w=He(h),T=He(w.In);return w.persistence.runTransaction("Lookup mutation documents","readonly",R=>T.Xt(R,y).next(x=>x?w.Qn.Pn(R,x):Ne.resolve(null)))}(a.localStore,e);var y;null!==l?("pending"===t?yield tp(a.remoteStore):"acknowledged"===t||"rejected"===t?(dv(a,e,r||null),Mw(a,e),y=e,He(He(a.localStore).In).te(y)):st(),yield oo(a,l)):Ue("SyncEngine","Cannot apply mutation batch with id: "+e)}),Fw.apply(this,arguments)}function Lw(){return Lw=(0,_e.Z)(function*(n,e){const t=He(n);if(an(t),Fa(t),!0===e&&!0!==t.Qo){const r=t.sharedClientState.getAllActiveQueryTargets(),a=yield cD(t,r.toArray());t.Qo=!0,yield WT(t.remoteStore,!0);for(const l of a)Xf(t.remoteStore,l)}else if(!1===e&&!1!==t.Qo){const r=[];let a=Promise.resolve();t.Fo.forEach((l,h)=>{t.sharedClientState.isLocalQueryTarget(h)?r.push(h):a=a.then(()=>(Jd(t,h),Kd(t.localStore,h,!0))),ep(t.remoteStore,h)}),yield a,yield cD(t,r),function(l){const h=He(l);h.Bo.forEach((y,w)=>{ep(h.remoteStore,w)}),h.Uo.us(),h.Bo=new Map,h.Lo=new sr(rt.comparator)}(t),t.Qo=!1,yield WT(t.remoteStore,!1)}}),Lw.apply(this,arguments)}function cD(n,e,t){return Vw.apply(this,arguments)}function Vw(){return Vw=(0,_e.Z)(function*(n,e,t){const r=He(n),a=[],l=[];for(const h of e){let y;const w=r.Fo.get(h);if(w&&0!==w.length){y=yield qo(r.localStore,Rs(w[0]));for(const T of w){const R=r.Oo.get(T),x=yield VR(r,R);x.snapshot&&l.push(x.snapshot)}}else{const T=yield Z_(r.localStore,h);y=yield qo(r.localStore,T),yield ip(r,dD(T),h,!1)}a.push(y)}return r.$o.Rr(l),a}),Vw.apply(this,arguments)}function dD(n){return Vb(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function $R(n){const e=He(n);return He(He(e.localStore).persistence).pn()}function fv(n,e,t,r){return op.apply(this,arguments)}function op(){return op=(0,_e.Z)(function*(n,e,t,r){const a=He(n);if(a.Qo)Ue("SyncEngine","Ignoring unexpected query state notification.");else if(a.Fo.has(e))switch(t){case"current":case"not-current":{const l=yield ow(a.localStore),h=xa.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield oo(a,l,h);break}case"rejected":yield Kd(a.localStore,e,!0),Jd(a,e,r);break;default:st()}}),op.apply(this,arguments)}function WM(n,e,t){return Xd.apply(this,arguments)}function Xd(){return Xd=(0,_e.Z)(function*(n,e,t){const r=an(n);if(r.Qo){for(const a of e){if(r.Fo.has(a)){Ue("SyncEngine","Adding an already active target "+a);continue}const l=yield Z_(r.localStore,a),h=yield qo(r.localStore,l);yield ip(r,dD(l),h.targetId,!1),Xf(r.remoteStore,h)}for(const a of t)r.Fo.has(a)&&(yield Kd(r.localStore,a,!1).then(()=>{ep(r.remoteStore,a),Jd(r,a)}).catch(zd))}}),Xd.apply(this,arguments)}function an(n){const e=He(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=sD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=LR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cv.bind(null,e),e.$o.Rr=xR.bind(null,e.eventManager),e.$o.Go=vw.bind(null,e.eventManager),e}function Fa(n){const e=He(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=aD.bind(null,e),e}class up{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,_e.Z)(function*(){t.N=pm(e.databaseInfo.databaseId),t.sharedClientState=t.Ho(e),t.persistence=t.Jo(e),yield t.persistence.start(),t.gcScheduler=t.Yo(e),t.localStore=t.Xo(e)})()}Yo(e){return null}Xo(e){return AT(this.persistence,new DT,e.initialUser,this.N)}Jo(e){return new HM(hm.Ns,this.N)}Ho(e){return new FT}terminate(){var e=this;return(0,_e.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class HR extends up{constructor(e,t,r){super(),this.Zo=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,_e.Z)(function*(){yield t().call(r,e),yield function(n){return Y_.apply(this,arguments)}(r.localStore),yield r.Zo.initialize(r,e),yield Fa(r.Zo.syncEngine),yield tp(r.Zo.remoteStore),yield r.persistence.nn(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}Xo(e){return AT(this.persistence,new DT,e.initialUser,this.N)}Yo(e){return new _T(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}Jo(e){const t=rw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?li.withCacheSize(this.cacheSizeBytes):li.DEFAULT;return new bT(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,VT(),Di(),this.N,this.sharedClientState,!!this.forceOwnership)}Ho(e){return new FT}}class Rt extends HR{constructor(e,t){super(e,t,!1),this.Zo=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,_e.Z)(function*(){yield t().call(r,e);const a=r.Zo.syncEngine;r.sharedClientState instanceof kT&&(r.sharedClientState.syncEngine={_i:BR.bind(null,a),mi:fv.bind(null,a),gi:WM.bind(null,a),pn:$R.bind(null,a),wi:UR.bind(null,a)},yield r.sharedClientState.start()),yield r.persistence.nn(function(){var l=(0,_e.Z)(function*(h){yield function(n,e){return Lw.apply(this,arguments)}(r.Zo.syncEngine,h),r.gcScheduler&&(h&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):h||r.gcScheduler.stop())});return function(h){return l.apply(this,arguments)}}())})()}Ho(e){const t=VT();if(!kT.bt(t))throw new re(pe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=rw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new kT(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class pv{initialize(e,t){var r=this;return(0,_e.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=a=>PR(r.syncEngine,a,1),r.remoteStore.remoteSyncer.handleCredentialChange=uD.bind(null,r.syncEngine),yield WT(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new MR}createDatastore(e){const t=pm(e.databaseInfo.databaseId),r=new lw(e.databaseInfo);return new BT(e.credentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,a=e.asyncQueue,l=y=>PR(this.syncEngine,y,0),h=LT.bt()?new LT:new uw,new wR(t,r,a,l,h);var t,r,a,l,h}createSyncEngine(e,t){return function(r,a,l,h,y,w,T){const R=new Cw(r,a,l,h,y,w);return T&&(R.Qo=!0),R}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,_e.Z)(function*(t){const r=He(t);Ue("RemoteStore","RemoteStore shutting down."),r.Wr.add(5),yield Jf(r),r.zr.shutdown(),r.Hr.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function hD(n,e=10240){let t=0;return{read:()=>(0,_e.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,_e.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class gv{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.tc(this.observer.next,e)}error(e){this.observer.error?this.tc(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}ec(){this.muted=!0}tc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class fD{constructor(e,t){this.nc=e,this.N=t,this.metadata=new Hr,this.buffer=new Uint8Array,this.sc=new TextDecoder("utf-8"),this.ic().then(r=>{r&&r.wo()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.nc.cancel()}getMetadata(){var e=this;return(0,_e.Z)(function*(){return e.metadata.promise})()}zo(){var e=this;return(0,_e.Z)(function*(){return yield e.getMetadata(),e.ic()})()}ic(){var e=this;return(0,_e.Z)(function*(){const t=yield e.rc();if(null===t)return null;const r=e.sc.decode(t),a=Number(r);isNaN(a)&&e.oc(`length string (${r}) is not valid number`);const l=yield e.cc(a);return new eD(JSON.parse(l),t.length+a)})()}ac(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}rc(){var e=this;return(0,_e.Z)(function*(){for(;e.ac()<0&&!(yield e.uc()););if(0===e.buffer.length)return null;const t=e.ac();t<0&&e.oc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}cc(e){var t=this;return(0,_e.Z)(function*(){for(;t.buffer.length<e;)(yield t.uc())&&t.oc("Reached the end of bundle when more is expected.");const r=t.sc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}oc(e){throw this.nc.cancel(),new Error(`Invalid bundle format: ${e}`)}uc(){var e=this;return(0,_e.Z)(function*(){const t=yield e.nc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class GR{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,_e.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new re(pe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(a=(0,_e.Z)(function*(l,h){const y=He(l),w=qf(y.N)+"/documents",T={documents:h.map(q=>em(y.N,q))},R=yield y.Ki("BatchGetDocuments",w,T),x=new Map;R.forEach(q=>{const X=function(n,e){return"found"in e?function(t,r){Ct(!!r.found);const a=Oa(t,r.found.name),l=Gr(r.found.updateTime),h=new Ii({mapValue:{fields:r.found.fields}});return jn.newFoundDocument(a,l,h)}(n,e):"missing"in e?function(t,r){Ct(!!r.missing),Ct(!!r.readTime);const a=Oa(t,r.missing),l=Gr(r.readTime);return jn.newNoDocument(a,l)}(n,e):st()}(y.N,q);x.set(X.key.toString(),X)});const B=[];return h.forEach(q=>{const X=x.get(q.toString());Ct(!!X),B.push(X)}),B}),function(l,h){return a.apply(this,arguments)})(t.datastore,e);var a;return r.forEach(a=>t.recordVersion(a)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Yg(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,_e.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,a)=>{const l=rt.fromPath(a);e.mutations.push(new k0(l,e.precondition(l)))}),yield(r=(0,_e.Z)(function*(a,l){const h=He(a),y=qf(h.N)+"/documents",w={writes:l.map(T=>B_(h.N,T))};yield h.Li("Commit",y,w)}),function(a,l){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw st();t=xt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new re(pe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Yn.updateTime(t):Yn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(xt.min()))throw new re(pe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Yn.updateTime(t)}return Yn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class pD{constructor(e,t,r,a){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=a,this.hc=5,this.ar=new gm(this.asyncQueue,"transaction_retry")}run(){this.hc-=1,this.lc()}lc(){var e=this;this.ar.Xi((0,_e.Z)(function*(){const t=new GR(e.datastore),r=e.fc(t);r&&r.then(a=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(a)}).catch(l=>{e.dc(l)}))}).catch(a=>{e.dc(a)})}))}fc(e){try{const t=this.updateFunction(e);return!Vd(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}dc(e){this.hc>0&&this.wc(e)?(this.hc-=1,this.asyncQueue.enqueueAndForget(()=>(this.lc(),Promise.resolve()))):this.deferred.reject(e)}wc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!L_(t)}return!1}}class ao{constructor(e,t,r){var a=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=r,this.user=$r.UNAUTHENTICATED,this.clientId=E0.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(t,function(){var l=(0,_e.Z)(function*(h){Ue("FirestoreClient","Received user=",h.uid),yield a.credentialListener(h),a.user=h});return function(h){return l.apply(this,arguments)}}())}getConfiguration(){var e=this;return(0,_e.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,credentials:e.credentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.credentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new re(pe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,_e.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.credentials.shutdown(),t.resolve()}catch(r){const a=oc(r,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function mv(n,e){return Bu.apply(this,arguments)}function Bu(){return Bu=(0,_e.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ue("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var a=(0,_e.Z)(function*(l){r.isEqual(l)||(yield cR(e.localStore,l),r=l)});return function(l){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),Bu.apply(this,arguments)}function Uw(n,e){return yv.apply(this,arguments)}function yv(){return yv=(0,_e.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield gD(n);Ue("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(a=>{return(l=(0,_e.Z)(function*(h,y){const w=He(h);w.asyncQueue.verifyOperationInProgress(),Ue("RemoteStore","RemoteStore received new credentials");const T=sc(w);w.Wr.add(3),yield Jf(w),T&&w.Hr.set("Unknown"),yield w.remoteSyncer.handleCredentialChange(y),w.Wr.delete(3),yield Qf(w)}),function(h,y){return l.apply(this,arguments)})(e.remoteStore,a);var l}),n.onlineComponents=e}),yv.apply(this,arguments)}function gD(n){return Bw.apply(this,arguments)}function Bw(){return Bw=(0,_e.Z)(function*(n){return n.offlineComponents||(Ue("FirestoreClient","Using default OfflineComponentProvider"),yield mv(n,new up)),n.offlineComponents}),Bw.apply(this,arguments)}function _v(n){return ys.apply(this,arguments)}function ys(){return ys=(0,_e.Z)(function*(n){return n.onlineComponents||(Ue("FirestoreClient","Using default OnlineComponentProvider"),yield Uw(n,new pv)),n.onlineComponents}),ys.apply(this,arguments)}function $n(n){return gD(n).then(e=>e.persistence)}function Os(n){return gD(n).then(e=>e.localStore)}function jw(n){return _v(n).then(e=>e.remoteStore)}function $w(n){return _v(n).then(e=>e.syncEngine)}function eh(n){return _m.apply(this,arguments)}function _m(){return _m=(0,_e.Z)(function*(n){const e=yield _v(n),t=e.eventManager;return t.onListen=Iw.bind(null,e.syncEngine),t.onUnlisten=Dw.bind(null,e.syncEngine),t}),_m.apply(this,arguments)}function ac(n,e,t={}){const r=new Hr;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(a,l,h,y,w){const T=new gv({next:x=>{l.enqueueAndForget(()=>QT(a,R));const B=x.docs.has(h);!B&&x.fromCache?w.reject(new re(pe.UNAVAILABLE,"Failed to get document because the client is offline.")):B&&x.fromCache&&y&&"server"===y.source?w.reject(new re(pe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):w.resolve(x)},error:x=>w.reject(x)}),R=new XT(Uf(h.path),T,{includeMetadataChanges:!0,fo:!0});return _w(a,R)}(yield eh(n),n.asyncQueue,e,t,r)})),r.promise}function Hw(n,e,t={}){const r=new Hr;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(a,l,h,y,w){const T=new gv({next:x=>{l.enqueueAndForget(()=>QT(a,R)),x.fromCache&&"server"===y.source?w.reject(new re(pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):w.resolve(x)},error:x=>w.reject(x)}),R=new XT(h,T,{includeMetadataChanges:!0,fo:!0});return _w(a,R)}(yield eh(n),n.asyncQueue,e,t,r)})),r.promise}class cp{constructor(e,t,r,a,l,h,y,w){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=y,this.useFetchStreams=w}}class dp{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof dp&&e.projectId===this.projectId&&e.database===this.database}}const wm=new Map;function vv(n,e,t){if(!t)throw new re(pe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function zw(n,e,t,r){if(!0===e&&!0===r)throw new re(pe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Ww(n){if(!rt.isDocumentKey(n))throw new re(pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Cm(n){if(rt.isDocumentKey(n))throw new re(pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Ev(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":st()}function Kt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new re(pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ev(n);throw new re(pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function wv(n,e){if(e<=0)throw new re(pe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class WR{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new re(pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new re(pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,zw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Cv{constructor(e,t){this._credentials=t,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new WR({}),this._settingsFrozen=!1,e instanceof dp?this._databaseId=e:(this._app=e,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new re(pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new dp(r.options.projectId)}(e))}get app(){if(!this._app)throw new re(pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new re(pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new WR(e),void 0!==e.credentials&&(this._credentials=function(t){if(!t)return new CS;switch(t.type){case"gapi":const r=t.client;return Ct(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new I_(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new re(pe.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=wm.get(e);t&&(Ue("ComponentProvider","Removing Datastore"),wm.delete(e),t.terminate())}(this),Promise.resolve()}}class Hn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ju(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Hn(this.firestore,e,this._key)}}class Qi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Qi(this.firestore,e,this._query)}}class ju extends Qi{constructor(e,t,r){super(e,t,Uf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Hn(this.firestore,null,new rt(e))}withConverter(e){return new ju(this.firestore,e,this._path)}}function yD(n,e,...t){if(n=(0,Gt.m9)(n),vv("collection","path",e),n instanceof Cv){const r=Yt.fromString(e,...t);return Cm(r),new ju(n,null,r)}{if(!(n instanceof Hn||n instanceof ju))throw new re(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Yt.fromString(e,...t));return Cm(r),new ju(n.firestore,null,r)}}function Iv(n,e,...t){if(n=(0,Gt.m9)(n),1===arguments.length&&(e=E0.I()),vv("doc","path",e),n instanceof Cv){const r=Yt.fromString(e,...t);return Ww(r),new Hn(n,null,new rt(r))}{if(!(n instanceof Hn||n instanceof ju))throw new re(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Yt.fromString(e,...t));return Ww(r),new Hn(n.firestore,n instanceof ju?n.converter:null,new rt(r))}}function _D(n,e){return n=(0,Gt.m9)(n),e=(0,Gt.m9)(e),(n instanceof Hn||n instanceof ju)&&(e instanceof Hn||e instanceof ju)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function vD(n,e){return n=(0,Gt.m9)(n),e=(0,Gt.m9)(e),n instanceof Qi&&e instanceof Qi&&n.firestore===e.firestore&&Kg(n._query,e._query)&&n.converter===e.converter}class zo{constructor(){this._c=Promise.resolve(),this.mc=[],this.gc=!1,this.yc=[],this.Tc=null,this.Ec=!1,this.Ic=!1,this.Ac=[],this.ar=new gm(this,"async_queue_retry"),this.Rc=()=>{const t=Di();t&&Ue("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ar.tr()};const e=Di();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Rc)}get isShuttingDown(){return this.gc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.bc(),this.Pc(e)}enterRestrictedMode(e){if(!this.gc){this.gc=!0,this.Ic=e||!1;const t=Di();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Rc)}}enqueue(e){if(this.bc(),this.gc)return new Promise(()=>{});const t=new Hr;return this.Pc(()=>this.gc&&this.Ic?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.mc.push(e),this.vc()))}vc(){var e=this;return(0,_e.Z)(function*(){if(0!==e.mc.length){try{yield e.mc[0](),e.mc.shift(),e.ar.reset()}catch(t){if(!tc(t))throw t;Ue("AsyncQueue","Operation failed with retryable error: "+t)}e.mc.length>0&&e.ar.Xi(()=>e.vc())}})()}Pc(e){const t=this._c.then(()=>(this.Ec=!0,e().catch(r=>{throw this.Tc=r,this.Ec=!1,_r("INTERNAL UNHANDLED ERROR: ",function(l){let h=l.message||"";return l.stack&&(h=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),h}(r)),r}).then(r=>(this.Ec=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.bc(),this.Ac.indexOf(e)>-1&&(t=0);const a=ZT.createAndSchedule(this,e,t,r,l=>this.Vc(l));return this.yc.push(a),a}bc(){this.Tc&&st()}verifyOperationInProgress(){}Sc(){var e=this;return(0,_e.Z)(function*(){let t;do{t=e._c,yield t}while(t!==e._c)})()}Dc(e){for(const t of this.yc)if(t.timerId===e)return!0;return!1}Cc(e){return this.Sc().then(()=>{this.yc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.yc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Sc()})}Nc(e){this.Ac.push(e)}Vc(e){const t=this.yc.indexOf(e);this.yc.splice(t,1)}}function Kw(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const a of["next","error","complete"])if(a in r&&"function"==typeof r[a])return!0;return!1}(n)}class ZR{constructor(){this._progressObserver={},this._taskCompletionResolver=new Hr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Xn extends Cv{constructor(e,t){super(e,t),this.type="firestore",this._queue=new zo,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||ED(this),this._firestoreClient.terminate()}}function Nr(n){return n._firestoreClient||ED(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function ED(n){var e;const t=n._freezeSettings(),r=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new cp(n._databaseId,l,n._persistenceKey,(y=t).host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,y.useFetchStreams));var l,y;n._firestoreClient=new ao(n._credentials,n._queue,r)}function wD(n,e,t){const r=new Hr;return n.asyncQueue.enqueue((0,_e.Z)(function*(){try{yield mv(n,t),yield Uw(n,e),r.resolve()}catch(a){if(!("FirebaseError"===(l=a).name?l.code===pe.FAILED_PRECONDITION||l.code===pe.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code))throw a;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a)}var l})).then(()=>r.promise)}function CD(n){if(n._initialized||n._terminated)throw new re(pe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class $u{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new re(pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new si(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class uo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new uo(Rr.fromBase64String(e))}catch(t){throw new re(pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new uo(Rr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class th{constructor(e){this._methodName=e}}class Tv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new re(pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new re(pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Wt(this._lat,e._lat)||Wt(this._long,e._long)}}const ID=/^__.*__$/;class Yw{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new $o(e,this.data,this.fieldMask,t,this.fieldTransforms):new F_(e,this.data,t,this.fieldTransforms)}}class bD{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new $o(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function tN(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw st()}}class Dv{constructor(e,t,r,a,l,h){this.settings=e,this.databaseId=t,this.N=r,this.ignoreUndefinedProperties=a,void 0===l&&this.xc(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get kc(){return this.settings.kc}$c(e){return new Dv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Oc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.$c({path:r,Fc:!1});return a.Mc(e),a}Lc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.$c({path:r,Fc:!1});return a.xc(),a}Bc(e){return this.$c({path:void 0,Fc:!0})}Uc(e){return Sv(e,this.settings.methodName,this.settings.qc||!1,this.path,this.settings.Kc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.Mc(this.path.get(e))}Mc(e){if(0===e.length)throw this.Uc("Document fields must not be empty");if(tN(this.kc)&&ID.test(e))throw this.Uc('Document fields cannot begin and end with "__"')}}class nN{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.N=r||pm(e)}jc(e,t,r,a=!1){return new Dv({kc:e,methodName:t,Kc:r,path:si.emptyPath(),Fc:!1,qc:a},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function nh(n){const e=n._freezeSettings(),t=pm(n._databaseId);return new nN(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Av(n,e,t,r,a,l={}){const h=n.jc(l.merge||l.mergeFields?2:0,e,t,a);Jw("Data must be an object, but it was:",h,r);const y=SD(r,h);let w,T;if(l.merge)w=new Of(h.fieldMask),T=h.fieldTransforms;else if(l.mergeFields){const R=[];for(const x of l.mergeFields){const B=Xw(e,x,t);if(!h.contains(B))throw new re(pe.INVALID_ARGUMENT,`Field '${B}' is specified in your field mask but missing from your input data.`);sN(R,B)||R.push(B)}w=new Of(R),T=h.fieldTransforms.filter(x=>w.covers(x.field))}else w=null,T=h.fieldTransforms;return new Yw(new Ii(y),w,T)}class Im extends th{_toFieldTransform(e){if(2!==e.kc)throw e.Uc(1===e.kc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Im}}function TD(n,e,t){return new Dv({kc:3,Kc:e.settings.Kc,methodName:n._methodName,Fc:t},e.databaseId,e.N,e.ignoreUndefinedProperties)}class rh extends th{_toFieldTransform(e){return new Ma(e.path,new $f)}isEqual(e){return e instanceof rh}}class rN extends th{constructor(e,t){super(e),this.Qc=t}_toFieldTransform(e){const t=TD(this,e,!0),r=this.Qc.map(l=>sh(l,t)),a=new Kl(r);return new Ma(e.path,a)}isEqual(e){return this===e}}class iN extends th{constructor(e,t){super(e),this.Qc=t}_toFieldTransform(e){const t=TD(this,e,!0),r=this.Qc.map(l=>sh(l,t)),a=new Zl(r);return new Ma(e.path,a)}isEqual(e){return this===e}}class DD extends th{constructor(e,t){super(e),this.Wc=t}_toFieldTransform(e){const t=new Bd(e.N,M0(e.N,this.Wc));return new Ma(e.path,t)}isEqual(e){return this===e}}function ih(n,e,t,r){const a=n.jc(1,e,t);Jw("Data must be an object, but it was:",a,r);const l=[],h=Ii.empty();Fd(r,(w,T)=>{const R=eC(e,w,t);T=(0,Gt.m9)(T);const x=a.Lc(R);if(T instanceof Im)l.push(R);else{const B=sh(T,x);null!=B&&(l.push(R),h.set(R,B))}});const y=new Of(l);return new bD(h,y,a.fieldTransforms)}function AD(n,e,t,r,a,l){const h=n.jc(1,e,t),y=[Xw(e,r,t)],w=[a];if(l.length%2!=0)throw new re(pe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let B=0;B<l.length;B+=2)y.push(Xw(e,l[B])),w.push(l[B+1]);const T=[],R=Ii.empty();for(let B=y.length-1;B>=0;--B)if(!sN(T,y[B])){const q=y[B];let X=w[B];X=(0,Gt.m9)(X);const Ee=h.Lc(q);if(X instanceof Im)T.push(q);else{const xe=sh(X,Ee);null!=xe&&(T.push(q),R.set(q,xe))}}const x=new Of(T);return new bD(R,x,h.fieldTransforms)}function Qw(n,e,t,r=!1){return sh(t,n.jc(r?4:3,e))}function sh(n,e){if(RD(n=(0,Gt.m9)(n)))return Jw("Unsupported field value:",e,n),SD(n,e);if(n instanceof th)return function(t,r){if(!tN(r.kc))throw r.Uc(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Uc(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(r);a&&r.fieldTransforms.push(a)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Fc&&4!==e.kc)throw e.Uc("Nested arrays are not supported");return function(t,r){const a=[];let l=0;for(const h of t){let y=sh(h,r.Bc(l));null==y&&(y={nullValue:"NULL_VALUE"}),a.push(y),l++}return{arrayValue:{values:a}}}(n,e)}return function(t,r){if(null===(t=(0,Gt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return M0(r.N,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=Sr.fromDate(t);return{timestampValue:Hf(r.N,a)}}if(t instanceof Sr){const a=new Sr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Hf(r.N,a)}}if(t instanceof Tv)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof uo)return{bytesValue:Kb(r.N,t._byteString)};if(t instanceof Hn){const a=r.databaseId,l=t.firestore._databaseId;if(!l.isEqual(a))throw r.Uc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:V0(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.Uc(`Unsupported field value: ${Ev(t)}`)}(n,e)}function SD(n,e){const t={};return Tb(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fd(n,(r,a)=>{const l=sh(a,e.Oc(r));null!=l&&(t[r]=l)}),{mapValue:{fields:t}}}function RD(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Sr||n instanceof Tv||n instanceof uo||n instanceof Hn||n instanceof th)}function Jw(n,e,t){if(!RD(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Ev(t);throw e.Uc("an object"===r?n+" a custom object":n+" "+r)}var r}function Xw(n,e,t){if((e=(0,Gt.m9)(e))instanceof $u)return e._internalPath;if("string"==typeof e)return eC(n,e);throw Sv("Field path arguments must be of type string or FieldPath.",n,!1,void 0,t)}const ND=new RegExp("[~\\*/\\[\\]]");function eC(n,e,t){if(e.search(ND)>=0)throw Sv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new $u(...e.split("."))._internalPath}catch(r){throw Sv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Sv(n,e,t,r,a){const l=r&&!r.isEmpty(),h=void 0!==a;let y=`Function ${e}() called with invalid data`;t&&(y+=" (via `toFirestore()`)"),y+=". ";let w="";return(l||h)&&(w+=" (found",l&&(w+=` in field ${r}`),h&&(w+=` in document ${a}`),w+=")"),new re(pe.INVALID_ARGUMENT,y+n+w)}function sN(n,e){return n.some(t=>t.isEqual(e))}class Rv{constructor(e,t,r,a,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Hn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new XM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(hp("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class XM extends Rv{data(){return super.data()}}function hp(n,e){return"string"==typeof e?eC(n,e):e instanceof $u?e._internalPath:e._delegate._internalPath}class oh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Hu extends Rv{constructor(e,t,r,a,l,h){super(e,t,r,a,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new bm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(hp("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class bm extends Hu{data(e={}){return super.data(e)}}class uc{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new oh(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new bm(this._firestore,this._userDataWriter,r.key,r,new oh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new re(pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,a){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(h=>({type:"added",doc:new bm(r._firestore,r._userDataWriter,h.doc.key,h.doc,new oh(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:l++}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(h=>a||3!==h.type).map(h=>{const y=new bm(r._firestore,r._userDataWriter,h.doc.key,h.doc,new oh(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let w=-1,T=-1;return 0!==h.type&&(w=l.indexOf(h.doc.key),l=l.delete(h.doc.key)),1!==h.type&&(l=l.add(h.doc),T=l.indexOf(h.doc.key)),{type:oN(h.type),doc:y,oldIndex:w,newIndex:T}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function oN(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return st()}}function MD(n,e){return n instanceof Hu&&e instanceof Hu?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof uc&&e instanceof uc&&n._firestore===e._firestore&&vD(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function tC(n){if(N_(n)&&0===n.explicitOrderBy.length)throw new re(pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ah{}function lc(n,...e){for(const t of e)n=t._apply(n);return n}class Si extends ah{constructor(e,t,r){super(),this.Gc=e,this.zc=t,this.Hc=r,this.type="where"}_apply(e){const t=nh(e.firestore),r=function(a,l,h,y,w,T,R){let x;if(w.isKeyField()){if("array-contains"===T||"array-contains-any"===T)throw new re(pe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on FieldPath.documentId().`);if("in"===T||"not-in"===T){cN(R,T);const q=[];for(const X of R)q.push(lN(y,a,X));x={arrayValue:{values:q}}}else x=lN(y,a,R)}else"in"!==T&&"not-in"!==T&&"array-contains-any"!==T||cN(R,T),x=Qw(h,"where",R,"in"===T||"not-in"===T);const B=Ki.create(w,T,x);return function(q,X){if(X.v()){const xe=S0(q);if(null!==xe&&!xe.isEqual(X.field))throw new re(pe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${xe.toString()}' and '${X.field.toString()}'`);const at=A0(q);null!==at&&dN(0,X.field,at)}const Ee=function(xe,at){for(const wt of xe.filters)if(at.indexOf(wt.op)>=0)return wt.op;return null}(q,function(xe){switch(xe){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(X.op));if(null!==Ee)throw new re(pe.INVALID_ARGUMENT,Ee===X.op?`Invalid query. You cannot use more than one '${X.op.toString()}' filter.`:`Invalid query. You cannot use '${X.op.toString()}' filters with '${Ee.toString()}' filters.`)}(a,B),B}(e._query,0,t,e.firestore._databaseId,this.Gc,this.zc,this.Hc);return new Qi(e.firestore,e.converter,function(a,l){const h=a.filters.concat([l]);return new Na(a.path,a.collectionGroup,a.explicitOrderBy.slice(),h,a.limit,a.limitType,a.startAt,a.endAt)}(e._query,r))}}class Wo extends ah{constructor(e,t){super(),this.Gc=e,this.Jc=t,this.type="orderBy"}_apply(e){const t=function(r,a,l){if(null!==r.startAt)throw new re(pe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new re(pe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const h=new Vf(a,l);return function(y,w){if(null===A0(y)){const T=S0(y);null!==T&&dN(0,T,w.field)}}(r,h),h}(e._query,this.Gc,this.Jc);return new Qi(e.firestore,e.converter,function(r,a){const l=r.explicitOrderBy.concat([a]);return new Na(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class OD extends ah{constructor(e,t,r){super(),this.type=e,this.Yc=t,this.Xc=r}_apply(e){return new Qi(e.firestore,e.converter,N0(e._query,this.Yc,this.Xc))}}class kD extends ah{constructor(e,t,r){super(),this.type=e,this.Zc=t,this.ta=r}_apply(e){const t=LD(e,this.type,this.Zc,this.ta);return new Qi(e.firestore,e.converter,(a=t,new Na((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,a,r.endAt)));var r,a}}class fp extends ah{constructor(e,t,r){super(),this.type=e,this.Zc=t,this.ta=r}_apply(e){const t=LD(e,this.type,this.Zc,this.ta);return new Qi(e.firestore,e.converter,(a=t,new Na((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,a)));var r,a}}function LD(n,e,t,r){if(t[0]=(0,Gt.m9)(t[0]),t[0]instanceof Rv)return function(a,l,h,y,w){if(!y)throw new re(pe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const T=[];for(const R of Bf(a))if(R.field.isKeyField())T.push(b0(l,y.key));else{const x=y.data.field(R.field);if(Ld(x))throw new re(pe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+R.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===x){const B=R.field.canonicalString();throw new re(pe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${B}' (used as the orderBy) does not exist.`)}T.push(x)}return new Lf(T,w)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const a=nh(n.firestore);return function(l,h,y,w,T,R){const x=l.explicitOrderBy;if(T.length>x.length)throw new re(pe.INVALID_ARGUMENT,`Too many arguments provided to ${w}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const B=[];for(let q=0;q<T.length;q++){const X=T[q];if(x[q].field.isKeyField()){if("string"!=typeof X)throw new re(pe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${w}(), but got a ${typeof X}`);if(!R0(l)&&-1!==X.indexOf("/"))throw new re(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${w}() must be a plain document ID, but '${X}' contains a slash.`);const Ee=l.path.child(Yt.fromString(X));if(!rt.isDocumentKey(Ee))throw new re(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${w}() must result in a valid document path, but '${Ee}' is not because it contains an odd number of segments.`);const xe=new rt(Ee);B.push(b0(h,xe))}else{const Ee=Qw(y,w,X);B.push(Ee)}}return new Lf(B,R)}(n._query,n.firestore._databaseId,a,e,t,r)}}function lN(n,e,t){if("string"==typeof(t=(0,Gt.m9)(t))){if(""===t)throw new re(pe.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!R0(e)&&-1!==t.indexOf("/"))throw new re(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Yt.fromString(t));if(!rt.isDocumentKey(r))throw new re(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return b0(n,new rt(r))}if(t instanceof Hn)return b0(n,t._key);throw new re(pe.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ev(t)}.`)}function cN(n,e){if(!Array.isArray(n)||0===n.length)throw new re(pe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new re(pe.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function dN(n,e,t){if(!t.isEqual(e))throw new re(pe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Tm{convertValue(e,t="none"){switch(Ud(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ra(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw st()}}convertObject(e,t){const r={};return Fd(e.fields,(a,l)=>{r[a]=this.convertValue(l,t)}),r}convertGeoPoint(e){return new Tv(vr(e.latitude),vr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Ab(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Gg(e));default:return null}}convertTimestamp(e){const t=Pu(e);return new Sr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Yt.fromString(e);Ct(nT(r));const a=new dp(r.get(1),r.get(3)),l=new rt(r.popFirst(5));return a.isEqual(t)||_r(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function Nv(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class hN extends Tm{constructor(e){super(),this.firestore=e}convertBytes(e){return new uo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Hn(this.firestore,null,t)}}class VD{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=nh(e)}set(e,t,r){this._verifyNotCommitted();const a=uh(e,this._firestore),l=Nv(a.converter,t,r),h=Av(this._dataReader,"WriteBatch.set",a._key,l,null!==a.converter,r);return this._mutations.push(h.toMutation(a._key,Yn.none())),this}update(e,t,r,...a){this._verifyNotCommitted();const l=uh(e,this._firestore);let h;return h="string"==typeof(t=(0,Gt.m9)(t))||t instanceof $u?AD(this._dataReader,"WriteBatch.update",l._key,t,r,a):ih(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(h.toMutation(l._key,Yn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=uh(e,this._firestore);return this._mutations=this._mutations.concat(new Yg(t._key,Yn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new re(pe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function uh(n,e){if((n=(0,Gt.m9)(n)).firestore!==e)throw new re(pe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class lh extends Tm{constructor(e){super(),this.firestore=e}convertBytes(e){return new uo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Hn(this.firestore,null,t)}}function rC(n,e,t){n=Kt(n,Hn);const r=Kt(n.firestore,Xn),a=Nv(n.converter,e,t);return Gu(r,[Av(nh(r),"setDoc",n._key,a,null!==n.converter,t).toMutation(n._key,Yn.none())])}function iC(n,e,t,...r){n=Kt(n,Hn);const a=Kt(n.firestore,Xn),l=nh(a);let h;return h="string"==typeof(e=(0,Gt.m9)(e))||e instanceof $u?AD(l,"updateDoc",n._key,e,t,r):ih(l,"updateDoc",n._key,e),Gu(a,[h.toMutation(n._key,Yn.exists(!0))])}function Mv(n,...e){var t,r,a;n=(0,Gt.m9)(n);let l={includeMetadataChanges:!1},h=0;"object"!=typeof e[h]||Kw(e[h])||(l=e[h],h++);const y={includeMetadataChanges:l.includeMetadataChanges};if(Kw(e[h])){const x=e[h];e[h]=null===(t=x.next)||void 0===t?void 0:t.bind(x),e[h+1]=null===(r=x.error)||void 0===r?void 0:r.bind(x),e[h+2]=null===(a=x.complete)||void 0===a?void 0:a.bind(x)}let w,T,R;if(n instanceof Hn)T=Kt(n.firestore,Xn),R=Uf(n._key.path),w={next:x=>{e[h]&&e[h](pp(T,n,x))},error:e[h+1],complete:e[h+2]};else{const x=Kt(n,Qi);T=Kt(x.firestore,Xn),R=x._query;const B=new lh(T);w={next:q=>{e[h]&&e[h](new uc(T,B,x,q))},error:e[h+1],complete:e[h+2]},tC(n._query)}return function(x,B,q,X){const Ee=new gv(X),xe=new XT(B,Ee,q);return x.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return _w(yield eh(x),xe)})),()=>{Ee.ec(),x.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return QT(yield eh(x),xe)}))}}(Nr(T),R,y,w)}function Gu(n,e){return function(t,r){const a=new Hr;return t.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(n,e,t){return iD.apply(this,arguments)}(yield $w(t),r,a)})),a.promise}(Nr(n),e)}function pp(n,e,t){const r=t.docs.get(e._key),a=new lh(n);return new Hu(n,a,e._key,r,new oh(t.hasPendingWrites,t.fromCache),e.converter)}class jD extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=nh(e)}get(e){const t=uh(e,this._firestore),r=new hN(this._firestore);return this._transaction.lookup([t._key]).then(a=>{if(!a||1!==a.length)return st();const l=a[0];if(l.isFoundDocument())return new Rv(this._firestore,r,l.key,l,t.converter);if(l.isNoDocument())return new Rv(this._firestore,r,t._key,null,t.converter);throw st()})}set(e,t,r){const a=uh(e,this._firestore),l=Nv(a.converter,t,r),h=Av(this._dataReader,"Transaction.set",a._key,l,null!==a.converter,r);return this._transaction.set(a._key,h),this}update(e,t,r,...a){const l=uh(e,this._firestore);let h;return h="string"==typeof(t=(0,Gt.m9)(t))||t instanceof $u?AD(this._dataReader,"Transaction.update",l._key,t,r,a):ih(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,h),this}delete(e){const t=uh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=uh(e,this._firestore),r=new lh(this._firestore);return super.get(e).then(a=>new Hu(this._firestore,r,t._key,a._document,new oh(!1,!1),t.converter))}}function di(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new re("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function gp(){if("undefined"==typeof Uint8Array)throw new re("unimplemented","Uint8Arrays are not available in this environment.")}function Dm(){if("undefined"==typeof atob)throw new re("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Pd=Wi.SDK_VERSION,(0,Wi._registerComponent)(new ff.wA("firestore",(t,{options:r})=>{const a=t.getProvider("app").getImmediate(),l=new Xn(a,new IS(t.getProvider("auth-internal")));return r=Object.assign({useFetchStreams:e},r),l._setSettings(r),l},"PUBLIC")),(0,Wi.registerVersion)(v0,"3.3.0",n),(0,Wi.registerVersion)(v0,"3.3.0","esm2017")}();class mp{constructor(e){this._delegate=e}static fromBase64String(e){return Dm(),new mp(uo.fromBase64String(e))}static fromUint8Array(e){return gp(),new mp(uo.fromUint8Array(e))}toBase64(){return Dm(),this._delegate.toBase64()}toUint8Array(){return gp(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function yp(n){return function(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of["next","error","complete"])if(r in t&&"function"==typeof t[r])return!0;return!1}(n)}class GD{enableIndexedDbPersistence(e,t){return function(n,e){CD(n=Kt(n,Xn));const t=Nr(n),r=n._freezeSettings(),a=new pv;return wD(t,a,new HR(a,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(n){CD(n=Kt(n,Xn));const e=Nr(n),t=n._freezeSettings(),r=new pv;return wD(e,r,new Rt(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(n){if(n._initialized&&!n._terminated)throw new re(pe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Hr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,_e.Z)(function*(){try{yield(t=(0,_e.Z)(function*(r){if(!Ns.bt())return Promise.resolve();const a=r+"main";yield Ns.delete(a)}),function(r){return t.apply(this,arguments)})(rw(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Am{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof dp||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Sa("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function(n,e,t,r={}){var a;const l=(n=Kt(n,Cv))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&Sa("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let h,y;if("string"==typeof r.mockUserToken)h=r.mockUserToken,y=$r.MOCK_USER;else{h=(0,Gt.Sg)(r.mockUserToken,null===(a=n._app)||void 0===a?void 0:a.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new re(pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new $r(w)}n._credentials=new w_(new bb(h,y))}}(this._delegate,e,t,r)}enableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,_e.Z)(function*(){const e=yield $n(n),t=yield jw(n);return e.setNetworkEnabled(!0),function(r){const a=He(r);return a.Wr.delete(0),Qf(a)}(t)}))}(Nr(n=Kt(n,Xn)))}(this._delegate)}disableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,_e.Z)(function*(){const e=yield $n(n),t=yield jw(n);return e.setNetworkEnabled(!1),(r=(0,_e.Z)(function*(a){const l=He(a);l.Wr.add(0),yield Jf(l),l.Hr.set("Offline")}),function(a){return r.apply(this,arguments)})(t);var r}))}(Nr(n=Kt(n,Xn)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,zw("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(n){return function(e){const t=new Hr;return e.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(n,e){return Nw.apply(this,arguments)}(yield $w(e),t)})),t.promise}(Nr(n=Kt(n,Xn)))}(this._delegate)}onSnapshotsInSync(e){return function(n,e){return function(n,e){const t=new gv(e);return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return r=yield eh(n),a=t,He(r).so.add(a),void a.next();var r,a})),()=>{t.ec(),n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return r=yield eh(n),a=t,void He(r).so.delete(a);var r,a}))}}(Nr(n=Kt(n,Xn)),Kw(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new re("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new dc(this,yD(this._delegate,e))}catch(t){throw Ji(t,"collection()","Firestore.collection()")}}doc(e){try{return new lo(this,Iv(this._delegate,e))}catch(t){throw Ji(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Xi(this,function(n,e){if(n=Kt(n,Cv),vv("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new re(pe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Qi(n,null,(t=e,new Na(Yt.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Ji(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(n,e){return function(n,e){const t=new Hr;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){const r=yield(a=n,_v(a).then(l=>l.datastore));var a;new pD(n.asyncQueue,r,e,t).run()})),t.promise}(Nr(n=Kt(n,Xn)),t=>e(new jD(n,t)))}(this._delegate,t=>e(new qD(this,t)))}batch(){return Nr(this._delegate),new zD(new VD(this._delegate,e=>Gu(this._delegate,e)))}loadBundle(e){return function(n,e){const t=Nr(n=Kt(n,Xn)),r=new ZR;return function(n,e,t,r){const a=function(l,h){let y;return y="string"==typeof l?(new TextEncoder).encode(l):l,w=function(w,T){if(w instanceof Uint8Array)return hD(w,T);if(w instanceof ArrayBuffer)return hD(new Uint8Array(w),T);if(w instanceof ReadableStream)return w.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(y),new fD(w,h);var w}(t,pm(e));n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){!function(n,e,t){const r=He(n);var a;(a=(0,_e.Z)(function*(l,h,y){try{const w=yield h.getMetadata();if(yield function(B,q){const X=He(B),Ee=Gr(q.createTime);return X.persistence.runTransaction("hasNewerBundle","readonly",xe=>X.Je.getBundleMetadata(xe,q.id)).then(xe=>!!xe&&xe.createTime.compareTo(Ee)>=0)}(l.localStore,w))return yield h.close(),void y._completeWith((B=w,{taskState:"Success",documentsLoaded:B.totalDocuments,bytesLoaded:B.totalBytes,totalDocuments:B.totalDocuments,totalBytes:B.totalBytes}));y._updateProgress(ym(w));const T=new OR(w,l.localStore,h.N);let R=yield h.zo();for(;R;){const B=yield T.mo(R);B&&y._updateProgress(B),R=yield h.zo()}const x=yield T.complete();yield oo(l,x.En,void 0),yield function(B,q){const X=He(B);return X.persistence.runTransaction("Save bundle","readwrite",Ee=>X.Je.saveBundleMetadata(Ee,q))}(l.localStore,w),y._completeWith(x.progress)}catch(w){Sa("SyncEngine",`Loading bundle failed with ${w}`),y._failWith(w)}var B}),function(l,h,y){return a.apply(this,arguments)})(r,e,t).then(()=>{r.sharedClientState.notifyBundleLoaded()})}(yield $w(n),a,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function(n,e){return function(n,e){return n.asyncQueue.enqueue((0,_e.Z)(function*(){return function(t,r){const a=He(t);return a.persistence.runTransaction("Get named query","readonly",l=>a.Je.getNamedQuery(l,r))}(yield Os(n),e)}))}(Nr(n=Kt(n,Xn)),e).then(t=>t?new Qi(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Xi(this,t):null)}}class xv extends Tm{constructor(e){super(),this.firestore=e}convertBytes(e){return new mp(new uo(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return lo.forKey(t,this.firestore,null)}}class qD{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new xv(e)}get(e){const t=dh(e);return this._delegate.get(t).then(r=>new zu(this._firestore,new Hu(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const a=dh(e);return r?(di("Transaction.set",r),this._delegate.set(a,t,r)):this._delegate.set(a,t),this}update(e,t,r,...a){const l=dh(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...a),this}delete(e){const t=dh(e);return this._delegate.delete(t),this}}class zD{constructor(e){this._delegate=e}set(e,t,r){const a=dh(e);return r?(di("WriteBatch.set",r),this._delegate.set(a,t,r)):this._delegate.set(a,t),this}update(e,t,r,...a){const l=dh(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...a),this}delete(e){const t=dh(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class cc{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new bm(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new ch(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=cc.INSTANCES;let a=r.get(e);a||(a=new WeakMap,r.set(e,a));let l=a.get(t);return l||(l=new cc(e,new xv(e),t),a.set(t,l)),l}}cc.INSTANCES=new WeakMap;class lo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new xv(e)}static forPath(e,t,r){if(e.length%2!=0)throw new re("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new lo(t,new Hn(t._delegate,r,new rt(e)))}static forKey(e,t,r){return new lo(t,new Hn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new dc(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new dc(this.firestore,yD(this._delegate,e))}catch(t){throw Ji(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Gt.m9)(e))instanceof Hn&&_D(this._delegate,e)}set(e,t){t=di("DocumentReference.set",t);try{return t?rC(this._delegate,e,t):rC(this._delegate,e)}catch(r){throw Ji(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?iC(this._delegate,e):iC(this._delegate,e,t,...r)}catch(a){throw Ji(a,"updateDoc()","DocumentReference.update()")}}delete(){return function(n){return Gu(Kt(n.firestore,Xn),[new Yg(n._key,Yn.none())])}(this._delegate)}onSnapshot(...e){const t=WD(e),r=qu(e,a=>new zu(this.firestore,new Hu(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)));return Mv(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=Kt(n,Hn);const e=Kt(n.firestore,Xn),t=Nr(e),r=new lh(e);return function(n,e){const t=new Hr;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return(r=(0,_e.Z)(function*(a,l,h){try{const y=yield function(w,T){const R=He(w);return R.persistence.runTransaction("read document","readonly",x=>R.Qn.An(x,T))}(a,l);y.isFoundDocument()?h.resolve(y):y.isNoDocument()?h.resolve(null):h.reject(new re(pe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(y){const w=oc(y,`Failed to get document '${l} from cache`);h.reject(w)}}),function(a,l,h){return r.apply(this,arguments)})(yield Os(n),e,t);var r})),t.promise}(t,n._key).then(a=>new Hu(e,r,n._key,a,new oh(null!==a&&a.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=Kt(n,Hn);const e=Kt(n.firestore,Xn);return ac(Nr(e),n._key,{source:"server"}).then(t=>pp(e,n,t))}(this._delegate):function(n){n=Kt(n,Hn);const e=Kt(n.firestore,Xn);return ac(Nr(e),n._key).then(t=>pp(e,n,t))}(this._delegate),t.then(r=>new zu(this.firestore,new Hu(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new lo(this.firestore,this._delegate.withConverter(e?cc.getInstance(this.firestore,e):null))}}function Ji(n,e,t){return n.message=n.message.replace(e,t),n}function WD(n){for(const e of n)if("object"==typeof e&&!yp(e))return e;return{}}function qu(n,e){var t,r;let a;return a=yp(n[0])?n[0]:yp(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{a.next&&a.next(e(l))},error:null===(t=a.error)||void 0===t?void 0:t.bind(a),complete:null===(r=a.complete)||void 0===r?void 0:r.bind(a)}}class zu{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new lo(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return MD(this._delegate,e._delegate)}}class ch extends zu{data(e){const t=this._delegate.data(e);return function(n,e){n||st()}(void 0!==t),t}}class Xi{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new xv(e)}where(e,t,r){try{return new Xi(this.firestore,lc(this._delegate,function(n,e,t){const r=e,a=hp("where",n);return new Si(a,r,t)}(e,t,r)))}catch(a){throw Ji(a,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Xi(this.firestore,lc(this._delegate,function(n,e="asc"){const t=e,r=hp("orderBy",n);return new Wo(r,t)}(e,t)))}catch(r){throw Ji(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Xi(this.firestore,lc(this._delegate,function(n){return wv("limit",n),new OD("limit",n,"F")}(e)))}catch(t){throw Ji(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Xi(this.firestore,lc(this._delegate,function(n){return wv("limitToLast",n),new OD("limitToLast",n,"L")}(e)))}catch(t){throw Ji(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Xi(this.firestore,lc(this._delegate,function(...n){return new kD("startAt",n,!0)}(...e)))}catch(t){throw Ji(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Xi(this.firestore,lc(this._delegate,function(...n){return new kD("startAfter",n,!1)}(...e)))}catch(t){throw Ji(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Xi(this.firestore,lc(this._delegate,function(...n){return new fp("endBefore",n,!0)}(...e)))}catch(t){throw Ji(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Xi(this.firestore,lc(this._delegate,function(...n){return new fp("endAt",n,!1)}(...e)))}catch(t){throw Ji(t,"endAt()","Query.endAt()")}}isEqual(e){return vD(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=Kt(n,Qi);const e=Kt(n.firestore,Xn),t=Nr(e),r=new lh(e);return function(n,e){const t=new Hr;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return(r=(0,_e.Z)(function*(a,l,h){try{const y=yield K_(a,l,!0),w=new ww(l,y.Gn),T=w.bo(y.documents),R=w.applyChanges(T,!1);h.resolve(R.snapshot)}catch(y){const w=oc(y,`Failed to execute query '${l} against cache`);h.reject(w)}}),function(a,l,h){return r.apply(this,arguments)})(yield Os(n),e,t);var r})),t.promise}(t,n._query).then(a=>new uc(e,r,n,a))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=Kt(n,Qi);const e=Kt(n.firestore,Xn),t=Nr(e),r=new lh(e);return Hw(t,n._query,{source:"server"}).then(a=>new uc(e,r,n,a))}(this._delegate):function(n){n=Kt(n,Qi);const e=Kt(n.firestore,Xn),t=Nr(e),r=new lh(e);return tC(n._query),Hw(t,n._query).then(a=>new uc(e,r,n,a))}(this._delegate),t.then(r=>new lC(this.firestore,new uc(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=WD(e),r=qu(e,a=>new lC(this.firestore,new uc(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)));return Mv(this._delegate,t,r)}withConverter(e){return new Xi(this.firestore,this._delegate.withConverter(e?cc.getInstance(this.firestore,e):null))}}class CN{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new ch(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class lC{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Xi(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new ch(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new CN(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new ch(this._firestore,r))})}isEqual(e){return MD(this._delegate,e._delegate)}}class dc extends Xi{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new lo(this.firestore,e):null}doc(e){try{return new lo(this.firestore,void 0===e?Iv(this._delegate):Iv(this._delegate,e))}catch(t){throw Ji(t,"doc()","CollectionReference.doc()")}}add(e){return function(n,e){const t=Kt(n.firestore,Xn),r=Iv(n),a=Nv(n.converter,e);return Gu(t,[Av(nh(n.firestore),"addDoc",r._key,a,null!==n.converter,{}).toMutation(r._key,Yn.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new lo(this.firestore,t))}isEqual(e){return _D(this._delegate,e._delegate)}withConverter(e){return new dc(this.firestore,this._delegate.withConverter(e?cc.getInstance(this.firestore,e):null))}}function dh(n){return Kt(n,Hn)}class Ov{constructor(...e){this._delegate=new $u(...e)}static documentId(){return new Ov(si.keyField().canonicalString())}isEqual(e){return(e=(0,Gt.m9)(e))instanceof $u&&this._delegate._internalPath.isEqual(e._internalPath)}}class hc{constructor(e){this._delegate=e}static serverTimestamp(){const e=new rh("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new hc(e)}static delete(){const e=new Im("deleteField");return e._methodName="FieldValue.delete",new hc(e)}static arrayUnion(...e){const t=function(...n){return new rN("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new hc(t)}static arrayRemove(...e){const t=function(...n){return new iN("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new hc(t)}static increment(e){const t=function(n){return new DD("increment",n)}(e);return t._methodName="FieldValue.increment",new hc(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const IN={Firestore:Am,GeoPoint:Tv,Timestamp:Sr,Blob:mp,Transaction:qD,WriteBatch:zD,DocumentReference:lo,DocumentSnapshot:zu,Query:Xi,QueryDocumentSnapshot:ch,QuerySnapshot:lC,CollectionReference:dc,FieldPath:Ov,FieldValue:hc,setLogLevel:function(n){!function(n){Ou.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function(n){(function(n,e){n.INTERNAL.registerComponent(new ff.wA("firestore-compat",t=>((e,t)=>new Am(e,t,new GD))(t.getProvider("app-compat").getImmediate(),t.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},IN)))})(n),n.registerVersion("@firebase/firestore-compat","0.1.7")}(Un.Z);var Wu=k(3719),fc=k(4763),_p=k(1733);class Pv extends Rn.x{constructor(e=1/0,t=1/0,r=_p.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:a,_timestampProvider:l,_windowTime:h}=this;t||(r.push(e),!a&&r.push(l.now()+h)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:a}=this,l=a.slice();for(let h=0;h<l.length&&!e.closed;h+=r?1:2)e.next(l[h]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:a}=this,l=(a?1:2)*e;if(e<1/0&&l<r.length&&r.splice(0,r.length-l),!a){const h=t.now();let y=0;for(let w=1;w<r.length&&r[w]<=h;w+=2)y=w;y&&r.splice(0,y+1)}}}var vp=k(3174);function KD(n,e,t){var r,a;let l,h=!1;return n&&"object"==typeof n?(l=null!==(r=n.bufferSize)&&void 0!==r?r:1/0,e=null!==(a=n.windowTime)&&void 0!==a?a:1/0,h=!!n.refCount,t=n.scheduler):l=null!=n?n:1/0,(0,vp.B)({connector:()=>new Pv(l,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:h})}function ZD(n,e){return(0,kn.m)(e)?Jr(()=>n,e):Jr(()=>n)}var cC=k(5222);k(7713);const SN=new Map,lx={activated:!1,tokenObservers:[]},cx={initialized:!1,enabled:!1};function es(n){return SN.get(n)||lx}function Zo(n,e){SN.set(n,e)}function gC(){return cx}class o{constructor(e,t,r,a,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=a,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=a,a>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,_e.Z)(function*(){t.stop();try{t.pending=new Gt.BH,yield function(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Gt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const d=new Gt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error."});function v(n){if(!es(n).activated)throw d.create("use-before-activation",{appName:n.name})}function b(n,e){return S.apply(this,arguments)}function S(){return S=(0,_e.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},a=t.getImmediate({optional:!0});a&&(r["X-Firebase-Client"]=a.getPlatformInfoString());const l={method:"POST",body:JSON.stringify(e),headers:r};let h,y;try{h=yield fetch(n,l)}catch(x){throw d.create("fetch-network-error",{originalErrorMessage:x.message})}if(200!==h.status)throw d.create("fetch-status-error",{httpStatus:h.status});try{y=yield h.json()}catch(x){throw d.create("fetch-parse-error",{originalErrorMessage:x.message})}const w=y.ttl.match(/^([\d.]+)(s)$/);if(!w||!w[2]||isNaN(Number(w[1])))throw d.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${y.ttl}`});const T=1e3*Number(w[1]),R=Date.now();return{token:y.attestationToken,expireTimeMillis:R+T,issuedAtTimeMillis:R}}),S.apply(this,arguments)}function U(n,e){const{projectId:t,appId:r,apiKey:a}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${a}`,body:{debug_token:e}}}const Y="firebase-app-check-store";let ve=null;function ot(){return ve||(ve=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var a;e(d.create("storage-open",{originalErrorMessage:null===(a=r.target.error)||void 0===a?void 0:a.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Y,{keyPath:"compositeKey"})}}catch(t){e(d.create("storage-open",{originalErrorMessage:t.message}))}}),ve)}function pc(){return pc=(0,_e.Z)(function*(n,e){const r=(yield ot()).transaction(Y,"readwrite"),l=r.objectStore(Y).put({compositeKey:n,value:e});return new Promise((h,y)=>{l.onsuccess=w=>{h()},r.onerror=w=>{var T;y(d.create("storage-set",{originalErrorMessage:null===(T=w.target.error)||void 0===T?void 0:T.message}))}})}),pc.apply(this,arguments)}const wp=new Da.Yd("@firebase/app-check");function Fv(n,e){return(0,Gt.hl)()?function(n,e){return function(n,e){return pc.apply(this,arguments)}(function(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{wp.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function fx(){return gC().enabled}function px(){return NN.apply(this,arguments)}function NN(){return NN=(0,_e.Z)(function*(){const n=gC();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),NN.apply(this,arguments)}const mP={error:"UNKNOWN_ERROR"};function yP(n){return Gt.US.encodeString(JSON.stringify(n),!1)}function JD(n){return MN.apply(this,arguments)}function MN(){return MN=(0,_e.Z)(function*(n,e=!1){const t=n.app;v(t);const r=es(t);let l,h,a=r.token;if(!a){const y=yield r.cachedTokenPromise;y&&yC(y)&&(a=y,Zo(t,Object.assign(Object.assign({},r),{token:a})),mx(t,{token:a.token}))}if(!e&&a&&yC(a))return{token:a.token};if(fx()){const y=yield b(U(t,yield px()),n.platformLoggerProvider);return yield Fv(t,y),Zo(t,Object.assign(Object.assign({},r),{token:y})),{token:y.token}}try{a=yield r.provider.getToken()}catch(y){wp.error(y),l=y}return a?(h={token:a.token},Zo(t,Object.assign(Object.assign({},r),{token:a})),yield Fv(t,a)):h=vP(l),mx(t,h),h}),MN.apply(this,arguments)}function xN(n,e){const t=es(n),r=t.tokenObservers.filter(a=>a.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Zo(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function mx(n,e){const t=es(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(a){}}function yC(n){return n.expireTimeMillis-Date.now()>0}function vP(n){return{token:yP(mP),error:n}}class EP{constructor(e,t){this.app=e,this.platformLoggerProvider=t}_delete(){const{tokenObservers:e}=es(this.app);for(const t of e)xN(this.app,t.next);return Promise.resolve()}}const Cx="app-check-internal";(0,Wi._registerComponent)(new ff.wA("app-check",n=>function(n,e){return new EP(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Cx).initialize()})),(0,Wi._registerComponent)(new ff.wA(Cx,n=>function(n){return{getToken:e=>JD(n,e),addTokenListener:e=>function(n,e,t,r){const{app:a}=n,l=es(a),h={next:t,error:r,type:e},y=Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,h]});if(!y.tokenRefresher){const w=function(n){const{app:e}=n;return new o((0,_e.Z)(function*(){let r;if(r=es(e).token?yield JD(n,!0):yield JD(n),r.error)throw r.error}),()=>!0,()=>{const t=es(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n);y.tokenRefresher=w}if(!y.tokenRefresher.isRunning()&&l.isTokenAutoRefreshEnabled&&y.tokenRefresher.start(),l.token&&yC(l.token)){const w=l.token;Promise.resolve().then(()=>t({token:w.token})).catch(()=>{})}else null==l.token&&l.cachedTokenPromise.then(w=>{w&&yC(w)&&t({token:w.token})}).catch(()=>{});Zo(a,y)}(n,"INTERNAL",e),removeTokenListener:e=>xN(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Wi.registerVersion)("@firebase/app-check","0.5.1");class FN{constructor(){return(0,ni.vb)("app-check")}}"undefined"!=typeof window&&window;var UP=k(7892);const bx=new p.OlP("angularfire2.auth.use-emulator"),Tx=new p.OlP("angularfire2.auth.settings"),Dx=new p.OlP("angularfire2.auth.tenant-id"),Ax=new p.OlP("angularfire2.auth.langugage-code"),Sx=new p.OlP("angularfire2.auth.use-device-language"),Rx=new p.OlP("angularfire.auth.persistence"),Nx=(n,e,t,r,a,l,h,y)=>(0,Lo.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const w=e.runOutsideAngular(()=>n.auth());if(t&&w.useEmulator(...t),r&&(w.tenantId=r),w.languageCode=a,l&&w.useDeviceLanguage(),h)for(const[T,R]of Object.entries(h))w.settings[T]=R;return y&&w.setPersistence(y),w},[t,r,a,l,h,y]);let Mx=(()=>{class n{constructor(t,r,a,l,h,y,w,T,R,x,B,q){const X=new Rn.x,Ee=pt(void 0).pipe((0,fc.Q)(h.outsideAngular),Jr(()=>l.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,9777)))),(0,ht.U)(()=>(0,Lo.on)(t,l,r)),(0,ht.U)(xe=>Nx(xe,l,y,T,R,x,w,B)),KD({bufferSize:1,refCount:!1}));if(Ir(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=pt(null);else{Ee.pipe(ls()).subscribe();const at=Ee.pipe(Jr(gt=>gt.getRedirectResult().then(vn=>vn,()=>null)),ni.iC,KD({bufferSize:1,refCount:!1})),wt=Ee.pipe(Jr(gt=>new Pn.y(vn=>({unsubscribe:l.runOutsideAngular(()=>gt.onAuthStateChanged(dr=>vn.next(dr),dr=>vn.error(dr),()=>vn.complete()))})))),jt=Ee.pipe(Jr(gt=>new Pn.y(vn=>({unsubscribe:l.runOutsideAngular(()=>gt.onIdTokenChanged(dr=>vn.next(dr),dr=>vn.error(dr),()=>vn.complete()))}))));this.authState=at.pipe(ZD(wt),(0,cC.R)(h.outsideAngular),(0,fc.Q)(h.insideAngular)),this.user=at.pipe(ZD(jt),(0,cC.R)(h.outsideAngular),(0,fc.Q)(h.insideAngular)),this.idToken=this.user.pipe(Jr(gt=>gt?(0,An.D)(gt.getIdToken()):pt(null))),this.idTokenResult=this.user.pipe(Jr(gt=>gt?(0,An.D)(gt.getIdTokenResult()):pt(null))),this.credential=(0,Wu.T)(at,X,this.authState.pipe(Do(gt=>!gt))).pipe((0,ht.U)(gt=>(null==gt?void 0:gt.user)?gt:null),(0,cC.R)(h.outsideAngular),(0,fc.Q)(h.insideAngular))}return(0,Lo.pX)(this,Ee,l,{spy:{apply:(xe,at,wt)=>{(xe.startsWith("signIn")||xe.startsWith("createUser"))&&wt.then(jt=>X.next(jt))}}})}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(Lo.Dh),p.LFG(Lo.xv,8),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(ni.HU),p.LFG(bx,8),p.LFG(Tx,8),p.LFG(Dx,8),p.LFG(Ax,8),p.LFG(Sx,8),p.LFG(Rx,8),p.LFG(FN,8))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function xx(n,e){return function(n,e=QA.z){return new Pn.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function VN(n,e){return xx(n,e).pipe((0,ht.U)(t=>({payload:t,type:"query"})))}function eA(n,e){return VN(n,e).pipe(hu(void 0),ME(),(0,ht.U)(([t,r])=>{const a=r.payload.docChanges(),l=a.map(h=>({type:h.type,payload:h}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((h,y)=>{const w=a.find(R=>R.doc.ref.isEqual(h.ref)),T=null==t?void 0:t.payload.docs.find(R=>R.ref.isEqual(h.ref));w&&JSON.stringify(w.doc.metadata)===JSON.stringify(h.metadata)||!w&&T&&JSON.stringify(T.metadata)===JSON.stringify(h.metadata)||l.push({type:"modified",payload:{oldIndex:y,newIndex:y,type:"modified",doc:h}})}),l}))}function Ox(n,e,t){return eA(n,t).pipe(vl((r,a)=>function(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return UN(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return UN(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return UN(n,e.oldIndex,1)}return n}(n,r))}),n}(r,a.map(l=>l.payload),e),[]),function(n,e=uu.y){return n=null!=n?n:RM,(0,Lr.e)((t,r)=>{let a,l=!0;t.subscribe(new Pt.Q(r,h=>{const y=e(h);(l||!n(a,y))&&(l=!1,a=y,r.next(h))}))})}(),(0,ht.U)(r=>r.map(a=>({type:a.type,payload:a}))))}function UN(n,e,t,...r){const a=n.slice();return a.splice(e,t,...r),a}function Px(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class kx{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=eA(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,ht.U)(r=>r.filter(a=>e.indexOf(a.type)>-1)))),t.pipe(hu(void 0),ME(),Do(([r,a])=>a.length>0||!r),(0,ht.U)(([r,a])=>a),ni.iC)}auditTrail(e){return this.stateChanges(e).pipe(vl((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=Px(e);return Ox(this.query,t,this.afs.schedulers.outsideAngular).pipe(ni.iC)}valueChanges(e={}){return VN(this.query,this.afs.schedulers.outsideAngular).pipe((0,ht.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),ni.iC)}get(e){return(0,An.D)(this.query.get(e)).pipe(ni.iC)}add(e){return this.ref.add(e)}doc(e){return new Fx(this.ref.doc(e),this.afs)}}class Fx{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:a,query:l}=Ux(r,t);return new kx(a,l,this.afs)}snapshotChanges(){return function(n,e){return xx(n,e).pipe(hu(void 0),ME(),(0,ht.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ni.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,ht.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,An.D)(this.ref.get(e)).pipe(ni.iC)}}class qP{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?eA(this.query,this.afs.schedulers.outsideAngular).pipe((0,ht.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Do(t=>t.length>0),ni.iC):eA(this.query,this.afs.schedulers.outsideAngular).pipe(ni.iC)}auditTrail(e){return this.stateChanges(e).pipe(vl((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=Px(e);return Ox(this.query,t,this.afs.schedulers.outsideAngular).pipe(ni.iC)}valueChanges(e={}){return VN(this.query,this.afs.schedulers.outsideAngular).pipe((0,ht.U)(r=>r.payload.docs.map(a=>e.idField?Object.assign({[e.idField]:a.id},a.data()):a.data())),ni.iC)}get(e){return(0,An.D)(this.query.get(e)).pipe(ni.iC)}}const Lx=new p.OlP("angularfire2.enableFirestorePersistence"),Vx=new p.OlP("angularfire2.firestore.persistenceSettings"),zP=new p.OlP("angularfire2.firestore.settings"),WP=new p.OlP("angularfire2.firestore.use-emulator");function Ux(n,e=(t=>t)){return{query:e(n),ref:n}}let Bx=(()=>{class n{constructor(t,r,a,l,h,y,w,T,R,x,B,q,X,Ee,xe,at,wt){this.schedulers=w;const jt=(0,Lo.on)(t,y,r),gt=R;x&&Nx(jt,y,B,X,Ee,xe,q,at),[this.firestore,this.persistenceEnabled$]=(0,Lo.cc)(`${jt.name}.firestore`,"AngularFirestore",jt.name,()=>{const vn=y.runOutsideAngular(()=>jt.firestore());if(l&&vn.settings(l),gt&&vn.useEmulator(...gt),a&&!Ir(h)){const dr=()=>{try{return(0,An.D)(vn.enablePersistence(T||void 0).then(()=>!0,()=>!1))}catch(ts){return"undefined"!=typeof console&&console.warn(ts),pt(!1)}};return[vn,y.runOutsideAngular(dr)]}return[vn,pt(!1)]},[l,gt,a])}collection(t,r){let a;a="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:h}=Ux(a,r),y=this.schedulers.ngZone.run(()=>l);return new kx(y,h,this)}collectionGroup(t,r){const a=r||(h=>h),l=this.firestore.collectionGroup(t);return new qP(a(l),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const a=this.schedulers.ngZone.run(()=>r);return new Fx(a,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(Lo.Dh),p.LFG(Lo.xv,8),p.LFG(Lx,8),p.LFG(zP,8),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(ni.HU),p.LFG(Vx,8),p.LFG(WP,8),p.LFG(Mx,8),p.LFG(bx,8),p.LFG(Tx,8),p.LFG(Dx,8),p.LFG(Ax,8),p.LFG(Sx,8),p.LFG(Rx,8),p.LFG(FN,8))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),KP=(()=>{class n{constructor(){UP.Z.registerVersion("angularfire",ni.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:Lx,useValue:!0},{provide:Vx,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({providers:[Bx]}),n})(),jx=(()=>{class n{constructor(t){this.firestore=t}agregarUsuario(t){return this.firestore.collection("usuarios").add(t)}getUsuarios(){return this.firestore.collection("usuarios",t=>t.orderBy("fechaCreacion","asc")).snapshotChanges()}eliminarUsuario(t){return this.firestore.collection("usuarios").doc(t).delete()}getUsuario(t){return this.firestore.collection("usuarios").doc(t).snapshotChanges()}actualizarUsuario(t,r){return this.firestore.collection("usuarios").doc(t).update(r)}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(Bx))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class $x{}const ph="*";function YP(n,e){return{type:7,name:n,definitions:e,options:{}}}function Hx(n,e=null){return{type:4,styles:e,timings:n}}function Gx(n,e=null){return{type:2,steps:n,options:e}}function _C(n){return{type:6,styles:n,offset:null}}function BN(n,e,t){return{type:0,name:n,styles:e,options:t}}function qx(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function zx(n){Promise.resolve(null).then(n)}class Lv{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){zx(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Wx{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,a=0;const l=this.players.length;0==l?zx(()=>this._onFinish()):this.players.forEach(h=>{h.onDone(()=>{++t==l&&this._onFinish()}),h.onDestroy(()=>{++r==l&&this._onDestroy()}),h.onStart(()=>{++a==l&&this._onStart()})}),this.totalTime=this.players.reduce((h,y)=>Math.max(h,y.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const a=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(a)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const Kx=["toast-component",""];function QP(n,e){if(1&n){const t=p.EpF();p.TgZ(0,"button",5),p.NdJ("click",function(){return p.CHM(t),p.oxw().remove()}),p.TgZ(1,"span",6),p._uU(2,"\xd7"),p.qZA(),p.qZA()}}function JP(n,e){if(1&n&&(p.ynx(0),p._uU(1),p.BQk()),2&n){const t=p.oxw(2);p.xp6(1),p.hij("[",t.duplicatesCount+1,"]")}}function XP(n,e){if(1&n&&(p.TgZ(0,"div"),p._uU(1),p.YNc(2,JP,2,1,"ng-container",4),p.qZA()),2&n){const t=p.oxw();p.Tol(t.options.titleClass),p.uIk("aria-label",t.title),p.xp6(1),p.hij(" ",t.title," "),p.xp6(1),p.Q6J("ngIf",t.duplicatesCount)}}function e1(n,e){if(1&n&&p._UZ(0,"div",7),2&n){const t=p.oxw();p.Tol(t.options.messageClass),p.Q6J("innerHTML",t.message,p.oJD)}}function t1(n,e){if(1&n&&(p.TgZ(0,"div",8),p._uU(1),p.qZA()),2&n){const t=p.oxw();p.Tol(t.options.messageClass),p.uIk("aria-label",t.message),p.xp6(1),p.hij(" ",t.message," ")}}function n1(n,e){if(1&n&&(p.TgZ(0,"div"),p._UZ(1,"div",9),p.qZA()),2&n){const t=p.oxw();p.xp6(1),p.Udp("width",t.width+"%")}}function r1(n,e){if(1&n){const t=p.EpF();p.TgZ(0,"button",5),p.NdJ("click",function(){return p.CHM(t),p.oxw().remove()}),p.TgZ(1,"span",6),p._uU(2,"\xd7"),p.qZA(),p.qZA()}}function i1(n,e){if(1&n&&(p.ynx(0),p._uU(1),p.BQk()),2&n){const t=p.oxw(2);p.xp6(1),p.hij("[",t.duplicatesCount+1,"]")}}function s1(n,e){if(1&n&&(p.TgZ(0,"div"),p._uU(1),p.YNc(2,i1,2,1,"ng-container",4),p.qZA()),2&n){const t=p.oxw();p.Tol(t.options.titleClass),p.uIk("aria-label",t.title),p.xp6(1),p.hij(" ",t.title," "),p.xp6(1),p.Q6J("ngIf",t.duplicatesCount)}}function o1(n,e){if(1&n&&p._UZ(0,"div",7),2&n){const t=p.oxw();p.Tol(t.options.messageClass),p.Q6J("innerHTML",t.message,p.oJD)}}function a1(n,e){if(1&n&&(p.TgZ(0,"div",8),p._uU(1),p.qZA()),2&n){const t=p.oxw();p.Tol(t.options.messageClass),p.uIk("aria-label",t.message),p.xp6(1),p.hij(" ",t.message," ")}}function u1(n,e){if(1&n&&(p.TgZ(0,"div"),p._UZ(1,"div",9),p.qZA()),2&n){const t=p.oxw();p.xp6(1),p.Udp("width",t.width+"%")}}class l1{constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class tA{constructor(e,t,r,a,l,h){this.toastId=e,this.config=t,this.message=r,this.title=a,this.toastType=l,this.toastRef=h,this._onTap=new Rn.x,this._onAction=new Rn.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const Zx={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null},Yx=new p.OlP("ToastConfig");class d1{constructor(e){this._overlayRef=e,this.duplicatesCount=0,this._afterClosed=new Rn.x,this._activate=new Rn.x,this._manualClose=new Rn.x,this._resetTimeout=new Rn.x,this._countDuplicate=new Rn.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}class h1{constructor(e,t){this._toastPackage=e,this._parentInjector=t}get(e,t,r){return e===tA?this._toastPackage:this._parentInjector.get(e,t,r)}}class f1 extends class{attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}{constructor(e,t,r){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=r}attachComponentPortal(e,t){const r=this._componentFactoryResolver.resolveComponentFactory(e.component);let a;return a=r.create(e.injector),this._appRef.attachView(a.hostView),this.setDisposeFn(()=>{this._appRef.detachView(a.hostView),a.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(a),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(a)),a}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}class p1{constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}}let g1=(()=>{class n{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),this._document.body.appendChild(t),this._containerElement=t}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(ie))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),m1=(()=>{class n{constructor(t,r,a,l){this._overlayContainer=t,this._componentFactoryResolver=r,this._appRef=a,this._document=l,this._paneElements=new Map}create(t,r){return this._createOverlayRef(this.getPaneElement(t,r))}getPaneElement(t="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[t]||(this._paneElements.get(r)[t]=this._createPaneElement(t,r)),this._paneElements.get(r)[t]}_createPaneElement(t,r){const a=this._document.createElement("div");return a.id="toast-container",a.classList.add(t),a.classList.add("toast-container"),r?r.getContainerElement().appendChild(a):this._overlayContainer.getContainerElement().appendChild(a),a}_createPortalHost(t){return new f1(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new p1(this._createPortalHost(t))}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(g1),p.LFG(p._Vd),p.LFG(p.z2F),p.LFG(ie))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nA=(()=>{class n{constructor(t,r,a,l,h){this.overlay=r,this._injector=a,this.sanitizer=l,this.ngZone=h,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Qe(Qe({},t.default),t.config),t.config.iconClasses&&(this.toastrConfig.iconClasses=Qe(Qe({},t.default.iconClasses),t.config.iconClasses))}show(t,r,a={},l=""){return this._preBuildNotification(l,t,r,this.applyConfig(a))}success(t,r,a={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,r,this.applyConfig(a))}error(t,r,a={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,r,this.applyConfig(a))}info(t,r,a={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,r,this.applyConfig(a))}warning(t,r,a={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,r,this.applyConfig(a))}clear(t){for(const r of this.toasts)if(void 0!==t){if(r.toastId===t)return void r.toastRef.manualClose()}else r.toastRef.manualClose()}remove(t){const r=this._findToast(t);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const a=this.toasts[this.currentlyActive].toastRef;a.isInactive()||(this.currentlyActive=this.currentlyActive+1,a.activate())}return!0}findDuplicate(t="",r="",a,l){const{includeTitleDuplicates:h}=this.toastrConfig;for(const y of this.toasts){const w=h&&y.title===t;if((!h||w)&&y.message===r)return y.toastRef.onDuplicate(a,l),y}return null}applyConfig(t={}){return Qe(Qe({},this.toastrConfig),t)}_findToast(t){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===t)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(t,r,a,l){return l.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,r,a,l)):this._buildNotification(t,r,a,l)}_buildNotification(t,r,a,l){if(!l.toastComponent)throw new Error("toastComponent required");const h=this.findDuplicate(a,r,this.toastrConfig.resetTimeoutOnDuplicate&&l.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&a||r)&&this.toastrConfig.preventDuplicates&&null!==h)return h;this.previousToastMessage=r;let y=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(y=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const w=this.overlay.create(l.positionClass,this.overlayContainer);this.index=this.index+1;let T=r;r&&l.enableHtml&&(T=this.sanitizer.sanitize(p.q3G.HTML,r));const R=new d1(w),x=new tA(this.index,l,T,a,t,R),B=new h1(x,this._injector),q=new l1(l.toastComponent,B),X=w.attach(q,this.toastrConfig.newestOnTop);R.componentInstance=X.instance;const Ee={toastId:this.index,title:a||"",message:r||"",toastRef:R,onShown:R.afterActivate(),onHidden:R.afterClosed(),onTap:x.onTap(),onAction:x.onAction(),portal:X};return y||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{Ee.toastRef.activate()})),this.toasts.push(Ee),Ee}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(Yx),p.LFG(m1),p.LFG(p.zs3),p.LFG(ha),p.LFG(p.R0b))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),y1=(()=>{class n{constructor(t,r,a){this.toastrService=t,this.toastPackage=r,this.ngZone=a,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(l=>{this.duplicatesCount=l})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=hr(Qe({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=hr(Qe({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=hr(Qe({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),r)):this.timeout=setTimeout(()=>t(),r)}outsideInterval(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),r)):this.intervalId=setInterval(()=>t(),r)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(nA),p.Y36(tA),p.Y36(p.R0b))},n.\u0275cmp=p.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,r){1&t&&p.NdJ("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&t&&(p.d8E("@flyInOut",r.state),p.Tol(r.toastClasses),p.Udp("display",r.displayStyle))},attrs:Kx,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alertdialog","aria-live","polite",3,"innerHTML"],["role","alertdialog","aria-live","polite"],[1,"toast-progress"]],template:function(t,r){1&t&&(p.YNc(0,QP,3,0,"button",0),p.YNc(1,XP,3,5,"div",1),p.YNc(2,e1,1,3,"div",2),p.YNc(3,t1,2,4,"div",3),p.YNc(4,n1,2,2,"div",4)),2&t&&(p.Q6J("ngIf",r.options.closeButton),p.xp6(1),p.Q6J("ngIf",r.title),p.xp6(1),p.Q6J("ngIf",r.message&&r.options.enableHtml),p.xp6(1),p.Q6J("ngIf",r.message&&!r.options.enableHtml),p.xp6(1),p.Q6J("ngIf",r.options.progressBar))},directives:[ki],encapsulation:2,data:{animation:[YP("flyInOut",[BN("inactive",_C({opacity:0})),BN("active",_C({opacity:1})),BN("removed",_C({opacity:0})),qx("inactive => active",Hx("{{ easeTime }}ms {{ easing }}")),qx("active => removed",Hx("{{ easeTime }}ms {{ easing }}"))])]}}),n})();const _1=hr(Qe({},Zx),{toastComponent:y1});let v1=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[{provide:Yx,useValue:{default:_1,config:t}}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({imports:[[Xu]]}),n})(),E1=(()=>{class n{constructor(t,r,a){this.toastrService=t,this.toastPackage=r,this.appRef=a,this.width=-1,this.toastClasses="",this.state="inactive",this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(l=>{this.duplicatesCount=l})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(!0===this.options.disableTimeOut||"timeOut"===this.options.disableTimeOut)&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(nA),p.Y36(tA),p.Y36(p.z2F))},n.\u0275cmp=p.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(t,r){1&t&&p.NdJ("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&t&&(p.Tol(r.toastClasses),p.Udp("display",r.displayStyle))},attrs:Kx,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alert","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert","aria-live","polite",3,"innerHTML"],["role","alert","aria-live","polite"],[1,"toast-progress"]],template:function(t,r){1&t&&(p.YNc(0,r1,3,0,"button",0),p.YNc(1,s1,3,5,"div",1),p.YNc(2,o1,1,3,"div",2),p.YNc(3,a1,2,4,"div",3),p.YNc(4,u1,2,2,"div",4)),2&t&&(p.Q6J("ngIf",r.options.closeButton),p.xp6(1),p.Q6J("ngIf",r.title),p.xp6(1),p.Q6J("ngIf",r.message&&r.options.enableHtml),p.xp6(1),p.Q6J("ngIf",r.message&&!r.options.enableHtml),p.xp6(1),p.Q6J("ngIf",r.options.progressBar))},directives:[ki],encapsulation:2}),n})();function w1(n,e){1&n&&(p.TgZ(0,"div",16),p.TgZ(1,"span",17),p._uU(2,"Loading..."),p.qZA(),p.qZA())}function C1(n,e){1&n&&(p.TgZ(0,"div",18),p._uU(1," Todos los campos son obligatorios, por favor intenta nuevamente "),p.qZA())}hr(Qe({},Zx),{toastComponent:E1});let Qx=(()=>{class n{constructor(t,r,a,l,h){this.fb=t,this._usuarioService=r,this.router=a,this.toastr=l,this.aRoute=h,this.submitted=!1,this.loading=!1,this.titulo="Agregar Usuario",this.createUsuario=this.fb.group({nombre:["",Dy.required],apellido:["",Dy.required],documento:["",Dy.required],salario:["",Dy.required]}),this.id=this.aRoute.snapshot.paramMap.get("id")}ngOnInit(){this.esEditar()}agregarEditarUsuario(){this.submitted=!0,!this.createUsuario.invalid&&(null===this.id?this.agregarUsuario():this.editarUsuario(this.id))}agregarUsuario(){const t={nombre:this.createUsuario.value.nombre,apellido:this.createUsuario.value.apellido,documento:this.createUsuario.value.documento,salario:this.createUsuario.value.salario,fechaCreacion:new Date,fechaActualizaci\u00f3n:new Date};this.loading=!0,this._usuarioService.agregarUsuario(t).then(()=>{this.toastr.success("El registro fue guardado con exito!","Usuario registrado!",{positionClass:"toast-bottom-right"}),this.loading=!1,this.router.navigate(["/list-usuarios"])}).catch(r=>{console.log(r),this.loading=!1})}editarUsuario(t){const r={nombre:this.createUsuario.value.nombre,apellido:this.createUsuario.value.apellido,documento:this.createUsuario.value.documento,salario:this.createUsuario.value.salario,fechaActualizaci\u00f3n:new Date};this.loading=!0,this._usuarioService.actualizarUsuario(t,r).then(()=>{this.loading=!1,this.toastr.info("El usuario fue modificado con exito","Usuario Modificado",{positionClass:"toast-bottom-right"}),this.router.navigate(["/list-usuarios"])})}esEditar(){null!==this.id&&(this.loading=!1,this.titulo="Editar Usuario",this._usuarioService.getUsuario(this.id).subscribe(t=>{this.createUsuario.setValue({nombre:t.payload.data().nombre,apellido:t.payload.data().apellido,documento:t.payload.data().documento,salario:t.payload.data().salario})}))}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(YA),p.Y36(jx),p.Y36(Vn),p.Y36(nA),p.Y36(Br))},n.\u0275cmp=p.Xpm({type:n,selectors:[["app-create-usuarios"]],decls:22,vars:4,consts:[[1,"container","pt-4"],[1,"row"],[1,"col-lg-6","offset-lg-3"],[1,"card","text-center"],[1,"card-body"],["class","spinner-border float-end","role","status",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"col"],["type","text","formControlName","nombre","placeholder","Nombre",1,"form-control","form-control-lg"],["type","text","formControlName","apellido","placeholder","Apellido",1,"form-control","form-control-lg"],["type","text","formControlName","documento","placeholder","Documento",1,"form-control","form-control-lg","mt-3"],["type","number","formControlName","salario","placeholder","Salario",1,"form-control","form-control-lg","mt-3"],[1,"mt-3"],["type","text","routerLink","list-usuarios",1,"btn","btn-secondary","btn-lg","me-3"],["type","submit",1,"btn","btn-success","btn-lg"],["class","alert alert-danger mt-3","role","alert",4,"ngIf"],["role","status",1,"spinner-border","float-end"],[1,"visually-hidden"],["role","alert",1,"alert","alert-danger","mt-3"]],template:function(t,r){1&t&&(p.TgZ(0,"div",0),p.TgZ(1,"div",1),p.TgZ(2,"div",2),p.TgZ(3,"div",3),p.TgZ(4,"div",4),p.TgZ(5,"h3"),p._uU(6),p.YNc(7,w1,3,0,"div",5),p.qZA(),p.TgZ(8,"form",6),p.NdJ("ngSubmit",function(){return r.agregarEditarUsuario()}),p.TgZ(9,"div",1),p.TgZ(10,"div",7),p._UZ(11,"input",8),p.qZA(),p.TgZ(12,"div",7),p._UZ(13,"input",9),p.qZA(),p.qZA(),p._UZ(14,"input",10),p._UZ(15,"input",11),p.TgZ(16,"div",12),p.TgZ(17,"button",13),p._uU(18,"Cancelar"),p.qZA(),p.TgZ(19,"button",14),p._uU(20,"Guardar"),p.qZA(),p.qZA(),p.qZA(),p.YNc(21,C1,2,0,"div",15),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&t&&(p.xp6(6),p.hij("",r.titulo," "),p.xp6(1),p.Q6J("ngIf",r.loading),p.xp6(1),p.Q6J("formGroup",r.createUsuario),p.xp6(13),p.Q6J("ngIf",r.submitted&&r.createUsuario.invalid))},directives:[ki,QC,xy,yg,Ty,jC,df,EE,Tu],styles:[""]}),n})();const I1=function(n){return["/editUsuario/",n]};function b1(n,e){if(1&n){const t=p.EpF();p.TgZ(0,"tr"),p.TgZ(1,"td"),p._uU(2),p.qZA(),p.TgZ(3,"td"),p._uU(4),p.qZA(),p.TgZ(5,"td"),p._uU(6),p.ALo(7,"currency"),p.qZA(),p.TgZ(8,"td"),p._uU(9),p.qZA(),p.TgZ(10,"td"),p._UZ(11,"i",11),p.TgZ(12,"i",12),p.NdJ("click",function(){const l=p.CHM(t).$implicit;return p.oxw(2).eliminarUsuario(l.id)}),p.qZA(),p.qZA(),p.qZA()}if(2&n){const t=e.$implicit;p.xp6(2),p.Oqu(t.nombre),p.xp6(2),p.Oqu(t.apellido),p.xp6(2),p.Oqu(p.lcZ(7,5,t.salario)),p.xp6(3),p.Oqu(t.documento),p.xp6(2),p.Q6J("routerLink",p.VKq(7,I1,t.id))}}function T1(n,e){if(1&n&&(p.TgZ(0,"table",8),p.TgZ(1,"thead"),p.TgZ(2,"tr"),p.TgZ(3,"th",9),p._uU(4,"Nombre"),p.qZA(),p.TgZ(5,"th",9),p._uU(6,"Apellido"),p.qZA(),p.TgZ(7,"th",9),p._uU(8,"Salario"),p.qZA(),p.TgZ(9,"th",9),p._uU(10,"Documento"),p.qZA(),p.TgZ(11,"th",9),p._uU(12,"Acciones"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(13,"tbody"),p.YNc(14,b1,13,9,"tr",10),p.qZA(),p.qZA()),2&n){const t=p.oxw();p.xp6(14),p.Q6J("ngForOf",t.usuarios)}}function D1(n,e){1&n&&(p.TgZ(0,"div",13),p._UZ(1,"img",14),p.TgZ(2,"div",15),p.TgZ(3,"strong"),p._uU(4,"Ups..!, No hay usuarios registrados"),p.qZA(),p.qZA(),p.qZA())}const A1=[{path:"",redirectTo:"list-usuarios",pathMatch:"full"},{path:"list-usuarios",component:(()=>{class n{constructor(t,r){this._usuarioService=t,this.toastr=r,this.usuarios=[]}ngOnInit(){this.getUsuarios()}getUsuarios(){this._usuarioService.getUsuarios().subscribe(t=>{this.usuarios=[],t.forEach(r=>{this.usuarios.push(Object.assign({id:r.payload.doc.id},r.payload.doc.data()))})})}eliminarUsuario(t){this._usuarioService.eliminarUsuario(t).then(()=>{this.toastr.error("El registro fue eliminado con exito!","Usuario Eliminado!",{positionClass:"toast-bottom-right"})}).catch(r=>{console.log(r)})}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(jx),p.Y36(nA))},n.\u0275cmp=p.Xpm({type:n,selectors:[["app-list-usuarios"]],decls:10,vars:2,consts:[[1,"container","mt-4"],[1,"card"],[1,"card-body"],[1,"h3"],["routerLink","/create-usuarios",1,"btn","btn-dark","btn-lg","float-end"],[1,"fas","fa-user-plus"],["class","table  table-striped mt-2",4,"ngIf"],["class","text-center mt-4",4,"ngIf"],[1,"table","table-striped","mt-2"],["scope","col"],[4,"ngFor","ngForOf"],[1,"fas","fa-edit","fa-lg","text-info","me-4",3,"routerLink"],[1,"fas","fa-trash","fa-lg","text-danger",3,"click"],[1,"text-center","mt-4"],["src","../../../assets/user.svg","alt","",1,"w-50","m-auto"],["role","alert",1,"alert","alert-warning","mt-5"]],template:function(t,r){1&t&&(p.TgZ(0,"div",0),p.TgZ(1,"div",1),p.TgZ(2,"div",2),p.TgZ(3,"span",3),p._uU(4,"Listado de Usuarios"),p.qZA(),p.TgZ(5,"button",4),p._uU(6,"Agregar "),p._UZ(7,"i",5),p.qZA(),p.YNc(8,T1,15,1,"table",6),p.YNc(9,D1,5,0,"div",7),p.qZA(),p.qZA(),p.qZA()),2&t&&(p.xp6(8),p.Q6J("ngIf",r.usuarios.length>0),p.xp6(1),p.Q6J("ngIf",0==r.usuarios.length))},directives:[Tu,ki,Ga],pipes:[Li],styles:["i[_ngcontent-%COMP%]{cursor:pointer}"]}),n})()},{path:"create-usuarios",component:Qx},{path:"editUsuario/:id",component:Qx},{path:"**",redirectTo:"list-usuarios",pathMatch:"full"}];let S1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({imports:[[ug.forRoot(A1)],ug]}),n})(),R1=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=p.Xpm({type:n,selectors:[["app-navbar"]],decls:8,vars:0,consts:[[1,"navbar","navbar-dark","bg-dark"],[1,"container-fluid"],["routerLink","/",1,"navbar-brand","mb-0","h1"],[1,"text-white"],["href","http://twitter.com/faberordonez1",1,"text-info"]],template:function(t,r){1&t&&(p.TgZ(0,"nav",0),p.TgZ(1,"div",1),p.TgZ(2,"span",2),p._uU(3,"Usuarios"),p.qZA(),p.TgZ(4,"p",3),p._uU(5,"Coded by "),p.TgZ(6,"a",4),p._uU(7,"Faber Ordo\xf1ez"),p.qZA(),p.qZA(),p.qZA(),p.qZA())},directives:[Tu],styles:[""]}),n})(),N1=(()=>{class n{constructor(){this.title="usuarios"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=p.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(t,r){1&t&&(p._UZ(0,"app-navbar"),p._UZ(1,"router-outlet"))},directives:[R1,Wp],styles:[""]}),n})();const Jx_firebase={apiKey:"AIzaSyAhKTQ9xccLRKLV15SZ2DEziNTDH75seFQ",authDomain:"usuarios-e46c2.firebaseapp.com",projectId:"usuarios-e46c2",storageBucket:"usuarios-e46c2.appspot.com",messagingSenderId:"350119008475",appId:"1:350119008475:web:0b8b1625bbd999fb78d4fe"};function Xx(){return"undefined"!=typeof window&&void 0!==window.document}function $N(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Cp(n){switch(n.length){case 0:return new Lv;case 1:return n[0];default:return new Wx(n)}}function eO(n,e,t,r,a={},l={}){const h=[],y=[];let w=-1,T=null;if(r.forEach(R=>{const x=R.offset,B=x==w,q=B&&T||{};Object.keys(R).forEach(X=>{let Ee=X,xe=R[X];if("offset"!==X)switch(Ee=e.normalizePropertyName(Ee,h),xe){case"!":xe=a[X];break;case ph:xe=l[X];break;default:xe=e.normalizeStyleValue(X,Ee,xe,h)}q[Ee]=xe}),B||y.push(q),T=q,w=x}),h.length){const R="\n - ";throw new Error(`Unable to animate due to the following errors:${R}${h.join(R)}`)}return y}function HN(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&GN(t,"start",n)));break;case"done":n.onDone(()=>r(t&&GN(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&GN(t,"destroy",n)))}}function GN(n,e,t){const r=t.totalTime,l=qN(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),h=n._data;return null!=h&&(l._data=h),l}function qN(n,e,t,r,a="",l=0,h){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:a,totalTime:l,disabled:!!h}}function Yo(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function tO(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let zN=(n,e)=>!1,WN=(n,e)=>!1,nO=(n,e,t)=>[];const rO=$N();(rO||"undefined"!=typeof Element)&&(zN=Xx()?(n,e)=>{for(;e&&e!==document.documentElement;){if(e===n)return!0;e=e.parentNode||e.host}return!1}:(n,e)=>n.contains(e),WN=(()=>{if(rO||Element.prototype.matches)return(n,e)=>n.matches(e);{const n=Element.prototype,e=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector;return e?(t,r)=>e.apply(t,[r]):WN}})(),nO=(n,e,t)=>{let r=[];if(t){const a=n.querySelectorAll(e);for(let l=0;l<a.length;l++)r.push(a[l])}else{const a=n.querySelector(e);a&&r.push(a)}return r});let Nm=null,iO=!1;function KN(n){Nm||(Nm=("undefined"!=typeof document?document.body:null)||{},iO=!!Nm.style&&"WebkitAppearance"in Nm.style);let e=!0;return Nm.style&&!function(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Nm.style,!e&&iO&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Nm.style)),e}const ZN=WN,YN=zN,QN=nO;function sO(n){const e={};return Object.keys(n).forEach(t=>{const r=t.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=n[t]}),e}let oO=(()=>{class n{validateStyleProperty(t){return KN(t)}matchesElement(t,r){return ZN(t,r)}containsElement(t,r){return YN(t,r)}query(t,r,a){return QN(t,r,a)}computeStyle(t,r,a){return a||""}animate(t,r,a,l,h,y=[],w){return new Lv(a,l)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})(),JN=(()=>{class n{}return n.NOOP=new oO,n})();const XN="ng-enter",rA="ng-leave",iA="ng-trigger",sA=".ng-trigger",uO="ng-animating",eM=".ng-animating";function Mm(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:tM(parseFloat(e[1]),e[2])}function tM(n,e){return"s"===e?1e3*n:n}function oA(n,e,t){return n.hasOwnProperty("duration")?n:function(n,e,t){let a,l=0,h="";if("string"==typeof n){const y=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===y)return e.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};a=tM(parseFloat(y[1]),y[2]);const w=y[3];null!=w&&(l=tM(parseFloat(w),y[4]));const T=y[5];T&&(h=T)}else a=n;if(!t){let y=!1,w=e.length;a<0&&(e.push("Duration values below 0 are not allowed for this animation step."),y=!0),l<0&&(e.push("Delay values below 0 are not allowed for this animation step."),y=!0),y&&e.splice(w,0,`The provided timing value "${n}" is invalid.`)}return{duration:a,delay:l,easing:h}}(n,e,t)}function Vv(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Ip(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else Vv(n,t);return t}function cO(n,e,t){return t?e+":"+t+";":""}function dO(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=cO(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=cO(0,V1(t),n.style[t]));n.setAttribute("style",e)}function mc(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const a=rM(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[a]),n.style[a]=e[r]}),$N()&&dO(n))}function xm(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=rM(t);n.style[r]=""}),$N()&&dO(n))}function vC(n){return Array.isArray(n)?1==n.length?n[0]:Gx(n):n}const nM=new RegExp("{{\\s*(.+?)\\s*}}","g");function hO(n){let e=[];if("string"==typeof n){let t;for(;t=nM.exec(n);)e.push(t[1]);nM.lastIndex=0}return e}function aA(n,e,t){const r=n.toString(),a=r.replace(nM,(l,h)=>{let y=e[h];return e.hasOwnProperty(h)||(t.push(`Please provide a value for the animation param ${h}`),y=""),y.toString()});return a==r?n:a}function uA(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const L1=/-+([a-z0-9])/g;function rM(n){return n.replace(L1,(...e)=>e[1].toUpperCase())}function V1(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function fO(n,e){return 0===n||0===e}function pO(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let l=e[0],h=[];if(r.forEach(y=>{l.hasOwnProperty(y)||h.push(y),l[y]=t[y]}),h.length)for(var a=1;a<e.length;a++){let y=e[a];h.forEach(function(w){y[w]=iM(n,w)})}}return e}function Qo(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function iM(n,e){return window.getComputedStyle(n)[e]}function U1(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function(n,e,t){if(":"==n[0]){const w=function(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,t);if("function"==typeof w)return void e.push(w);n=w}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(`The provided transition expression "${n}" is not supported`),e;const a=r[1],l=r[2],h=r[3];e.push(gO(a,h));"<"==l[0]&&!("*"==a&&"*"==h)&&e.push(gO(h,a))}(r,t,e)):t.push(n),t}const cA=new Set(["true","1"]),dA=new Set(["false","0"]);function gO(n,e){const t=cA.has(n)||dA.has(n),r=cA.has(e)||dA.has(e);return(a,l)=>{let h="*"==n||n==a,y="*"==e||e==l;return!h&&t&&"boolean"==typeof a&&(h=a?cA.has(n):dA.has(n)),!y&&r&&"boolean"==typeof l&&(y=l?cA.has(e):dA.has(e)),h&&y}}const $1=new RegExp("s*:selfs*,?","g");function sM(n,e,t){return new H1(n).build(e,t)}class H1{constructor(e){this._driver=e}build(e,t){const r=new z1(t);return this._resetContextStyleTimingState(r),Qo(this,vC(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,a=t.depCount=0;const l=[],h=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(y=>{if(this._resetContextStyleTimingState(t),0==y.type){const w=y,T=w.name;T.toString().split(/\s*,\s*/).forEach(R=>{w.name=R,l.push(this.visitState(w,t))}),w.name=T}else if(1==y.type){const w=this.visitTransition(y,t);r+=w.queryCount,a+=w.depCount,h.push(w)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:l,transitions:h,queryCount:r,depCount:a,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),a=e.options&&e.options.params||null;if(r.containsDynamicStyles){const l=new Set,h=a||{};if(r.styles.forEach(y=>{if(hA(y)){const w=y;Object.keys(w).forEach(T=>{hO(w[T]).forEach(R=>{h.hasOwnProperty(R)||l.add(R)})})}}),l.size){const y=uA(l.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${y.join(", ")}`)}}return{type:0,name:e.name,style:r,options:a?{params:a}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Qo(this,vC(e.animation),t);return{type:1,matchers:U1(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Om(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Qo(this,r,t)),options:Om(e.options)}}visitGroup(e,t){const r=t.currentTime;let a=0;const l=e.steps.map(h=>{t.currentTime=r;const y=Qo(this,h,t);return a=Math.max(a,t.currentTime),y});return t.currentTime=a,{type:3,steps:l,options:Om(e.options)}}visitAnimate(e,t){const r=function(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return oM(oA(n,e).duration,0,"");const r=n;if(r.split(/\s+/).some(l=>"{"==l.charAt(0)&&"{"==l.charAt(1))){const l=oM(0,0,"");return l.dynamic=!0,l.strValue=r,l}return t=t||oA(r,e),oM(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let a,l=e.styles?e.styles:_C({});if(5==l.type)a=this.visitKeyframes(l,t);else{let h=e.styles,y=!1;if(!h){y=!0;const T={};r.easing&&(T.easing=r.easing),h=_C(T)}t.currentTime+=r.duration+r.delay;const w=this.visitStyle(h,t);w.isEmptyStep=y,a=w}return t.currentAnimateTimings=null,{type:4,timings:r,style:a,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(h=>{"string"==typeof h?h==ph?r.push(h):t.errors.push(`The provided style string value ${h} is not allowed.`):r.push(h)}):r.push(e.styles);let a=!1,l=null;return r.forEach(h=>{if(hA(h)){const y=h,w=y.easing;if(w&&(l=w,delete y.easing),!a)for(let T in y)if(y[T].toString().indexOf("{{")>=0){a=!0;break}}}),{type:6,styles:r,easing:l,offset:e.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let a=t.currentTime,l=t.currentTime;r&&l>0&&(l-=r.duration+r.delay),e.styles.forEach(h=>{"string"!=typeof h&&Object.keys(h).forEach(y=>{if(!this._driver.validateStyleProperty(y))return void t.errors.push(`The provided animation property "${y}" is not a supported CSS property for animations`);const w=t.collectedStyles[t.currentQuerySelector],T=w[y];let R=!0;T&&(l!=a&&l>=T.startTime&&a<=T.endTime&&(t.errors.push(`The CSS property "${y}" that exists between the times of "${T.startTime}ms" and "${T.endTime}ms" is also being animated in a parallel animation between the times of "${l}ms" and "${a}ms"`),R=!1),l=T.startTime),R&&(w[y]={startTime:l,endTime:a}),t.options&&function(n,e,t){const r=e.params||{},a=hO(n);a.length&&a.forEach(l=>{r.hasOwnProperty(l)||t.push(`Unable to resolve the local animation param ${l} in the given list of values`)})}(h[y],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),r;let l=0;const h=[];let y=!1,w=!1,T=0;const R=e.steps.map(at=>{const wt=this._makeStyleAst(at,t);let jt=null!=wt.offset?wt.offset:function(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(hA(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(hA(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(wt.styles),gt=0;return null!=jt&&(l++,gt=wt.offset=jt),w=w||gt<0||gt>1,y=y||gt<T,T=gt,h.push(gt),wt});w&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),y&&t.errors.push("Please ensure that all keyframe offsets are in order");const x=e.steps.length;let B=0;l>0&&l<x?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==l&&(B=1/(x-1));const q=x-1,X=t.currentTime,Ee=t.currentAnimateTimings,xe=Ee.duration;return R.forEach((at,wt)=>{const jt=B>0?wt==q?1:B*wt:h[wt],gt=jt*xe;t.currentTime=X+Ee.delay+gt,Ee.duration=gt,this._validateStyleAst(at,t),at.offset=jt,r.styles.push(at)}),r}visitReference(e,t){return{type:8,animation:Qo(this,vC(e.animation),t),options:Om(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Om(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Om(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,a=e.options||{};t.queryCount++,t.currentQuery=e;const[l,h]=function(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace($1,"")),n=n.replace(/@\*/g,sA).replace(/@\w+/g,t=>sA+"-"+t.substr(1)).replace(/:animating/g,eM),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+l:l,Yo(t.collectedStyles,t.currentQuerySelector,{});const y=Qo(this,vC(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:l,limit:a.limit||0,optional:!!a.optional,includeSelf:h,animation:y,originalSelector:e.selector,options:Om(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:oA(e.timings,t.errors,!0);return{type:12,animation:Qo(this,vC(e.animation),t),timings:r,options:null}}}class z1{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function hA(n){return!Array.isArray(n)&&"object"==typeof n}function Om(n){return n?(n=Vv(n)).params&&(n.params=function(n){return n?Vv(n):null}(n.params)):n={},n}function oM(n,e,t){return{duration:n,delay:e,easing:t}}function aM(n,e,t,r,a,l,h=null,y=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:a,delay:l,totalTime:a+l,easing:h,subTimeline:y}}class fA{constructor(){this._map=new Map}consume(e){let t=this._map.get(e);return t?this._map.delete(e):t=[],t}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Q1=new RegExp(":enter","g"),X1=new RegExp(":leave","g");function uM(n,e,t,r,a,l={},h={},y,w,T=[]){return(new ek).buildKeyframes(n,e,t,r,a,l,h,y,w,T)}class ek{buildKeyframes(e,t,r,a,l,h,y,w,T,R=[]){T=T||new fA;const x=new lM(e,t,T,a,l,R,[]);x.options=w,x.currentTimeline.setStyles([h],null,x.errors,w),Qo(this,r,x);const B=x.timelines.filter(q=>q.containsAnimation());if(B.length&&Object.keys(y).length){const q=B[B.length-1];q.allowOnlyTimelineStyles()||q.setStyles([y],null,x.errors,w)}return B.length?B.map(q=>q.buildKeyframes()):[aM(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.consume(t.element);if(r){const a=t.createSubContext(e.options),l=t.currentTimeline.currentTime,h=this._visitSubInstructions(r,a,a.options);l!=h&&t.transformIntoNewTimeline(h)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let l=t.currentTimeline.currentTime;const h=null!=r.duration?Mm(r.duration):null,y=null!=r.delay?Mm(r.delay):null;return 0!==h&&e.forEach(w=>{const T=t.appendInstructionToTimeline(w,h,y);l=Math.max(l,T.duration+T.delay)}),l}visitReference(e,t){t.updateOptions(e.options,!0),Qo(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let a=t;const l=e.options;if(l&&(l.params||l.delay)&&(a=t.createSubContext(l),a.transformIntoNewTimeline(),null!=l.delay)){6==a.previousNode.type&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=pA);const h=Mm(l.delay);a.delayNextStep(h)}e.steps.length&&(e.steps.forEach(h=>Qo(this,h,a)),a.currentTimeline.applyStylesToKeyframe(),a.subContextCount>r&&a.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let a=t.currentTimeline.currentTime;const l=e.options&&e.options.delay?Mm(e.options.delay):0;e.steps.forEach(h=>{const y=t.createSubContext(e.options);l&&y.delayNextStep(l),Qo(this,h,y),a=Math.max(a,y.currentTimeline.currentTime),r.push(y.currentTimeline)}),r.forEach(h=>t.currentTimeline.mergeTimelineCollectedStyles(h)),t.transformIntoNewTimeline(a),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return oA(t.params?aA(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),a=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),a.snapshotCurrentStyles());const l=e.style;5==l.type?this.visitKeyframes(l,t):(t.incrementTime(r.duration),this.visitStyle(l,t),a.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,a=t.currentAnimateTimings;!a&&r.getCurrentStyleProperties().length&&r.forwardFrame();const l=a&&a.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(l):r.setStyles(e.styles,l,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,a=t.currentTimeline.duration,l=r.duration,y=t.createSubContext().currentTimeline;y.easing=r.easing,e.styles.forEach(w=>{y.forwardTime((w.offset||0)*l),y.setStyles(w.styles,w.easing,t.errors,t.options),y.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(y),t.transformIntoNewTimeline(a+l),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,a=e.options||{},l=a.delay?Mm(a.delay):0;l&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=pA);let h=r;const y=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!a.optional,t.errors);t.currentQueryTotal=y.length;let w=null;y.forEach((T,R)=>{t.currentQueryIndex=R;const x=t.createSubContext(e.options,T);l&&x.delayNextStep(l),T===t.element&&(w=x.currentTimeline),Qo(this,e.animation,x),x.currentTimeline.applyStylesToKeyframe(),h=Math.max(h,x.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(h),w&&(t.currentTimeline.mergeTimelineCollectedStyles(w),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,a=t.currentTimeline,l=e.timings,h=Math.abs(l.duration),y=h*(t.currentQueryTotal-1);let w=h*t.currentQueryIndex;switch(l.duration<0?"reverse":l.easing){case"reverse":w=y-w;break;case"full":w=r.currentStaggerTime}const R=t.currentTimeline;w&&R.delayNextStep(w);const x=R.currentTime;Qo(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=a.currentTime-x+(a.startTime-r.currentTimeline.startTime)}}const pA={};class lM{constructor(e,t,r,a,l,h,y,w){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=a,this._leaveClassName=l,this.errors=h,this.timelines=y,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=pA,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=w||new gA(this._driver,t,0),y.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let a=this.options;null!=r.duration&&(a.duration=Mm(r.duration)),null!=r.delay&&(a.delay=Mm(r.delay));const l=r.params;if(l){let h=a.params;h||(h=this.options.params={}),Object.keys(l).forEach(y=>{(!t||!h.hasOwnProperty(y))&&(h[y]=aA(l[y],h,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(a=>{r[a]=t[a]})}}return e}createSubContext(e=null,t,r){const a=t||this.element,l=new lM(this._driver,a,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(a,r||0));return l.previousNode=this.previousNode,l.currentAnimateTimings=this.currentAnimateTimings,l.options=this._copyOptions(),l.updateOptions(e),l.currentQueryIndex=this.currentQueryIndex,l.currentQueryTotal=this.currentQueryTotal,l.parentContext=this,this.subContextCount++,l}transformIntoNewTimeline(e){return this.previousNode=pA,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const a={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},l=new tk(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,a,e.stretchStartingKeyframe);return this.timelines.push(l),a}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,a,l,h){let y=[];if(a&&y.push(this.element),e.length>0){e=(e=e.replace(Q1,"."+this._enterClassName)).replace(X1,"."+this._leaveClassName);let T=this._driver.query(this.element,e,1!=r);0!==r&&(T=r<0?T.slice(T.length+r,T.length):T.slice(0,r)),y.push(...T)}return!l&&0==y.length&&h.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),y}}class gA{constructor(e,t,r,a){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=a,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new gA(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||ph,this._currentKeyframe[t]=ph}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,a){t&&(this._previousKeyframe.easing=t);const l=a&&a.params||{},h=function(n,e){const t={};let r;return n.forEach(a=>{"*"===a?(r=r||Object.keys(e),r.forEach(l=>{t[l]=ph})):Ip(a,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(h).forEach(y=>{const w=aA(h[y],l,r);this._pendingStyles[y]=w,this._localTimelineStyles.hasOwnProperty(y)||(this._backFill[y]=this._globalTimelineStyles.hasOwnProperty(y)?this._globalTimelineStyles[y]:ph),this._updateStyle(y,w)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],a=e._styleSummary[t];(!r||a.time>r.time)&&this._updateStyle(t,a.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let a=[];this._keyframes.forEach((y,w)=>{const T=Ip(y,!0);Object.keys(T).forEach(R=>{const x=T[R];"!"==x?e.add(R):x==ph&&t.add(R)}),r||(T.offset=w/this.duration),a.push(T)});const l=e.size?uA(e.values()):[],h=t.size?uA(t.values()):[];if(r){const y=a[0],w=Vv(y);y.offset=0,w.offset=1,a=[y,w]}return aM(this.element,a,l,h,this.duration,this.startTime,this.easing,!1)}}class tk extends gA{constructor(e,t,r,a,l,h,y=!1){super(e,t,h.delay),this.keyframes=r,this.preStyleProps=a,this.postStyleProps=l,this._stretchStartingKeyframe=y,this.timings={duration:h.duration,delay:h.delay,easing:h.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:a}=this.timings;if(this._stretchStartingKeyframe&&t){const l=[],h=r+t,y=t/h,w=Ip(e[0],!1);w.offset=0,l.push(w);const T=Ip(e[0],!1);T.offset=_O(y),l.push(T);const R=e.length-1;for(let x=1;x<=R;x++){let B=Ip(e[x],!1);B.offset=_O((t+B.offset*r)/h),l.push(B)}r=h,t=0,a="",e=l}return aM(this.element,e,this.preStyleProps,this.postStyleProps,r,t,a,!0)}}function _O(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class cM{}class rk extends cM{normalizePropertyName(e,t){return rM(e)}normalizeStyleValue(e,t,r,a){let l="";const h=r.toString().trim();if(ik[t]&&0!==r&&"0"!==r)if("number"==typeof r)l="px";else{const y=r.match(/^[+-]?[\d\.]+([a-z]*)$/);y&&0==y[1].length&&a.push(`Please provide a CSS unit value for ${e}:${r}`)}return h+l}}const ik=(()=>function(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function vO(n,e,t,r,a,l,h,y,w,T,R,x,B){return{type:0,element:n,triggerName:e,isRemovalTransition:a,fromState:t,fromStyles:l,toState:r,toStyles:h,timelines:y,queriedElements:w,preStyleProps:T,postStyleProps:R,totalTime:x,errors:B}}const dM={};class EO{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,a){return function(n,e,t,r,a){return n.some(l=>l(e,t,r,a))}(this.ast.matchers,e,t,r,a)}buildStyles(e,t,r){const a=this._stateStyles["*"],l=this._stateStyles[e],h=a?a.buildStyles(t,r):{};return l?l.buildStyles(t,r):h}build(e,t,r,a,l,h,y,w,T,R){const x=[],B=this.ast.options&&this.ast.options.params||dM,X=this.buildStyles(r,y&&y.params||dM,x),Ee=w&&w.params||dM,xe=this.buildStyles(a,Ee,x),at=new Set,wt=new Map,jt=new Map,gt="void"===a,vn={params:Qe(Qe({},B),Ee)},dr=R?[]:uM(e,t,this.ast.animation,l,h,X,xe,vn,T,x);let ts=0;if(dr.forEach(mh=>{ts=Math.max(mh.duration+mh.delay,ts)}),x.length)return vO(t,this._triggerName,r,a,gt,X,xe,[],[],wt,jt,ts,x);dr.forEach(mh=>{const yh=mh.element,ZO=Yo(wt,yh,{});mh.preStyleProps.forEach(Pm=>ZO[Pm]=!0);const wC=Yo(jt,yh,{});mh.postStyleProps.forEach(Pm=>wC[Pm]=!0),yh!==t&&at.add(yh)});const gh=uA(at.values());return vO(t,this._triggerName,r,a,gt,X,xe,dr,gh,wt,jt,ts)}}class ak{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},a=Vv(this.defaultParams);return Object.keys(e).forEach(l=>{const h=e[l];null!=h&&(a[l]=h)}),this.styles.styles.forEach(l=>{if("string"!=typeof l){const h=l;Object.keys(h).forEach(y=>{let w=h[y];w.length>1&&(w=aA(w,a,t));const T=this.normalizer.normalizePropertyName(y,t);w=this.normalizer.normalizeStyleValue(y,T,w,t),r[T]=w})}}),r}}class lk{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(a=>{this.states[a.name]=new ak(a.style,a.options&&a.options.params||{},r)}),wO(this.states,"true","1"),wO(this.states,"false","0"),t.transitions.forEach(a=>{this.transitionFactories.push(new EO(e,a,this.states))}),this.fallbackTransition=function(n,e,t){return new EO(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(h,y)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,a){return this.transitionFactories.find(h=>h.match(e,t,r,a))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function wO(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const dk=new fA;class hk{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],a=sM(this._driver,t,r);if(r.length)throw new Error(`Unable to build the animation due to the following errors: ${r.join("\n")}`);this._animations[e]=a}_buildPlayer(e,t,r){const a=e.element,l=eO(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(a,l,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const a=[],l=this._animations[e];let h;const y=new Map;if(l?(h=uM(this._driver,t,l,XN,rA,{},{},r,dk,a),h.forEach(R=>{const x=Yo(y,R.element,{});R.postStyleProps.forEach(B=>x[B]=null)})):(a.push("The requested animation doesn't exist or has already been destroyed"),h=[]),a.length)throw new Error(`Unable to create the animation due to the following errors: ${a.join("\n")}`);y.forEach((R,x)=>{Object.keys(R).forEach(B=>{R[B]=this._driver.computeStyle(x,B,ph)})});const T=Cp(h.map(R=>{const x=y.get(R.element);return this._buildPlayer(R,{},x)}));return this._playersById[e]=T,T.onDestroy(()=>this.destroy(e)),this.players.push(T),T}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error(`Unable to find the timeline player referenced by ${e}`);return t}listen(e,t,r,a){const l=qN(t,"","","");return HN(this._getPlayer(e),r,l,a),()=>{}}command(e,t,r,a){if("register"==r)return void this.register(e,a[0]);if("create"==r)return void this.create(e,t,a[0]||{});const l=this._getPlayer(e);switch(r){case"play":l.play();break;case"pause":l.pause();break;case"reset":l.reset();break;case"restart":l.restart();break;case"finish":l.finish();break;case"init":l.init();break;case"setPosition":l.setPosition(parseFloat(a[0]));break;case"destroy":this.destroy(e)}}}const CO="ng-animate-queued",IO="ng-animate-disabled",bO=".ng-animate-disabled",mk=[],TO={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},yk={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},La="__ng_removed";class hM{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function(n){return null!=n?n:null}(r?e.value:e),r){const l=Vv(e);delete l.value,this.options=l}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(a=>{null==r[a]&&(r[a]=t[a])})}}}const EC="void",fM=new hM(EC);class _k{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Va(t,this._hostClassName)}listen(e,t,r,a){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${r}" because the animation trigger "${t}" doesn't exist!`);if(null==r||0==r.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if(!function(n){return"start"==n||"done"==n}(r))throw new Error(`The provided animation trigger event "${r}" for the animation trigger "${t}" is not supported!`);const l=Yo(this._elementListeners,e,[]),h={name:t,phase:r,callback:a};l.push(h);const y=Yo(this._engine.statesByElement,e,{});return y.hasOwnProperty(t)||(Va(e,iA),Va(e,iA+"-"+t),y[t]=fM),()=>{this._engine.afterFlush(()=>{const w=l.indexOf(h);w>=0&&l.splice(w,1),this._triggers[t]||delete y[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,r,a=!0){const l=this._getTrigger(t),h=new pM(this.id,t,e);let y=this._engine.statesByElement.get(e);y||(Va(e,iA),Va(e,iA+"-"+t),this._engine.statesByElement.set(e,y={}));let w=y[t];const T=new hM(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&w&&T.absorbOptions(w.options),y[t]=T,w||(w=fM),T.value!==EC&&w.value===T.value){if(!function(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let a=0;a<t.length;a++){const l=t[a];if(!e.hasOwnProperty(l)||n[l]!==e[l])return!1}return!0}(w.params,T.params)){const Ee=[],xe=l.matchStyles(w.value,w.params,Ee),at=l.matchStyles(T.value,T.params,Ee);Ee.length?this._engine.reportError(Ee):this._engine.afterFlush(()=>{xm(e,xe),mc(e,at)})}return}const B=Yo(this._engine.playersByElement,e,[]);B.forEach(Ee=>{Ee.namespaceId==this.id&&Ee.triggerName==t&&Ee.queued&&Ee.destroy()});let q=l.matchTransition(w.value,T.value,e,T.params),X=!1;if(!q){if(!a)return;q=l.fallbackTransition,X=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:q,fromState:w,toState:T,player:h,isFallbackTransition:X}),X||(Va(e,CO),h.onStart(()=>{Uv(e,CO)})),h.onDone(()=>{let Ee=this.players.indexOf(h);Ee>=0&&this.players.splice(Ee,1);const xe=this._engine.playersByElement.get(e);if(xe){let at=xe.indexOf(h);at>=0&&xe.splice(at,1)}}),this.players.push(h),B.push(h),h}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(a=>a.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,sA,!0);r.forEach(a=>{if(a[La])return;const l=this._engine.fetchNamespacesByElement(a);l.size?l.forEach(h=>h.triggerLeaveAnimation(a,t,!1,!0)):this.clearElementCache(a)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(a=>this.clearElementCache(a)))}triggerLeaveAnimation(e,t,r,a){const l=this._engine.statesByElement.get(e);if(l){const h=[];if(Object.keys(l).forEach(y=>{if(this._triggers[y]){const w=this.trigger(e,y,EC,a);w&&h.push(w)}}),h.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),r&&Cp(h).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const a=new Set;t.forEach(l=>{const h=l.name;if(a.has(h))return;a.add(h);const w=this._triggers[h].fallbackTransition,T=r[h]||fM,R=new hM(EC),x=new pM(this.id,h,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:h,transition:w,fromState:T,toState:R,player:x,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let a=!1;if(r.totalAnimations){const l=r.players.length?r.playersByQueriedElement.get(e):[];if(l&&l.length)a=!0;else{let h=e;for(;h=h.parentNode;)if(r.statesByElement.get(h)){a=!0;break}}}if(this.prepareLeaveAnimationListeners(e),a)r.markElementAsRemoved(this.id,e,!1,t);else{const l=e[La];(!l||l===TO)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Va(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const a=r.player;if(a.destroyed)return;const l=r.element,h=this._elementListeners.get(l);h&&h.forEach(y=>{if(y.name==r.triggerName){const w=qN(l,r.triggerName,r.fromState.value,r.toState.value);w._data=e,HN(r.player,y.phase,w,y.callback)}}),a.markedForDestroy?this._engine.afterFlush(()=>{a.destroy()}):t.push(r)}),this._queue=[],t.sort((r,a)=>{const l=r.transition.ast.depCount,h=a.transition.ast.depCount;return 0==l||0==h?l-h:this._engine.driver.containsElement(r.element,a.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class vk{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(a,l)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new _k(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList.length-1;if(r>=0){let a=!1;for(let l=r;l>=0;l--)if(this.driver.containsElement(this._namespaceList[l].hostElement,t)){this._namespaceList.splice(l+1,0,e),a=!0;break}a||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let a=this._namespaceLookup[e];a&&a.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const a=this._namespaceList.indexOf(r);a>=0&&this._namespaceList.splice(a,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const a=Object.keys(r);for(let l=0;l<a.length;l++){const h=r[a[l]].namespaceId;if(h){const y=this._fetchNamespace(h);y&&t.add(y)}}}return t}trigger(e,t,r,a){if(mA(t)){const l=this._fetchNamespace(e);if(l)return l.trigger(t,r,a),!0}return!1}insertNode(e,t,r,a){if(!mA(t))return;const l=t[La];if(l&&l.setForRemoval){l.setForRemoval=!1,l.setForMove=!0;const h=this.collectedLeaveElements.indexOf(t);h>=0&&this.collectedLeaveElements.splice(h,1)}if(e){const h=this._fetchNamespace(e);h&&h.insertNode(t,r)}a&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Va(e,IO)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Uv(e,IO))}removeNode(e,t,r,a){if(mA(t)){const l=e?this._fetchNamespace(e):null;if(l?l.removeNode(t,a):this.markElementAsRemoved(e,t,!1,a),r){const h=this.namespacesByHostElement.get(t);h&&h.id!==e&&h.removeNode(t,a)}}else this._onRemovalComplete(t,a)}markElementAsRemoved(e,t,r,a){this.collectedLeaveElements.push(t),t[La]={namespaceId:e,setForRemoval:a,hasAnimation:r,removedBeforeQueried:!1}}listen(e,t,r,a,l){return mA(t)?this._fetchNamespace(e).listen(t,r,a,l):()=>{}}_buildInstruction(e,t,r,a,l){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,a,e.fromState.options,e.toState.options,t,l)}destroyInnerAnimations(e){let t=this.driver.query(e,sA,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,eM,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Cp(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[La];if(t&&t.setForRemoval){if(e[La]=TO,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}this.driver.matchesElement(e,bO)&&this.markElementAsDisabled(e,!1),this.driver.query(e,bO,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,a)=>this._balanceNamespaceList(r,a)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Va(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let a=0;a<r.length;a++)r[a]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Cp(t).onDone(()=>{r.forEach(a=>a())}):r.forEach(a=>a())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,t){const r=new fA,a=[],l=new Map,h=[],y=new Map,w=new Map,T=new Map,R=new Set;this.disabledNodes.forEach(it=>{R.add(it);const yt=this.driver.query(it,".ng-animate-queued",!0);for(let Ot=0;Ot<yt.length;Ot++)R.add(yt[Ot])});const x=this.bodyNode,B=Array.from(this.statesByElement.keys()),q=SO(B,this.collectedEnterElements),X=new Map;let Ee=0;q.forEach((it,yt)=>{const Ot=XN+Ee++;X.set(yt,Ot),it.forEach(cn=>Va(cn,Ot))});const xe=[],at=new Set,wt=new Set;for(let it=0;it<this.collectedLeaveElements.length;it++){const yt=this.collectedLeaveElements[it],Ot=yt[La];Ot&&Ot.setForRemoval&&(xe.push(yt),at.add(yt),Ot.hasAnimation?this.driver.query(yt,".ng-star-inserted",!0).forEach(cn=>at.add(cn)):wt.add(yt))}const jt=new Map,gt=SO(B,Array.from(at));gt.forEach((it,yt)=>{const Ot=rA+Ee++;jt.set(yt,Ot),it.forEach(cn=>Va(cn,Ot))}),e.push(()=>{q.forEach((it,yt)=>{const Ot=X.get(yt);it.forEach(cn=>Uv(cn,Ot))}),gt.forEach((it,yt)=>{const Ot=jt.get(yt);it.forEach(cn=>Uv(cn,Ot))}),xe.forEach(it=>{this.processLeaveNode(it)})});const vn=[],dr=[];for(let it=this._namespaceList.length-1;it>=0;it--)this._namespaceList[it].drainQueuedTransitions(t).forEach(Ot=>{const cn=Ot.player,Ri=Ot.element;if(vn.push(cn),this.collectedEnterElements.length){const _c=Ri[La];if(_c&&_c.setForMove)return void cn.destroy()}const yc=!x||!this.driver.containsElement(x,Ri),Jo=jt.get(Ri),bp=X.get(Ri),wr=this._buildInstruction(Ot,r,bp,Jo,yc);if(wr.errors&&wr.errors.length)dr.push(wr);else{if(yc)return cn.onStart(()=>xm(Ri,wr.fromStyles)),cn.onDestroy(()=>mc(Ri,wr.toStyles)),void a.push(cn);if(Ot.isFallbackTransition)return cn.onStart(()=>xm(Ri,wr.fromStyles)),cn.onDestroy(()=>mc(Ri,wr.toStyles)),void a.push(cn);wr.timelines.forEach(_c=>_c.stretchStartingKeyframe=!0),r.append(Ri,wr.timelines),h.push({instruction:wr,player:cn,element:Ri}),wr.queriedElements.forEach(_c=>Yo(y,_c,[]).push(cn)),wr.preStyleProps.forEach((_c,CC)=>{const wA=Object.keys(_c);if(wA.length){let km=w.get(CC);km||w.set(CC,km=new Set),wA.forEach(_M=>km.add(_M))}}),wr.postStyleProps.forEach((_c,CC)=>{const wA=Object.keys(_c);let km=T.get(CC);km||T.set(CC,km=new Set),wA.forEach(_M=>km.add(_M))})}});if(dr.length){const it=[];dr.forEach(yt=>{it.push(`@${yt.triggerName} has failed due to:\n`),yt.errors.forEach(Ot=>it.push(`- ${Ot}\n`))}),vn.forEach(yt=>yt.destroy()),this.reportError(it)}const ts=new Map,gh=new Map;h.forEach(it=>{const yt=it.element;r.has(yt)&&(gh.set(yt,yt),this._beforeAnimationBuild(it.player.namespaceId,it.instruction,ts))}),a.forEach(it=>{const yt=it.element;this._getPreviousPlayers(yt,!1,it.namespaceId,it.triggerName,null).forEach(cn=>{Yo(ts,yt,[]).push(cn),cn.destroy()})});const mh=xe.filter(it=>NO(it,w,T)),yh=new Map;AO(yh,this.driver,wt,T,ph).forEach(it=>{NO(it,w,T)&&mh.push(it)});const wC=new Map;q.forEach((it,yt)=>{AO(wC,this.driver,new Set(it),w,"!")}),mh.forEach(it=>{const yt=yh.get(it),Ot=wC.get(it);yh.set(it,Qe(Qe({},yt),Ot))});const Pm=[],YO=[],QO={};h.forEach(it=>{const{element:yt,player:Ot,instruction:cn}=it;if(r.has(yt)){if(R.has(yt))return Ot.onDestroy(()=>mc(yt,cn.toStyles)),Ot.disabled=!0,Ot.overrideTotalTime(cn.totalTime),void a.push(Ot);let Ri=QO;if(gh.size>1){let Jo=yt;const bp=[];for(;Jo=Jo.parentNode;){const wr=gh.get(Jo);if(wr){Ri=wr;break}bp.push(Jo)}bp.forEach(wr=>gh.set(wr,Ri))}const yc=this._buildAnimation(Ot.namespaceId,cn,ts,l,wC,yh);if(Ot.setRealPlayer(yc),Ri===QO)Pm.push(Ot);else{const Jo=this.playersByElement.get(Ri);Jo&&Jo.length&&(Ot.parentPlayer=Cp(Jo)),a.push(Ot)}}else xm(yt,cn.fromStyles),Ot.onDestroy(()=>mc(yt,cn.toStyles)),YO.push(Ot),R.has(yt)&&a.push(Ot)}),YO.forEach(it=>{const yt=l.get(it.element);if(yt&&yt.length){const Ot=Cp(yt);it.setRealPlayer(Ot)}}),a.forEach(it=>{it.parentPlayer?it.syncPlayerEvents(it.parentPlayer):it.destroy()});for(let it=0;it<xe.length;it++){const yt=xe[it],Ot=yt[La];if(Uv(yt,rA),Ot&&Ot.hasAnimation)continue;let cn=[];if(y.size){let yc=y.get(yt);yc&&yc.length&&cn.push(...yc);let Jo=this.driver.query(yt,eM,!0);for(let bp=0;bp<Jo.length;bp++){let wr=y.get(Jo[bp]);wr&&wr.length&&cn.push(...wr)}}const Ri=cn.filter(yc=>!yc.destroyed);Ri.length?Ik(this,yt,Ri):this.processLeaveNode(yt)}return xe.length=0,Pm.forEach(it=>{this.players.push(it),it.onDone(()=>{it.destroy();const yt=this.players.indexOf(it);this.players.splice(yt,1)}),it.play()}),Pm}elementContainsData(e,t){let r=!1;const a=t[La];return a&&a.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,a,l){let h=[];if(t){const y=this.playersByQueriedElement.get(e);y&&(h=y)}else{const y=this.playersByElement.get(e);if(y){const w=!l||l==EC;y.forEach(T=>{T.queued||!w&&T.triggerName!=a||h.push(T)})}}return(r||a)&&(h=h.filter(y=>!(r&&r!=y.namespaceId||a&&a!=y.triggerName))),h}_beforeAnimationBuild(e,t,r){const l=t.element,h=t.isRemovalTransition?void 0:e,y=t.isRemovalTransition?void 0:t.triggerName;for(const w of t.timelines){const T=w.element,R=T!==l,x=Yo(r,T,[]);this._getPreviousPlayers(T,R,h,y,t.toState).forEach(q=>{const X=q.getRealPlayer();X.beforeDestroy&&X.beforeDestroy(),q.destroy(),x.push(q)})}xm(l,t.fromStyles)}_buildAnimation(e,t,r,a,l,h){const y=t.triggerName,w=t.element,T=[],R=new Set,x=new Set,B=t.timelines.map(X=>{const Ee=X.element;R.add(Ee);const xe=Ee[La];if(xe&&xe.removedBeforeQueried)return new Lv(X.duration,X.delay);const at=Ee!==w,wt=function(n){const e=[];return RO(n,e),e}((r.get(Ee)||mk).map(ts=>ts.getRealPlayer())).filter(ts=>!!ts.element&&ts.element===Ee),jt=l.get(Ee),gt=h.get(Ee),vn=eO(0,this._normalizer,0,X.keyframes,jt,gt),dr=this._buildPlayer(X,vn,wt);if(X.subTimeline&&a&&x.add(Ee),at){const ts=new pM(e,y,Ee);ts.setRealPlayer(dr),T.push(ts)}return dr});T.forEach(X=>{Yo(this.playersByQueriedElement,X.element,[]).push(X),X.onDone(()=>function(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const a=r.indexOf(t);r.splice(a,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const a=r.indexOf(t);r.splice(a,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,X.element,X))}),R.forEach(X=>Va(X,uO));const q=Cp(B);return q.onDestroy(()=>{R.forEach(X=>Uv(X,uO)),mc(w,t.toStyles)}),x.forEach(X=>{Yo(a,X,[]).push(q)}),q}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Lv(e.duration,e.delay)}}class pM{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Lv,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>HN(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Yo(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function mA(n){return n&&1===n.nodeType}function DO(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function AO(n,e,t,r,a){const l=[];t.forEach(w=>l.push(DO(w)));const h=[];r.forEach((w,T)=>{const R={};w.forEach(x=>{const B=R[x]=e.computeStyle(T,x,a);(!B||0==B.length)&&(T[La]=yk,h.push(T))}),n.set(T,R)});let y=0;return t.forEach(w=>DO(w,l[y++])),h}function SO(n,e){const t=new Map;if(n.forEach(y=>t.set(y,[])),0==e.length)return t;const a=new Set(e),l=new Map;function h(y){if(!y)return 1;let w=l.get(y);if(w)return w;const T=y.parentNode;return w=t.has(T)?T:a.has(T)?1:h(T),l.set(y,w),w}return e.forEach(y=>{const w=h(y);1!==w&&t.get(w).push(y)}),t}const yA="$$classes";function Va(n,e){if(n.classList)n.classList.add(e);else{let t=n[yA];t||(t=n[yA]={}),t[e]=!0}}function Uv(n,e){if(n.classList)n.classList.remove(e);else{let t=n[yA];t&&delete t[e]}}function Ik(n,e,t){Cp(t).onDone(()=>n.processLeaveNode(e))}function RO(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof Wx?RO(r.players,e):e.push(r)}}function NO(n,e,t){const r=t.get(n);if(!r)return!1;let a=e.get(n);return a?r.forEach(l=>a.add(l)):e.set(n,r),t.delete(n),!0}class _A{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(a,l)=>{},this._transitionEngine=new vk(e,t,r),this._timelineEngine=new hk(e,t,r),this._transitionEngine.onRemovalComplete=(a,l)=>this.onRemovalComplete(a,l)}registerTrigger(e,t,r,a,l){const h=e+"-"+a;let y=this._triggerCache[h];if(!y){const w=[],T=sM(this._driver,l,w);if(w.length)throw new Error(`The animation trigger "${a}" has failed to build due to the following errors:\n - ${w.join("\n - ")}`);y=function(n,e,t){return new lk(n,e,t)}(a,T,this._normalizer),this._triggerCache[h]=y}this._transitionEngine.registerTrigger(t,a,y)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,a){this._transitionEngine.insertNode(e,t,r,a)}onRemove(e,t,r,a){this._transitionEngine.removeNode(e,t,a||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,a){if("@"==r.charAt(0)){const[l,h]=tO(r);this._timelineEngine.command(l,t,h,a)}else this._transitionEngine.trigger(e,t,r,a)}listen(e,t,r,a,l){if("@"==r.charAt(0)){const[h,y]=tO(r);return this._timelineEngine.listen(h,t,y,l)}return this._transitionEngine.listen(e,t,r,a,l)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function MO(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=gM(e[0]),e.length>1&&(r=gM(e[e.length-1]))):e&&(t=gM(e)),t||r?new Dk(n,t,r):null}let Dk=(()=>{class n{constructor(t,r,a){this._element=t,this._startStyles=r,this._endStyles=a,this._state=0;let l=n.initialStylesByElement.get(t);l||n.initialStylesByElement.set(t,l={}),this._initialStyles=l}start(){this._state<1&&(this._startStyles&&mc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(mc(this._element,this._initialStyles),this._endStyles&&(mc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(xm(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(xm(this._element,this._endStyles),this._endStyles=null),mc(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function gM(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const a=t[r];Ak(a)&&(e=e||{},e[a]=n[a])}return e}function Ak(n){return"display"===n||"position"===n}const xO="animation",OO="animationend";class Nk{constructor(e,t,r,a,l,h,y){this._element=e,this._name=t,this._duration=r,this._delay=a,this._easing=l,this._fillMode=h,this._onDoneFn=y,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=w=>this._handleCallback(w)}apply(){(function(n,e){const t=yM(n,"").trim();let r=0;t.length&&(function(n,e){let t=0;for(let r=0;r<n.length;r++)","===n.charAt(r)&&t++;return t}(t)+1,e=`${t}, ${e}`),vA(n,"",e)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),FO(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){PO(this._element,this._name,"paused")}resume(){PO(this._element,this._name,"running")}setPosition(e){const t=kO(this._element,this._name);this._position=e*this._duration,vA(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),r=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&r>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),FO(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(n,e){const r=yM(n,"").split(","),a=mM(r,e);a>=0&&(r.splice(a,1),vA(n,"",r.join(",")))}(this._element,this._name))}}function PO(n,e,t){vA(n,"PlayState",t,kO(n,e))}function kO(n,e){const t=yM(n,"");return t.indexOf(",")>0?mM(t.split(","),e):mM([t],e)}function mM(n,e){for(let t=0;t<n.length;t++)if(n[t].indexOf(e)>=0)return t;return-1}function FO(n,e,t){t?n.removeEventListener(OO,e):n.addEventListener(OO,e)}function vA(n,e,t,r){const a=xO+e;if(null!=r){const l=n.style[a];if(l.length){const h=l.split(",");h[r]=t,t=h.join(",")}}n.style[a]=t}function yM(n,e){return n.style[xO+e]||""}class LO{constructor(e,t,r,a,l,h,y,w){this.element=e,this.keyframes=t,this.animationName=r,this._duration=a,this._delay=l,this._finalStyles=y,this._specialStyles=w,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=h||"linear",this.totalTime=a+l,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Nk(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(r=>{"offset"!=r&&(e[r]=t?this._finalStyles[r]:iM(this.element,r))})}this.currentSnapshot=e}}class Fk extends Lv{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=sO(t)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class UO{constructor(){this._count=0}validateStyleProperty(e){return KN(e)}matchesElement(e,t){return ZN(e,t)}containsElement(e,t){return YN(e,t)}query(e,t,r){return QN(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,r){r=r.map(y=>sO(y));let a=`@keyframes ${t} {\n`,l="";r.forEach(y=>{l=" ";const w=parseFloat(y.offset);a+=`${l}${100*w}% {\n`,l+=" ",Object.keys(y).forEach(T=>{const R=y[T];switch(T){case"offset":return;case"easing":return void(R&&(a+=`${l}animation-timing-function: ${R};\n`));default:return void(a+=`${l}${T}: ${R};\n`)}}),a+=`${l}}\n`}),a+="}\n";const h=document.createElement("style");return h.textContent=a,h}animate(e,t,r,a,l,h=[],y){const w=h.filter(xe=>xe instanceof LO),T={};fO(r,a)&&w.forEach(xe=>{let at=xe.currentSnapshot;Object.keys(at).forEach(wt=>T[wt]=at[wt])});const R=function(n){let e={};return n&&(Array.isArray(n)?n:[n]).forEach(r=>{Object.keys(r).forEach(a=>{"offset"==a||"easing"==a||(e[a]=r[a])})}),e}(t=pO(e,t,T));if(0==r)return new Fk(e,R);const x="gen_css_kf_"+this._count++,B=this.buildKeyframeElement(e,x,t);(function(n){var t;const e=null==(t=n.getRootNode)?void 0:t.call(n);return"undefined"!=typeof ShadowRoot&&e instanceof ShadowRoot?e:document.head})(e).appendChild(B);const X=MO(e,t),Ee=new LO(e,t,x,r,a,l,R,X);return Ee.onDestroy(()=>function(n){n.parentNode.removeChild(n)}(B)),Ee}}class jO{constructor(e,t,r,a){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(t=>{"offset"!=t&&(e[t]=this._finished?this._finalKeyframe[t]:iM(this.element,t))}),this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class jk{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test($O().toString()),this._cssKeyframesDriver=new UO}validateStyleProperty(e){return KN(e)}matchesElement(e,t){return ZN(e,t)}containsElement(e,t){return YN(e,t)}query(e,t,r){return QN(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,r,a,l,h=[],y){if(!y&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,r,a,l,h);const R={duration:r,delay:a,fill:0==a?"both":"forwards"};l&&(R.easing=l);const x={},B=h.filter(X=>X instanceof jO);fO(r,a)&&B.forEach(X=>{let Ee=X.currentSnapshot;Object.keys(Ee).forEach(xe=>x[xe]=Ee[xe])});const q=MO(e,t=pO(e,t=t.map(X=>Ip(X,!1)),x));return new jO(e,t,R,q)}}function $O(){return Xx()&&Element.prototype.animate||{}}let Hk=(()=>{class n extends $x{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:p.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const a=Array.isArray(t)?Gx(t):t;return HO(this._renderer,null,r,"register",[a]),new Gk(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(p.FYo),p.LFG(ie))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();class Gk extends class{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new qk(this._id,e,t||{},this._renderer)}}class qk{constructor(e,t,r,a){this.id=e,this.element=t,this._renderer=a,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return HO(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!=(t=null==(e=this._renderer.engine.players[+this.id])?void 0:e.getPosition())?t:0}}function HO(n,e,t,r,a){return n.setProperty(e,`@@${t}:${r}`,a)}const GO="@.disabled";let zk=(()=>{class n{constructor(t,r,a){this.delegate=t,this.engine=r,this._zone=a,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(l,h)=>{const y=null==h?void 0:h.parentNode(l);y&&h.removeChild(y,l)}}createRenderer(t,r){const l=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let R=this._rendererCache.get(l);return R||(R=new qO("",l,this.engine),this._rendererCache.set(l,R)),R}const h=r.id,y=r.id+"-"+this._currentId;this._currentId++,this.engine.register(y,t);const w=R=>{Array.isArray(R)?R.forEach(w):this.engine.registerTrigger(h,y,t,R.name,R)};return r.data.animation.forEach(w),new Wk(this,y,l,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,a){t>=0&&t<this._microtaskId?this._zone.run(()=>r(a)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(l=>{const[h,y]=l;h(y)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,a]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(p.FYo),p.LFG(_A),p.LFG(p.R0b))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();class qO{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?a=>t.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,a=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,a)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,a){this.delegate.setAttribute(e,t,r,a)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,a){this.delegate.setStyle(e,t,r,a)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==GO?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Wk extends qO{constructor(e,t,r,a){super(t,r,a),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==GO?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const a=function(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let l=t.substr(1),h="";return"@"!=l.charAt(0)&&([l,h]=function(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(l)),this.engine.listen(this.namespaceId,a,l,h,y=>{this.factory.scheduleListenerCallback(y._data||-1,r,y)})}return this.delegate.listen(e,t,r)}}let Yk=(()=>{class n extends _A{constructor(t,r,a){super(t.body,r,a)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(ie),p.LFG(JN),p.LFG(cM))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();const zO=new p.OlP("AnimationModuleType"),WO=[{provide:$x,useClass:Hk},{provide:cM,useFactory:function(){return new rk}},{provide:_A,useClass:Yk},{provide:p.FYo,useFactory:function(n,e,t){return new zk(n,e,t)},deps:[$s,_A,p.R0b]}],KO=[{provide:JN,useFactory:function(){return"function"==typeof $O()?new jk:new UO}},{provide:zO,useValue:"BrowserAnimations"},...WO],eF=[{provide:JN,useClass:oO},{provide:zO,useValue:"NoopAnimations"},...WO];let tF=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?eF:KO}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({providers:KO,imports:[Lc]}),n})(),nF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n,bootstrap:[N1]}),n.\u0275inj=p.cJS({providers:[],imports:[[Lc,S1,Lo.hO.initializeApp(Jx_firebase),KP,NE,v1.forRoot(),tF]]}),n})();(0,p.G48)(),pa().bootstrapModule(nF).catch(n=>console.error(n))},9162:(Ze,we,k)=>{"use strict";function oe(ee,fe,Ce,be){return new(Ce||(Ce=Promise))(function(ge,Tt){function Zt(_t){try{Dt(be.next(_t))}catch(Nt){Tt(Nt)}}function er(_t){try{Dt(be.throw(_t))}catch(Nt){Tt(Nt)}}function Dt(_t){_t.done?ge(_t.value):function(ge){return ge instanceof Ce?ge:new Ce(function(Tt){Tt(ge)})}(_t.value).then(Zt,er)}Dt((be=be.apply(ee,fe||[])).next())})}function le(ee){return this instanceof le?(this.v=ee,this):new le(ee)}function K(ee,fe,Ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Fe,be=Ce.apply(ee,fe||[]),ge=[];return Fe={},Tt("next"),Tt("throw"),Tt("return"),Fe[Symbol.asyncIterator]=function(){return this},Fe;function Tt(dn){be[dn]&&(Fe[dn]=function(xr){return new Promise(function(zr,un){ge.push([dn,xr,zr,un])>1||Zt(dn,xr)})})}function Zt(dn,xr){try{!function(dn){dn.value instanceof le?Promise.resolve(dn.value.v).then(Dt,_t):Nt(ge[0][2],dn)}(be[dn](xr))}catch(zr){Nt(ge[0][3],zr)}}function Dt(dn){Zt("next",dn)}function _t(dn){Zt("throw",dn)}function Nt(dn,xr){dn(xr),ge.shift(),ge.length&&Zt(ge[0][0],ge[0][1])}}function Te(ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ce,fe=ee[Symbol.asyncIterator];return fe?fe.call(ee):(ee=function(ee){var fe="function"==typeof Symbol&&Symbol.iterator,Ce=fe&&ee[fe],be=0;if(Ce)return Ce.call(ee);if(ee&&"number"==typeof ee.length)return{next:function(){return ee&&be>=ee.length&&(ee=void 0),{value:ee&&ee[be++],done:!ee}}};throw new TypeError(fe?"Object is not iterable.":"Symbol.iterator is not defined.")}(ee),Ce={},be("next"),be("throw"),be("return"),Ce[Symbol.asyncIterator]=function(){return this},Ce);function be(ge){Ce[ge]=ee[ge]&&function(Tt){return new Promise(function(Zt,er){!function(ge,Tt,Zt,er){Promise.resolve(er).then(function(Dt){ge({value:Dt,done:Zt})},Tt)}(Zt,er,(Tt=ee[ge](Tt)).done,Tt.value)})}}}k.d(we,{mG:()=>oe,qq:()=>le,FC:()=>K,KL:()=>Te})},3668:(Ze,we,k)=>{"use strict";k.d(we,{deG:()=>Ph,tb:()=>Y_,AFp:()=>Kd,ip1:()=>iw,CZH:()=>qo,hGG:()=>$R,z2F:()=>Zd,sBO:()=>NR,Sil:()=>uw,_Vd:()=>Ma,EJc:()=>X_,SBq:()=>jo,qLn:()=>Ea,vpe:()=>Ho,tBr:()=>qi,XFs:()=>tt,OlP:()=>Cn,zs3:()=>Un,ZZ4:()=>oo,aQg:()=>sp,soG:()=>J_,YKP:()=>Jg,h0i:()=>$d,PXZ:()=>GT,R0b:()=>Di,FiY:()=>Kn,Lbi:()=>RT,g9A:()=>ow,Qsj:()=>Gb,FYo:()=>$o,JOm:()=>hs,Tiy:()=>ir,q3G:()=>Ln,tp0:()=>Tr,Rgc:()=>rm,dDg:()=>Qf,q4F:()=>L_,GfV:()=>Qt,s_b:()=>bi,ifc:()=>We,eFA:()=>av,G48:()=>hw,Gpc:()=>$,X6Q:()=>iv,_c5:()=>BR,VLi:()=>dw,c2e:()=>Q_,zSh:()=>wg,wAp:()=>re,vHH:()=>Ge,EiD:()=>va,mCW:()=>xo,qzn:()=>vu,JVY:()=>$h,pB0:()=>jp,eBb:()=>Bp,L6k:()=>ty,LAX:()=>ny,cg1:()=>st,Tjo:()=>Aw,kL8:()=>Ib,yhl:()=>Jc,dqk:()=>Et,sIi:()=>Ed,CqO:()=>c_,QGY:()=>kg,F4k:()=>zl,RDi:()=>Rp,AaK:()=>oe,z3N:()=>Br,qOj:()=>jl,TTD:()=>Vs,_Bn:()=>Kl,xp6:()=>iE,uIk:()=>yf,Tol:()=>Df,ekj:()=>Tf,Suo:()=>tc,Xpm:()=>Dn,lG2:()=>fo,Yz7:()=>un,cJS:()=>bn,oAB:()=>Ba,Yjl:()=>wc,Y36:()=>Td,_UZ:()=>Og,BQk:()=>XE,ynx:()=>Pg,qZA:()=>u_,TgZ:()=>Dd,EpF:()=>Sd,n5z:()=>yl,LFG:()=>ke,$8M:()=>cu,$Z:()=>JE,NdJ:()=>t0,CRH:()=>uT,oxw:()=>n0,ALo:()=>Qb,lcZ:()=>H0,Q6J:()=>o_,VKq:()=>Hf,iGM:()=>aT,CHM:()=>ss,oJD:()=>Zh,LSH:()=>Eu,Udp:()=>xd,d8E:()=>$g,YNc:()=>Xy,_uU:()=>m_,Oqu:()=>Rf,hij:()=>Ug});var p=k(273),J=k(7908),F=k(8305),de=k(3719),se=k(3174);function me(i){for(let s in i)if(i[s]===me)return s;throw Error("Could not find renamed property on target object.")}function ie(i,s){for(const o in s)s.hasOwnProperty(o)&&!i.hasOwnProperty(o)&&(i[o]=s[o])}function oe(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(oe).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const o=s.indexOf("\n");return-1===o?s:s.substring(0,o)}function he(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const H=me({__forward_ref__:me});function $(i){return i.__forward_ref__=$,i.toString=function(){return oe(this())},i}function Q(i){return je(i)?i():i}function je(i){return"function"==typeof i&&i.hasOwnProperty(H)&&i.__forward_ref__===$}class Ge extends Error{constructor(s,o){super(function(i,s){return`${i?`NG0${i}: `:""}${s}`}(s,o)),this.code=s}}function K(i){return"string"==typeof i?i:null==i?"":String(i)}function ce(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():K(i)}function Me(i,s){const o=s?` in ${s}`:"";throw new Ge("201",`No provider for ${ce(i)} found${o}`)}function _t(i,s){null==i&&function(i,s,o,u){throw new Error(`ASSERTION ERROR: ${i}`+(null==u?"":` [Expected=> ${o} ${u} ${s} <=Actual]`))}(s,i,null,"!=")}function un(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function bn(i){return{providers:i.providers||[],imports:i.imports||[]}}function or(i){return $t(i,ns)||$t(i,ar)}function $t(i,s){return i.hasOwnProperty(s)?i[s]:null}function Ni(i){return i&&(i.hasOwnProperty(Re)||i.hasOwnProperty(Gn))?i[Re]:null}const ns=me({\u0275prov:me}),Re=me({\u0275inj:me}),ar=me({ngInjectableDef:me}),Gn=me({ngInjectorDef:me});var tt=(()=>((tt=tt||{})[tt.Default=0]="Default",tt[tt.Host=1]="Host",tt[tt.Self=2]="Self",tt[tt.SkipSelf=4]="SkipSelf",tt[tt.Optional=8]="Optional",tt))();let zt;function Wr(i){const s=zt;return zt=i,s}function lt(i,s,o){const u=or(i);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:o&tt.Optional?null:void 0!==s?s:void Me(oe(i),"Injector")}function kt(i){return{toString:i}.toString()}var Ft=(()=>((Ft=Ft||{})[Ft.OnPush=0]="OnPush",Ft[Ft.Default=1]="Default",Ft))(),We=(()=>{return(i=We||(We={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",We;var i})();const ut="undefined"!=typeof globalThis&&globalThis,vc="undefined"!=typeof window&&window,Ps="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Et=ut||"undefined"!=typeof global&&global||vc||Ps,G={},V=[],z=me({\u0275cmp:me}),Ie=me({\u0275dir:me}),te=me({\u0275pipe:me}),Ye=me({\u0275mod:me}),dt=me({\u0275fac:me}),tn=me({__NG_ELEMENT_ID__:me});let fr=0;function Dn(i){return kt(()=>{const o={},u={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:o,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===Ft.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||V,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||We.Emulated,id:"c",styles:i.styles||V,_:null,setInput:null,schemas:i.schemas||null,tView:null},c=i.directives,d=i.features,m=i.pipes;return u.id+=fr++,u.inputs=Ku(i.inputs,o),u.outputs=Ku(i.outputs),d&&d.forEach(v=>v(u)),u.directiveDefs=c?()=>("function"==typeof c?c():c).map(Ut):null,u.pipeDefs=m?()=>("function"==typeof m?m():m).map(pr):null,u})}function Ut(i){return hn(i)||function(i){return i[Ie]||null}(i)}function pr(i){return function(i){return i[te]||null}(i)}const ho={};function Ba(i){return kt(()=>{const s={type:i.type,bootstrap:i.bootstrap||V,declarations:i.declarations||V,imports:i.imports||V,exports:i.exports||V,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(ho[i.id]=i.type),s})}function Ku(i,s){if(null==i)return G;const o={};for(const u in i)if(i.hasOwnProperty(u)){let c=i[u],d=c;Array.isArray(c)&&(d=c[1],c=c[0]),o[c]=u,s&&(s[c]=d)}return o}const fo=Dn;function wc(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function hn(i){return i[z]||null}function gr(i,s){const o=i[Ye]||null;if(!o&&!0===s)throw new Error(`Type ${oe(i)} does not have '\u0275mod' property.`);return o}function rs(i){return Array.isArray(i)&&"object"==typeof i[1]}function is(i){return Array.isArray(i)&&!0===i[1]}function tr(i){return 0!=(8&i.flags)}function _s(i){return 2==(2&i.flags)}function Cc(i){return 1==(1&i.flags)}function yi(i){return null!==i.template}function Tp(i){return 0!=(512&i[2])}function Li(i,s){return i.hasOwnProperty(dt)?i[dt]:null}class Ju{constructor(s,o,u){this.previousValue=s,this.currentValue=o,this.firstChange=u}isFirstChange(){return this.firstChange}}function Vs(){return na}function na(i){return i.type.prototype.ngOnChanges&&(i.setInput=Xu),Us}function Us(){const i=mr(this),s=null==i?void 0:i.current;if(s){const o=i.previous;if(o===G)i.previous=s;else for(let u in s)o[u]=s[u];i.current=null,this.ngOnChanges(s)}}function Xu(i,s,o,u){const c=mr(i)||function(i,s){return i[Th]=s}(i,{previous:G,current:null}),d=c.current||(c.current={}),m=c.previous,v=this.declaredInputs[o],C=m[v];d[v]=new Ju(C&&C.currentValue,s,m===G),i[u]=s}Vs.ngInherit=!0;const Th="__ngSimpleChanges__";function mr(i){return i[Th]||null}let el;function Rp(i){el=i}function Za(){return void 0!==el?el:"undefined"!=typeof document?document:void 0}function on(i){return!!i.listen}const Dc={createRenderer:(i,s)=>Za()};function xn(i){for(;Array.isArray(i);)i=i[0];return i}function Vi(i,s){return xn(s[i])}function On(i,s){return xn(s[i.index])}function _o(i,s){return i.data[s]}function nn(i,s){const o=s[i];return rs(o)?o:o[0]}function Es(i){return 4==(4&i[2])}function Ya(i){return 128==(128&i[2])}function Ui(i,s){return null==s?null:i[s]}function Ac(i){i[18]=0}function ra(i,s){i[5]+=s;let o=i,u=i[3];for(;null!==u&&(1===s&&1===o[5]||-1===s&&0===o[5]);)u[5]+=s,o=u,u=u[3]}const Xe={lFrame:xc(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Nc(){return Xe.bindingsEnabled}function Ae(){return Xe.lFrame.lView}function Lt(){return Xe.lFrame.tView}function ss(i){return Xe.lFrame.contextLView=i,i[8]}function fn(){let i=Bs();for(;null!==i&&64===i.type;)i=i.parent;return i}function Bs(){return Xe.lFrame.currentTNode}function nr(i,s){const o=Xe.lFrame;o.currentTNode=i,o.isParent=s}function Ja(){return Xe.lFrame.isParent}function js(){Xe.lFrame.isParent=!1}function ia(){return Xe.isInCheckNoChangesMode}function sa(i){Xe.isInCheckNoChangesMode=i}function ur(){const i=Xe.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}function ji(){return Xe.lFrame.bindingIndex++}function $i(i){const s=Xe.lFrame,o=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,o}function wo(i,s){const o=Xe.lFrame;o.bindingIndex=o.bindingRootIndex=i,oa(s)}function oa(i){Xe.lFrame.currentDirectiveIndex=i}function aa(i){const s=Xe.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}function ll(){return Xe.lFrame.currentQueryIndex}function eu(i){Xe.lFrame.currentQueryIndex=i}function Mc(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function ua(i,s,o){if(o&tt.SkipSelf){let c=s,d=i;for(;!(c=c.parent,null!==c||o&tt.Host||(c=Mc(d),null===c||(d=d[15],10&c.type))););if(null===c)return!1;s=c,i=d}const u=Xe.lFrame=ca();return u.currentTNode=s,u.lView=i,!0}function la(i){const s=ca(),o=i[1];Xe.lFrame=s,s.currentTNode=o.firstChild,s.lView=i,s.tView=o,s.contextLView=i,s.bindingIndex=o.bindingStartIndex,s.inI18n=!1}function ca(){const i=Xe.lFrame,s=null===i?null:i.child;return null===s?xc(i):s}function xc(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function tu(){const i=Xe.lFrame;return Xe.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const Np=tu;function da(){const i=tu();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function zn(){return Xe.lFrame.selectedIndex}function Hs(i){Xe.lFrame.selectedIndex=i}function mn(){const i=Xe.lFrame;return _o(i.tView,i.selectedIndex)}function ws(i,s){for(let o=s.directiveStart,u=s.directiveEnd;o<u;o++){const d=i.data[o].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:v,ngAfterViewInit:C,ngAfterViewChecked:b,ngOnDestroy:S}=d;m&&(i.contentHooks||(i.contentHooks=[])).push(-o,m),v&&((i.contentHooks||(i.contentHooks=[])).push(o,v),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(o,v)),C&&(i.viewHooks||(i.viewHooks=[])).push(-o,C),b&&((i.viewHooks||(i.viewHooks=[])).push(o,b),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(o,b)),null!=S&&(i.destroyHooks||(i.destroyHooks=[])).push(o,S)}}function cl(i,s,o){Fc(i,s,3,o)}function fa(i,s,o,u){(3&i[2])===o&&Fc(i,s,o,u)}function kc(i,s){let o=i[2];(3&o)===s&&(o&=2047,o+=1,i[2]=o)}function Fc(i,s,o,u){const d=null!=u?u:-1,m=s.length-1;let v=0;for(let C=void 0!==u?65535&i[18]:0;C<m;C++)if("number"==typeof s[C+1]){if(v=s[C],null!=u&&v>=u)break}else s[C]<0&&(i[18]+=65536),(v<d||-1==d)&&(Mp(i,o,s,C),i[18]=(4294901760&i[18])+C+2),C++}function Mp(i,s,o,u){const c=o[u]<0,d=o[u+1],v=i[c?-o[u]:o[u]];if(c){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{d.call(v)}finally{}}}else try{d.call(v)}finally{}}class pa{constructor(s,o,u){this.factory=s,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=u}}function dl(i,s,o){const u=on(i);let c=0;for(;c<o.length;){const d=o[c];if("number"==typeof d){if(0!==d)break;c++;const m=o[c++],v=o[c++],C=o[c++];u?i.setAttribute(s,v,C,m):s.setAttributeNS(m,v,C)}else{const m=d,v=o[++c];lr(m)?u&&i.setProperty(s,m,v):u?i.setAttribute(s,m,v):s.setAttribute(m,v),c++}}return c}function xh(i){return 3===i||4===i||6===i}function lr(i){return 64===i.charCodeAt(0)}function hl(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let o=-1;for(let u=0;u<s.length;u++){const c=s[u];"number"==typeof c?o=c:0===o||Gm(i,o,c,null,-1===o||2===o?s[++u]:null)}}return i}function Gm(i,s,o,u,c){let d=0,m=i.length;if(-1===s)m=-1;else for(;d<i.length;){const v=i[d++];if("number"==typeof v){if(v===s){m=-1;break}if(v>s){m=d-1;break}}}for(;d<i.length;){const v=i[d];if("number"==typeof v)break;if(v===o){if(null===u)return void(null!==c&&(i[d+1]=c));if(u===i[d+1])return void(i[d+2]=c)}d++,null!==u&&d++,null!==c&&d++}-1!==m&&(i.splice(m,0,s),d=m+1),i.splice(d++,0,o),null!==u&&i.splice(d++,0,u),null!==c&&i.splice(d++,0,c)}function qm(i){return-1!==i}function iu(i){return 32767&i}function fl(i,s){let o=function(i){return i>>16}(i),u=s;for(;o>0;)u=u[15],o--;return u}let pl=!0;function su(i){const s=pl;return pl=i,s}let Wm=0;function os(i,s){const o=Rn(i,s);if(-1!==o)return o;const u=s[1];u.firstCreatePass&&(i.injectorIndex=s.length,pt(u.data,i),pt(s,null),pt(u.blueprint,null));const c=kr(i,s),d=i.injectorIndex;if(qm(c)){const m=iu(c),v=fl(c,s),C=v[1].data;for(let b=0;b<8;b++)s[d+b]=v[m+b]|C[m+b]}return s[d+8]=c,d}function pt(i,s){i.push(0,0,0,0,0,0,0,0,s)}function Rn(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function kr(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let o=0,u=null,c=s;for(;null!==c;){const d=c[1],m=d.type;if(u=2===m?d.declTNode:1===m?c[6]:null,null===u)return-1;if(o++,c=c[15],-1!==u.injectorIndex)return u.injectorIndex|o<<16}return-1}function Pn(i,s,o){!function(i,s,o){let u;"string"==typeof o?u=o.charCodeAt(0)||0:o.hasOwnProperty(tn)&&(u=o[tn]),null==u&&(u=o[tn]=Wm++);const c=255&u;s.data[i+(c>>5)]|=1<<c}(i,s,o)}function as(i,s,o){if(o&tt.Optional)return i;Me(s,"NodeInjector")}function Uc(i,s,o,u){if(o&tt.Optional&&void 0===u&&(u=null),0==(o&(tt.Self|tt.Host))){const c=i[9],d=Wr(void 0);try{return c?c.get(s,u,o&tt.Optional):lt(s,u,o&tt.Optional)}finally{Wr(d)}}return as(u,s,o)}function Bc(i,s,o,u=tt.Default,c){if(null!==i){const d=function(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(tn)?i[tn]:void 0;return"number"==typeof s?s>=0?255&s:au:s}(o);if("function"==typeof d){if(!ua(s,i,u))return u&tt.Host?as(c,o,u):Uc(s,o,u,c);try{const m=d(u);if(null!=m||u&tt.Optional)return m;Me(o)}finally{Np()}}else if("number"==typeof d){let m=null,v=Rn(i,s),C=-1,b=u&tt.Host?s[16][6]:null;for((-1===v||u&tt.SkipSelf)&&(C=-1===v?kr(i,s):s[v+8],-1!==C&&jc(u,!1)?(m=s[1],v=iu(C),s=fl(C,s)):v=-1);-1!==v;){const S=s[1];if(To(d,v,S.data)){const O=uu(v,s,o,m,u,b);if(O!==ou)return O}C=s[v+8],-1!==C&&jc(u,s[1].data[v+8]===b)&&To(d,v,s)?(m=S,v=iu(C),s=fl(C,s)):v=-1}}}return Uc(s,o,u,c)}const ou={};function au(){return new Pt(fn(),Ae())}function uu(i,s,o,u,c,d){const m=s[1],v=m.data[i+8],S=ht(v,m,o,null==u?_s(v)&&pl:u!=m&&0!=(3&v.type),c&tt.Host&&d===v);return null!==S?bo(s,m,S,v):ou}function ht(i,s,o,u,c){const d=i.providerIndexes,m=s.data,v=1048575&d,C=i.directiveStart,S=d>>20,P=c?v+S:i.directiveEnd;for(let U=u?v:v+S;U<P;U++){const W=m[U];if(U<C&&o===W||U>=C&&W.type===o)return U}if(c){const U=m[C];if(U&&yi(U)&&U.type===o)return C}return null}function bo(i,s,o,u){let c=i[o];const d=s.data;if(function(i){return i instanceof pa}(c)){const m=c;m.resolving&&function(i,s){throw new Ge("200",`Circular dependency in DI detected for ${i}`)}(ce(d[o]));const v=su(m.canSeeViewProviders);m.resolving=!0;const C=m.injectImpl?Wr(m.injectImpl):null;ua(i,u,tt.Default);try{c=i[o]=m.factory(void 0,d,i,u),s.firstCreatePass&&o>=u.directiveStart&&function(i,s,o){const{ngOnChanges:u,ngOnInit:c,ngDoCheck:d}=s.type.prototype;if(u){const m=na(s);(o.preOrderHooks||(o.preOrderHooks=[])).push(i,m),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(i,m)}c&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-i,c),d&&((o.preOrderHooks||(o.preOrderHooks=[])).push(i,d),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(i,d))}(o,d[o],s)}finally{null!==C&&Wr(C),su(v),m.resolving=!1,Np()}}return c}function To(i,s,o){return!!(o[s+(i>>5)]&1<<i)}function jc(i,s){return!(i&tt.Self||i&tt.Host&&s)}class Pt{constructor(s,o){this._tNode=s,this._lView=o}get(s,o,u){return Bc(this._tNode,this._lView,s,u,o)}}function yl(i){return kt(()=>{const s=i.prototype.constructor,o=s[dt]||lu(s),u=Object.prototype;let c=Object.getPrototypeOf(i.prototype).constructor;for(;c&&c!==u;){const d=c[dt]||lu(c);if(d&&d!==o)return d;c=Object.getPrototypeOf(c)}return d=>new d})}function lu(i){return je(i)?()=>{const s=lu(Q(i));return s&&s()}:Li(i)}function cu(i){return function(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const o=i.attrs;if(o){const u=o.length;let c=0;for(;c<u;){const d=o[c];if(xh(d))break;if(0===d)c+=2;else if("number"==typeof d)for(c++;c<u&&"string"==typeof o[c];)c++;else{if(d===s)return o[c+1];c+=2}}}return null}(fn(),i)}const Gs="__parameters__";function Fr(i,s,o){return kt(()=>{const u=function(i){return function(...o){if(i){const u=i(...o);for(const c in u)this[c]=u[c]}}}(s);function c(...d){if(this instanceof c)return u.apply(this,d),this;const m=new c(...d);return v.annotation=m,v;function v(C,b,S){const O=C.hasOwnProperty(Gs)?C[Gs]:Object.defineProperty(C,Gs,{value:[]})[Gs];for(;O.length<=S;)O.push(null);return(O[S]=O[S]||[]).push(m),C}}return o&&(c.prototype=Object.create(o.prototype)),c.prototype.ngMetadataName=i,c.annotationCls=c,c})}class Cn{constructor(s,o){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=un({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Ph=new Cn("AnalyzeForEntryComponents");function Vr(i,s){void 0===s&&(s=i);for(let o=0;o<i.length;o++){let u=i[o];Array.isArray(u)?(s===i&&(s=i.slice(0,o)),Vr(u,s)):s!==i&&s.push(u)}return s}function us(i,s){i.forEach(o=>Array.isArray(o)?us(o,s):s(o))}function ls(i,s,o){s>=i.length?i.push(o):i.splice(s,0,o)}function In(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function _i(i,s,o){let u=So(i,s);return u>=0?i[1|u]=o:(u=~u,function(i,s,o,u){let c=i.length;if(c==s)i.push(o,u);else if(1===c)i.push(u,i[0]),i[0]=o;else{for(c--,i.push(i[c-1],i[c]);c>s;)i[c]=i[c-2],c--;i[s]=o,i[s+1]=u}}(i,u,s,o)),u}function Lh(i,s){const o=So(i,s);if(o>=0)return i[1|o]}function So(i,s){return function(i,s,o){let u=0,c=i.length>>o;for(;c!==u;){const d=u+(c-u>>1),m=i[d<<o];if(s===m)return d<<o;m>s?c=d:u=d+1}return~(c<<o)}(i,s,1)}const Ks={},gu="__NG_DI_FLAG__",Ro="ngTempTokenPath",D=/\n/gm,L="__source",Z=me({provide:String,useValue:me});let ue;function Se(i){const s=ue;return ue=i,s}function Ve(i,s=tt.Default){if(void 0===ue)throw new Error("inject() must be called from an injection context");return null===ue?lt(i,void 0,s):ue.get(i,s&tt.Optional?null:void 0,s)}function ke(i,s=tt.Default){return(zt||Ve)(Q(i),s)}function Fn(i){const s=[];for(let o=0;o<i.length;o++){const u=Q(i[o]);if(Array.isArray(u)){if(0===u.length)throw new Error("Arguments array must have arguments.");let c,d=tt.Default;for(let m=0;m<u.length;m++){const v=u[m],C=cr(v);"number"==typeof C?-1===C?c=v.token:d|=C:c=v}s.push(ke(c,d))}else s.push(ke(u))}return s}function Wn(i,s){return i[gu]=s,i.prototype[gu]=s,i}function cr(i){return i[gu]}function Zs(i,s,o,u){const c=i[Ro];throw s[L]&&c.unshift(s[L]),i.message=function(i,s,o,u=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let c=oe(s);if(Array.isArray(s))c=s.map(oe).join(" -> ");else if("object"==typeof s){let d=[];for(let m in s)if(s.hasOwnProperty(m)){let v=s[m];d.push(m+":"+("string"==typeof v?JSON.stringify(v):oe(v)))}c=`{${d.join(", ")}}`}return`${o}${u?"("+u+")":""}[${c}]: ${i.replace(D,"\n  ")}`}("\n"+i.message,c,o,u),i.ngTokenPath=c,i[Ro]=null,i}const qi=Wn(Fr("Inject",i=>({token:i})),-1),Kn=Wn(Fr("Optional"),8),Tr=Wn(Fr("SkipSelf"),4);let yu,Qc;function _u(i){var s;return(null==(s=function(){if(void 0===yu&&(yu=null,Et.trustedTypes))try{yu=Et.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return yu}())?void 0:s.createHTML(i))||i}function Xm(i){var s;return(null==(s=function(){if(void 0===Qc&&(Qc=null,Et.trustedTypes))try{Qc=Et.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return Qc}())?void 0:s.createHTML(i))||i}class No{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Mo extends No{getTypeName(){return"HTML"}}class bl extends No{getTypeName(){return"Style"}}class jh extends No{getTypeName(){return"Script"}}class ey extends No{getTypeName(){return"URL"}}class Gv extends No{getTypeName(){return"ResourceURL"}}function Br(i){return i instanceof No?i.changingThisBreaksApplicationSecurity:i}function vu(i,s){const o=Jc(i);if(null!=o&&o!==s){if("ResourceURL"===o&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===s}function Jc(i){return i instanceof No&&i.getTypeName()||null}function $h(i){return new Mo(i)}function ty(i){return new bl(i)}function Bp(i){return new jh(i)}function ny(i){return new ey(i)}function jp(i){return new Gv(i)}class qv{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const o=(new window.DOMParser).parseFromString(_u(s),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(s):(o.removeChild(o.firstChild),o)}catch(o){return null}}}class Xc{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const o=this.inertDocument.createElement("html");this.inertDocument.appendChild(o);const u=this.inertDocument.createElement("body");o.appendChild(u)}}getInertBodyElement(s){const o=this.inertDocument.createElement("template");if("content"in o)return o.innerHTML=_u(s),o;const u=this.inertDocument.createElement("body");return u.innerHTML=_u(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(s){const o=s.attributes;for(let c=o.length-1;0<c;c--){const m=o.item(c).name;("xmlns:ns1"===m||0===m.indexOf("ns1:"))&&s.removeAttribute(m)}let u=s.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const zv=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Gh=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function xo(i){return(i=String(i)).match(zv)||i.match(Gh)?i:"unsafe:"+i}function ds(i){const s={};for(const o of i.split(","))s[o]=!0;return s}function Tl(...i){const s={};for(const o of i)for(const u in o)o.hasOwnProperty(u)&&(s[u]=!0);return s}const ry=ds("area,br,col,hr,img,wbr"),zh=ds("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),iy=ds("rp,rt"),Dl=Tl(ry,Tl(zh,ds("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Tl(iy,ds("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Tl(iy,zh)),Wh=ds("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ed=ds("srcset"),Kh=Tl(Wh,ed,ds("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ds("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ay=ds("script,style,template");class Kv{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let o=s.firstChild,u=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?u=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,u&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let c=this.checkClobberedElement(o,o.nextSibling);if(c){o=c;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(s){const o=s.nodeName.toLowerCase();if(!Dl.hasOwnProperty(o))return this.sanitizedSomething=!0,!ay.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const u=s.attributes;for(let c=0;c<u.length;c++){const d=u.item(c),m=d.name,v=m.toLowerCase();if(!Kh.hasOwnProperty(v)){this.sanitizedSomething=!0;continue}let C=d.value;Wh[v]&&(C=xo(C)),ed[v]&&(i=C,C=(i=String(i)).split(",").map(s=>xo(s.trim())).join(", ")),this.buf.push(" ",m,'="',_a(C),'"')}var i;return this.buf.push(">"),!0}endElement(s){const o=s.nodeName.toLowerCase();Dl.hasOwnProperty(o)&&!ry.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(s){this.buf.push(_a(s))}checkClobberedElement(s,o){if(o&&(s.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return o}}const Zv=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Gp=/([^\#-~ |!])/g;function _a(i){return i.replace(/&/g,"&amp;").replace(Zv,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(Gp,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Js;function va(i,s){let o=null;try{Js=Js||function(i){const s=new Xc(i);return function(){try{return!!(new window.DOMParser).parseFromString(_u(""),"text/html")}catch(i){return!1}}()?new qv(s):s}(i);let u=s?String(s):"";o=Js.getInertBodyElement(u);let c=5,d=u;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,u=d,d=o.innerHTML,o=Js.getInertBodyElement(u)}while(u!==d);return _u((new Kv).sanitizeChildren(qp(o)||o))}finally{if(o){const u=qp(o)||o;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function qp(i){return"content"in i&&function(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var Ln=(()=>((Ln=Ln||{})[Ln.NONE=0]="NONE",Ln[Ln.HTML=1]="HTML",Ln[Ln.STYLE=2]="STYLE",Ln[Ln.SCRIPT=3]="SCRIPT",Ln[Ln.URL=4]="URL",Ln[Ln.RESOURCE_URL=5]="RESOURCE_URL",Ln))();function Zh(i){const s=wu();return s?Xm(s.sanitize(Ln.HTML,i)||""):vu(i,"HTML")?Xm(Br(i)):va(Za(),K(i))}function Eu(i){const s=wu();return s?s.sanitize(Ln.URL,i)||"":vu(i,"URL")?Br(i):xo(K(i))}function wu(){const i=Ae();return i&&i[12]}const rd="__ngContext__";function Zn(i,s){i[rd]=s}function Yp(i){const s=function(i){return i[rd]||null}(i);return s?Array.isArray(s)?s:s.lView:null}function od(i){return i.ngOriginalError}function tg(i,...s){i.error(...s)}class Ea{constructor(){this._console=console}handleError(s){const o=this._findOriginalError(s),u=this._findContext(s),c=(i=s)&&i.ngErrorLogger||tg;var i;c(this._console,"ERROR",s),o&&c(this._console,"ORIGINAL ERROR",o),u&&c(this._console,"ERROR CONTEXT",u)}_findContext(s){return s?s.ngDebugContext||this._findContext(od(s)):null}_findOriginalError(s){let o=s&&od(s);for(;o&&od(o);)o=od(o);return o||null}}const ig=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Et))();function As(i){return i instanceof Function?i():i}var hs=(()=>((hs=hs||{})[hs.Important=1]="Important",hs[hs.DashCase=2]="DashCase",hs))();function Xs(i,s){return undefined(i,s)}function bu(i){const s=i[3];return is(s)?s[3]:s}function sg(i){return vy(i[13])}function og(i){return vy(i[4])}function vy(i){for(;null!==i&&!is(i);)i=i[4];return i}function f(i,s,o,u,c){if(null!=u){let d,m=!1;is(u)?d=u:rs(u)&&(m=!0,u=u[0]);const v=xn(u);0===i&&null!==o?null==c?ag(s,o,v):Ca(s,o,v,c||null,!0):1===i&&null!==o?Ca(s,o,v,c||null,!0):2===i?function(i,s,o){const u=fd(i,s);u&&function(i,s,o,u){on(i)?i.removeChild(s,o,u):s.removeChild(o)}(i,u,s,o)}(s,v,m):3===i&&s.destroyNode(v),null!=d&&function(i,s,o,u,c){const d=o[7];d!==xn(o)&&f(s,i,u,d,c);for(let v=10;v<o.length;v++){const C=o[v];lg(C[1],C,i,s,u,d)}}(s,i,d,o,c)}}function N(i,s,o){return on(i)?i.createElement(s,o):null===o?i.createElement(s):i.createElementNS(o,s)}function Bt(i,s){const o=i[9],u=o.indexOf(s),c=s[3];1024&s[2]&&(s[2]&=-1025,ra(c,-1)),o.splice(u,1)}function rr(i,s){if(i.length<=10)return;const o=10+s,u=i[o];if(u){const c=u[17];null!==c&&c!==i&&Bt(c,u),s>0&&(i[o-1][4]=u[4]);const d=In(i,10+s);!function(i,s){lg(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(u[1],u);const m=d[19];null!==m&&m.detachView(d[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function Vn(i,s){if(!(256&s[2])){const o=s[11];on(o)&&o.destroyNode&&lg(i,s,o,3,null,null),function(i){let s=i[13];if(!s)return Ml(i[1],i);for(;s;){let o=null;if(rs(s))o=s[13];else{const u=s[10];u&&(o=u)}if(!o){for(;s&&!s[4]&&s!==i;)rs(s)&&Ml(s[1],s),s=s[3];null===s&&(s=i),rs(s)&&Ml(s[1],s),o=s&&s[4]}s=o}}(s)}}function Ml(i,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function(i,s){let o;if(null!=i&&null!=(o=i.destroyHooks))for(let u=0;u<o.length;u+=2){const c=s[o[u]];if(!(c instanceof pa)){const d=o[u+1];if(Array.isArray(d))for(let m=0;m<d.length;m+=2){const v=c[d[m]],C=d[m+1];try{C.call(v)}finally{}}else try{d.call(c)}finally{}}}}(i,s),function(i,s){const o=i.cleanup,u=s[7];let c=-1;if(null!==o)for(let d=0;d<o.length-1;d+=2)if("string"==typeof o[d]){const m=o[d+1],v="function"==typeof m?m(s):xn(s[m]),C=u[c=o[d+2]],b=o[d+3];"boolean"==typeof b?v.removeEventListener(o[d],C,b):b>=0?u[c=b]():u[c=-b].unsubscribe(),d+=2}else{const m=u[c=o[d+1]];o[d].call(m)}if(null!==u){for(let d=c+1;d<u.length;d++)u[d]();s[7]=null}}(i,s),1===s[1].type&&on(s[11])&&s[11].destroy();const o=s[17];if(null!==o&&is(s[3])){o!==s[3]&&Bt(o,s);const u=s[19];null!==u&&u.detachView(i)}}}function dd(i,s,o){return function(i,s,o){let u=s;for(;null!==u&&40&u.type;)u=(s=u).parent;if(null===u)return o[0];if(2&u.flags){const c=i.data[u.directiveStart].encapsulation;if(c===We.None||c===We.Emulated)return null}return On(u,o)}(i,s.parent,o)}function Ca(i,s,o,u,c){on(i)?i.insertBefore(s,o,u,c):s.insertBefore(o,u,c)}function ag(i,s,o){on(i)?i.appendChild(s,o):s.appendChild(o)}function hd(i,s,o,u,c){null!==u?Ca(i,s,o,u,c):ag(i,s,o)}function fd(i,s){return on(i)?i.parentNode(s):s.parentNode}let Ol=function(i,s,o){return 40&i.type?On(i,o):null};function Cy(i,s,o,u){const c=dd(i,u,s),d=s[11],v=function(i,s,o){return Ol(i,s,o)}(u.parent||s[6],u,s);if(null!=c)if(Array.isArray(o))for(let C=0;C<o.length;C++)hd(d,c,o[C],v,!1);else hd(d,c,o,v,!1)}function ug(i,s){if(null!==s){const o=s.type;if(3&o)return On(s,i);if(4&o)return nE(-1,i[s.index]);if(8&o){const u=s.child;if(null!==u)return ug(i,u);{const c=i[s.index];return is(c)?nE(-1,c):xn(c)}}if(32&o)return Xs(s,i)()||xn(i[s.index]);{const u=RC(i,s);return null!==u?Array.isArray(u)?u[0]:ug(bu(i[16]),u):ug(i,s.next)}}return null}function RC(i,s){return null!==s?i[16][6].projection[s.projection]:null}function nE(i,s){const o=10+i+1;if(o<s.length){const u=s[o],c=u[1].firstChild;if(null!==c)return ug(u,c)}return s[7]}function Iy(i,s,o,u,c,d,m){for(;null!=o;){const v=u[o.index],C=o.type;if(m&&0===s&&(v&&Zn(xn(v),u),o.flags|=4),64!=(64&o.flags))if(8&C)Iy(i,s,o.child,u,c,d,!1),f(s,i,c,v,d);else if(32&C){const b=Xs(o,u);let S;for(;S=b();)f(s,i,c,S,d);f(s,i,c,v,d)}else 16&C?MC(i,s,u,o,c,d):f(s,i,c,v,d);o=m?o.projectionNext:o.next}}function lg(i,s,o,u,c,d){Iy(o,u,i.firstChild,s,c,d,!1)}function MC(i,s,o,u,c,d){const m=o[16],C=m[6].projection[u.projection];if(Array.isArray(C))for(let b=0;b<C.length;b++)f(s,i,c,C[b],d);else Iy(i,s,C,m[3],c,d,!0)}function xC(i,s,o){on(i)?i.setAttribute(s,"style",o):s.style.cssText=o}function by(i,s,o){on(i)?""===o?i.removeAttribute(s,"class"):i.setAttribute(s,"class",o):s.className=o}function OC(i,s,o){let u=i.length;for(;;){const c=i.indexOf(s,o);if(-1===c)return c;if(0===c||i.charCodeAt(c-1)<=32){const d=s.length;if(c+d===u||i.charCodeAt(c+d)<=32)return c}o=c+1}}const PC="ng-template";function kC(i,s,o){let u=0;for(;u<i.length;){let c=i[u++];if(o&&"class"===c){if(c=i[u],-1!==OC(c.toLowerCase(),s,0))return!0}else if(1===c){for(;u<i.length&&"string"==typeof(c=i[u++]);)if(c.toLowerCase()===s)return!0;return!1}}return!1}function Pl(i){return 4===i.type&&i.value!==PC}function Ia(i,s,o){return s===(4!==i.type||o?i.value:PC)}function TA(i,s,o){let u=4;const c=i.attrs||[],d=function(i){for(let s=0;s<i.length;s++)if(xh(i[s]))return s;return i.length}(c);let m=!1;for(let v=0;v<s.length;v++){const C=s[v];if("number"!=typeof C){if(!m)if(4&u){if(u=2|1&u,""!==C&&!Ia(i,C,o)||""===C&&1===s.length){if(eo(u))return!1;m=!0}}else{const b=8&u?C:s[++v];if(8&u&&null!==i.attrs){if(!kC(i.attrs,b,o)){if(eo(u))return!1;m=!0}continue}const O=DA(8&u?"class":C,c,Pl(i),o);if(-1===O){if(eo(u))return!1;m=!0;continue}if(""!==b){let P;P=O>d?"":c[O+1].toLowerCase();const U=8&u?P:null;if(U&&-1!==OC(U,b,0)||2&u&&b!==P){if(eo(u))return!1;m=!0}}}}else{if(!m&&!eo(u)&&!eo(C))return!1;if(m&&eo(C))continue;m=!1,u=C|1&u}}return eo(u)||m}function eo(i){return 0==(1&i)}function DA(i,s,o,u){if(null===s)return-1;let c=0;if(u||!o){let d=!1;for(;c<s.length;){const m=s[c];if(m===i)return c;if(3===m||6===m)d=!0;else{if(1===m||2===m){let v=s[++c];for(;"string"==typeof v;)v=s[++c];continue}if(4===m)break;if(0===m){c+=4;continue}}c+=d?1:2}return-1}return function(i,s){let o=i.indexOf(4);if(o>-1)for(o++;o<i.length;){const u=i[o];if("number"==typeof u)return-1;if(u===s)return o;o++}return-1}(s,i)}function FC(i,s,o=!1){for(let u=0;u<s.length;u++)if(TA(i,s[u],o))return!0;return!1}function ei(i,s){return i?":not("+s.trim()+")":s}function Fl(i){let s=i[0],o=1,u=2,c="",d=!1;for(;o<i.length;){let m=i[o];if("string"==typeof m)if(2&u){const v=i[++o];c+="["+m+(v.length>0?'="'+v+'"':"")+"]"}else 8&u?c+="."+m:4&u&&(c+=" "+m);else""!==c&&!eo(m)&&(s+=ei(d,c),c=""),u=m,d=d||!eo(u);o++}return""!==c&&(s+=ei(d,c)),s}const St={};function iE(i){sE(Lt(),Ae(),zn()+i,ia())}function sE(i,s,o,u){if(!u)if(3==(3&s[2])){const d=i.preOrderCheckHooks;null!==d&&cl(s,d,o)}else{const d=i.preOrderHooks;null!==d&&fa(s,d,0,o)}Hs(o)}function cg(i,s){return i<<17|s<<2}function to(i){return i>>17&32767}function pd(i){return 2|i}function ba(i){return(131068&i)>>2}function Ay(i,s){return-131069&i|s<<2}function Sy(i){return 1|i}function mE(i,s){const o=i.contentQueries;if(null!==o)for(let u=0;u<o.length;u+=2){const c=o[u],d=o[u+1];if(-1!==d){const m=i.data[d];eu(c),m.contentQueries(2,s[d],d)}}}function pg(i,s,o,u,c,d,m,v,C,b){const S=s.blueprint.slice();return S[0]=c,S[2]=140|u,Ac(S),S[3]=S[15]=i,S[8]=o,S[10]=m||i&&i[10],S[11]=v||i&&i[11],S[12]=C||i&&i[12]||null,S[9]=b||i&&i[9]||null,S[6]=d,S[16]=2==s.type?i[16]:S,S}function Vl(i,s,o,u,c){let d=i.data[s];if(null===d)d=function(i,s,o,u,c){const d=Bs(),m=Ja(),C=i.data[s]=function(i,s,o,u,c,d){return{type:o,index:u,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?d:d&&d.parent,o,s,u,c);return null===i.firstChild&&(i.firstChild=C),null!==d&&(m?null==d.child&&null!==C.parent&&(d.child=C):null===d.next&&(d.next=C)),C}(i,s,o,u,c),Xe.lFrame.inI18n&&(d.flags|=64);else if(64&d.type){d.type=o,d.value=u,d.attrs=c;const m=function(){const i=Xe.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();d.injectorIndex=null===m?-1:m.injectorIndex}return nr(d,!0),d}function md(i,s,o,u){if(0===o)return-1;const c=s.length;for(let d=0;d<o;d++)s.push(u),i.blueprint.push(u),i.data.push(null);return c}function yd(i,s,o){la(s);try{const u=i.viewQuery;null!==u&&TE(1,u,o);const c=i.template;null!==c&&af(i,s,c,1,o),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&mE(i,s),i.staticViewQueries&&TE(2,i.viewQuery,o);const d=i.components;null!==d&&function(i,s){for(let o=0;o<s.length;o++)rI(i,s[o])}(s,d)}catch(u){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),u}finally{s[2]&=-5,da()}}function Du(i,s,o,u){const c=s[2];if(256==(256&c))return;la(s);const d=ia();try{Ac(s),function(i){Xe.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==o&&af(i,s,o,2,u);const m=3==(3&c);if(!d)if(m){const b=i.preOrderCheckHooks;null!==b&&cl(s,b,null)}else{const b=i.preOrderHooks;null!==b&&fa(s,b,0,null),kc(s,0)}if(function(i){for(let s=sg(i);null!==s;s=og(s)){if(!s[2])continue;const o=s[9];for(let u=0;u<o.length;u++){const c=o[u],d=c[3];0==(1024&c[2])&&ra(d,1),c[2]|=1024}}}(s),function(i){for(let s=sg(i);null!==s;s=og(s))for(let o=10;o<s.length;o++){const u=s[o],c=u[1];Ya(u)&&Du(c,u,c.template,u[8])}}(s),null!==i.contentQueries&&mE(i,s),!d)if(m){const b=i.contentCheckHooks;null!==b&&cl(s,b)}else{const b=i.contentHooks;null!==b&&fa(s,b,1),kc(s,1)}!function(i,s){const o=i.hostBindingOpCodes;if(null!==o)try{for(let u=0;u<o.length;u++){const c=o[u];if(c<0)Hs(~c);else{const d=c,m=o[++u],v=o[++u];wo(m,d),v(2,s[d])}}}finally{Hs(-1)}}(i,s);const v=i.components;null!==v&&function(i,s){for(let o=0;o<s.length;o++)GA(i,s[o])}(s,v);const C=i.viewQuery;if(null!==C&&TE(2,C,u),!d)if(m){const b=i.viewCheckHooks;null!==b&&cl(s,b)}else{const b=i.viewHooks;null!==b&&fa(s,b,2),kc(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),d||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,ra(s[3],-1))}finally{da()}}function IM(i,s,o,u){const c=s[10],d=!ia(),m=Es(s);try{d&&!m&&c.begin&&c.begin(),m&&yd(i,s,u),Du(i,s,o,u)}finally{d&&!m&&c.end&&c.end()}}function af(i,s,o,u,c){const d=zn(),m=2&u;try{Hs(-1),m&&s.length>20&&sE(i,s,20,ia()),o(u,c)}finally{Hs(d)}}function gg(i,s,o){if(tr(s)){const c=s.directiveEnd;for(let d=s.directiveStart;d<c;d++){const m=i.data[d];m.contentQueries&&m.contentQueries(1,o[d],d)}}}function Ul(i,s,o){!Nc()||(function(i,s,o,u){const c=o.directiveStart,d=o.directiveEnd;i.firstCreatePass||os(o,s),Zn(u,s);const m=o.initialInputs;for(let v=c;v<d;v++){const C=i.data[v],b=yi(C);b&&jA(s,o,C);const S=bo(s,i,v,o);Zn(S,s),null!==m&&$A(0,v-c,S,C,0,m),b&&(nn(o.index,s)[8]=S)}}(i,s,o,On(o,s)),128==(128&o.flags)&&function(i,s,o){const u=o.directiveStart,c=o.directiveEnd,m=o.index,v=Xe.lFrame.currentDirectiveIndex;try{Hs(m);for(let C=u;C<c;C++){const b=i.data[C],S=s[C];oa(C),(null!==b.hostBindings||0!==b.hostVars||null!==b.hostAttrs)&&JC(b,S)}}finally{Hs(-1),oa(v)}}(i,s,o))}function _d(i,s,o=On){const u=s.localNames;if(null!==u){let c=s.index+1;for(let d=0;d<u.length;d+=2){const m=u[d+1],v=-1===m?o(s,i):i[m];i[c++]=v}}}function qC(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=uf(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function uf(i,s,o,u,c,d,m,v,C,b){const S=20+u,O=S+c,P=function(i,s){const o=[];for(let u=0;u<s;u++)o.push(u<i?null:St);return o}(S,O),U="function"==typeof b?b():b;return P[1]={type:i,blueprint:P,template:o,queries:null,viewQuery:v,declTNode:s,data:P.slice().fill(null,S),bindingStartIndex:S,expandoStartIndex:O,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:C,consts:U,incompleteFirstPass:!1}}function Ly(i,s,o,u){const c=aI(s);null===o?c.push(u):(c.push(o),i.firstCreatePass&&AE(i).push(u,c.length-1))}function cf(i,s,o){for(let u in i)if(i.hasOwnProperty(u)){const c=i[u];(o=null===o?{}:o).hasOwnProperty(u)?o[u].push(s,c):o[u]=[s,c]}return o}function ti(i,s,o,u,c,d,m,v){const C=On(s,o);let S,b=s.inputs;!v&&null!=b&&(S=b[u])?(uI(i,o,S,u,c),_s(s)&&function(i,s){const o=nn(s,i);16&o[2]||(o[2]|=64)}(o,s.index)):3&s.type&&(u=function(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(u),c=null!=m?m(c,s.value||"",u):c,on(d)?d.setProperty(C,u,c):lr(u)||(C.setProperty?C.setProperty(u,c):C[u]=c))}function Vy(i,s,o,u){let c=!1;if(Nc()){const d=function(i,s,o){const u=i.directiveRegistry;let c=null;if(u)for(let d=0;d<u.length;d++){const m=u[d];FC(o,m.selectors,!1)&&(c||(c=[]),Pn(os(o,s),i,m.type),yi(m)?(XC(i,o),c.unshift(m)):c.push(m))}return c}(i,s,o),m=null===u?null:{"":-1};if(null!==d){c=!0,tI(o,i.data.length,d.length);for(let S=0;S<d.length;S++){const O=d[S];O.providersResolver&&O.providersResolver(O)}let v=!1,C=!1,b=md(i,s,d.length,null);for(let S=0;S<d.length;S++){const O=d[S];o.mergedAttrs=hl(o.mergedAttrs,O.hostAttrs),wE(i,o,s,b,O),eI(b,O,m),null!==O.contentQueries&&(o.flags|=8),(null!==O.hostBindings||null!==O.hostAttrs||0!==O.hostVars)&&(o.flags|=128);const P=O.type.prototype;!v&&(P.ngOnChanges||P.ngOnInit||P.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(o.index),v=!0),!C&&(P.ngOnChanges||P.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(o.index),C=!0),b++}!function(i,s){const u=s.directiveEnd,c=i.data,d=s.attrs,m=[];let v=null,C=null;for(let b=s.directiveStart;b<u;b++){const S=c[b],O=S.inputs,P=null===d||Pl(s)?null:nI(O,d);m.push(P),v=cf(O,b,v),C=cf(S.outputs,b,C)}null!==v&&(v.hasOwnProperty("class")&&(s.flags|=16),v.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=m,s.inputs=v,s.outputs=C}(i,o)}m&&function(i,s,o){if(s){const u=i.localNames=[];for(let c=0;c<s.length;c+=2){const d=o[s[c+1]];if(null==d)throw new Ge("301",`Export of name '${s[c+1]}' not found!`);u.push(s[c],d)}}}(o,u,m)}return o.mergedAttrs=hl(o.mergedAttrs,o.attrs),c}function KC(i,s,o,u,c,d){const m=d.hostBindings;if(m){let v=i.hostBindingOpCodes;null===v&&(v=i.hostBindingOpCodes=[]);const C=~s.index;(function(i){let s=i.length;for(;s>0;){const o=i[--s];if("number"==typeof o&&o<0)return o}return 0})(v)!=C&&v.push(C),v.push(u,c,m)}}function JC(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function XC(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function eI(i,s,o){if(o){if(s.exportAs)for(let u=0;u<s.exportAs.length;u++)o[s.exportAs[u]]=i;yi(s)&&(o[""]=i)}}function tI(i,s,o){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+o,i.providerIndexes=s}function wE(i,s,o,u,c){i.data[u]=c;const d=c.factory||(c.factory=Li(c.type)),m=new pa(d,yi(c),null);i.blueprint[u]=m,o[u]=m,KC(i,s,0,u,md(i,o,c.hostVars,St),c)}function jA(i,s,o){const u=On(s,i),c=qC(o),d=i[10],m=df(i,pg(i,c,null,o.onPush?64:16,u,s,d,d.createRenderer(u,o),null,null));i[s.index]=m}function Fo(i,s,o,u,c,d){const m=On(i,s);!function(i,s,o,u,c,d,m){if(null==d)on(i)?i.removeAttribute(s,c,o):s.removeAttribute(c);else{const v=null==m?K(d):m(d,u||"",c);on(i)?i.setAttribute(s,c,v,o):o?s.setAttributeNS(o,c,v):s.setAttribute(c,v)}}(s[11],m,d,i.value,o,u,c)}function $A(i,s,o,u,c,d){const m=d[s];if(null!==m){const v=u.setInput;for(let C=0;C<m.length;){const b=m[C++],S=m[C++],O=m[C++];null!==v?u.setInput(o,O,b,S):o[S]=O}}}function nI(i,s){let o=null,u=0;for(;u<s.length;){const c=s[u];if(0!==c)if(5!==c){if("number"==typeof c)break;i.hasOwnProperty(c)&&(null===o&&(o=[]),o.push(c,i[c],s[u+1])),u+=2}else u+=2;else u+=4}return o}function yg(i,s,o,u){return new Array(i,!0,!1,s,null,0,u,o,null,null)}function GA(i,s){const o=nn(s,i);if(Ya(o)){const u=o[1];80&o[2]?Du(u,o,u.template,o[8]):o[5]>0&&_g(o)}}function _g(i){for(let u=sg(i);null!==u;u=og(u))for(let c=10;c<u.length;c++){const d=u[c];if(1024&d[2]){const m=d[1];Du(m,d,m.template,d[8])}else d[5]>0&&_g(d)}const o=i[1].components;if(null!==o)for(let u=0;u<o.length;u++){const c=nn(o[u],i);Ya(c)&&c[5]>0&&_g(c)}}function rI(i,s){const o=nn(s,i),u=o[1];(function(i,s){for(let o=s.length;o<i.blueprint.length;o++)s.push(i.blueprint[o])})(u,o),yd(u,o,o[8])}function df(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function IE(i){for(;i;){i[2]|=64;const s=bu(i);if(Tp(i)&&!s)return i;i=s}return null}function vg(i,s,o){const u=s[10];u.begin&&u.begin();try{Du(i,s,i.template,o)}catch(c){throw Eg(s,c),c}finally{u.end&&u.end()}}function sI(i){!function(i){for(let s=0;s<i.components.length;s++){const o=i.components[s],u=Yp(o),c=u[1];IM(c,u,c.template,o)}}(i[8])}function TE(i,s,o){eu(0),s(i,o)}const DE=(()=>Promise.resolve(null))();function aI(i){return i[7]||(i[7]=[])}function AE(i){return i.cleanup||(i.cleanup=[])}function Eg(i,s){const o=i[9],u=o?o.get(Ea,null):null;u&&u.handleError(s)}function uI(i,s,o,u,c){for(let d=0;d<o.length;){const m=o[d++],v=o[d++],C=s[m],b=i.data[m];null!==b.setInput?b.setInput(C,c,u,v):C[v]=c}}function Ta(i,s,o){const u=Vi(s,i);!function(i,s,o){on(i)?i.setValue(s,o):s.textContent=o}(i[11],u,o)}function Uy(i,s,o){let u=o?i.styles:null,c=o?i.classes:null,d=0;if(null!==s)for(let m=0;m<s.length;m++){const v=s[m];"number"==typeof v?d=v:1==d?c=he(c,v):2==d&&(u=he(u,v+": "+s[++m]+";"))}o?i.styles=u:i.stylesWithoutHost=u,o?i.classes=c:i.classesWithoutHost=c}const vd=new Cn("INJECTOR",-1);class RE{get(s,o=Ks){if(o===Ks){const u=new Error(`NullInjectorError: No provider for ${oe(s)}!`);throw u.name="NullInjectorError",u}return o}}const wg=new Cn("Set Injector scope."),hf={},KA={};let By;function cI(){return void 0===By&&(By=new RE),By}function hI(i,s=null,o=null,u){return new fI(i,o,s||cI(),u)}class fI{constructor(s,o,u,c=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const d=[];o&&us(o,v=>this.processProvider(v,s,o)),us([s],v=>this.processInjectorType(v,[],d)),this.records.set(vd,Cg(void 0,this));const m=this.records.get(wg);this.scope=null!=m?m.value:null,this.source=c||("object"==typeof s?null:oe(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,o=Ks,u=tt.Default){this.assertNotDestroyed();const c=Se(this),d=Wr(void 0);try{if(!(u&tt.SkipSelf)){let v=this.records.get(s);if(void 0===v){const C=("function"==typeof(i=s)||"object"==typeof i&&i instanceof Cn)&&or(s);v=C&&this.injectableDefInScope(C)?Cg(pI(s),hf):null,this.records.set(s,v)}if(null!=v)return this.hydrate(s,v)}return(u&tt.Self?cI():this.parent).get(s,o=u&tt.Optional&&o===Ks?null:o)}catch(m){if("NullInjectorError"===m.name){if((m[Ro]=m[Ro]||[]).unshift(oe(s)),c)throw m;return Zs(m,s,"R3InjectorError",this.source)}throw m}finally{Wr(d),Se(c)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((u,c)=>s.push(oe(c))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(s,o,u){if(!(s=Q(s)))return!1;let c=Ni(s);const d=null==c&&s.ngModule||void 0,m=void 0===d?s:d,v=-1!==u.indexOf(m);if(void 0!==d&&(c=Ni(d)),null==c)return!1;if(null!=c.imports&&!v){let S;u.push(m);try{us(c.imports,O=>{this.processInjectorType(O,o,u)&&(void 0===S&&(S=[]),S.push(O))})}finally{}if(void 0!==S)for(let O=0;O<S.length;O++){const{ngModule:P,providers:U}=S[O];us(U,W=>this.processProvider(W,P,U||V))}}this.injectorDefTypes.add(m);const C=Li(m)||(()=>new m);this.records.set(m,Cg(C,hf));const b=c.providers;if(null!=b&&!v){const S=s;us(b,O=>this.processProvider(O,S,b))}return void 0!==d&&void 0!==s.providers}processProvider(s,o,u){let c=Ig(s=Q(s))?s:Q(s&&s.provide);const d=(i=s,NE(i)?Cg(void 0,i.useValue):Cg(gI(i),hf));var i;if(Ig(s)||!0!==s.multi)this.records.get(c);else{let m=this.records.get(c);m||(m=Cg(void 0,hf,!0),m.factory=()=>Fn(m.multi),this.records.set(c,m)),c=s,m.multi.push(s)}this.records.set(c,d)}hydrate(s,o){return o.value===hf&&(o.value=KA,o.value=o.factory()),"object"==typeof o.value&&o.value&&null!==(i=o.value)&&"object"==typeof i&&"function"==typeof i.ngOnDestroy&&this.onDestroy.add(o.value),o.value;var i}injectableDefInScope(s){if(!s.providedIn)return!1;const o=Q(s.providedIn);return"string"==typeof o?"any"===o||o===this.scope:this.injectorDefTypes.has(o)}}function pI(i){const s=or(i),o=null!==s?s.factory:Li(i);if(null!==o)return o;if(i instanceof Cn)throw new Error(`Token ${oe(i)} is missing a \u0275prov definition.`);if(i instanceof Function)return function(i){const s=i.length;if(s>0){const u=function(i,s){const o=[];for(let u=0;u<i;u++)o.push(s);return o}(s,"?");throw new Error(`Can't resolve all parameters for ${oe(i)}: (${u.join(", ")}).`)}const o=function(i){const s=i&&(i[ns]||i[ar]);if(s){const o=function(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),s}return null}(i);return null!==o?()=>o.factory(i):()=>new i}(i);throw new Error("unreachable")}function gI(i,s,o){let u;if(Ig(i)){const c=Q(i);return Li(c)||pI(c)}if(NE(i))u=()=>Q(i.useValue);else if(function(i){return!(!i||!i.useFactory)}(i))u=()=>i.useFactory(...Fn(i.deps||[]));else if(function(i){return!(!i||!i.useExisting)}(i))u=()=>ke(Q(i.useExisting));else{const c=Q(i&&(i.useClass||i.provide));if(!function(i){return!!i.deps}(i))return Li(c)||pI(c);u=()=>new c(...Fn(i.deps))}return u}function Cg(i,s,o=!1){return{factory:i,value:s,multi:o?[]:void 0}}function NE(i){return null!==i&&"object"==typeof i&&Z in i}function Ig(i){return"function"==typeof i}const XA=function(i,s,o){return function(i,s=null,o=null,u){const c=hI(i,s,o,u);return c._resolveInjectorDefTypes(),c}({name:o},s,i,o)};let Un=(()=>{class i{static create(o,u){return Array.isArray(o)?XA(o,u,""):XA(o.providers,o.parent,o.name||"")}}return i.THROW_IF_NOT_FOUND=Ks,i.NULL=new RE,i.\u0275prov=un({token:i,providedIn:"any",factory:()=>ke(vd)}),i.__NG_ELEMENT_ID__=-1,i})();function VE(i,s){ws(Yp(i)[1],fn())}function jl(i){let s=function(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),o=!0;const u=[i];for(;s;){let c;if(yi(i))c=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Error("Directives cannot inherit Components");c=s.\u0275dir}if(c){if(o){u.push(c);const m=i;m.inputs=bg(i.inputs),m.declaredInputs=bg(i.declaredInputs),m.outputs=bg(i.outputs);const v=c.hostBindings;v&&AI(i,v);const C=c.viewQuery,b=c.contentQueries;if(C&&DI(i,C),b&&iS(i,b),ie(i.inputs,c.inputs),ie(i.declaredInputs,c.declaredInputs),ie(i.outputs,c.outputs),yi(c)&&c.data.animation){const S=i.data;S.animation=(S.animation||[]).concat(c.data.animation)}}const d=c.features;if(d)for(let m=0;m<d.length;m++){const v=d[m];v&&v.ngInherit&&v(i),v===jl&&(o=!1)}}s=Object.getPrototypeOf(s)}!function(i){let s=0,o=null;for(let u=i.length-1;u>=0;u--){const c=i[u];c.hostVars=s+=c.hostVars,c.hostAttrs=hl(c.hostAttrs,o=hl(o,c.hostAttrs))}}(u)}function bg(i){return i===G?{}:i===V?[]:i}function DI(i,s){const o=i.viewQuery;i.viewQuery=o?(u,c)=>{s(u,c),o(u,c)}:s}function iS(i,s){const o=i.contentQueries;i.contentQueries=o?(u,c,d)=>{s(u,c,d),o(u,c,d)}:s}function AI(i,s){const o=i.hostBindings;i.hostBindings=o?(u,c)=>{s(u,c),o(u,c)}:s}let gf=null;function mf(){if(!gf){const i=Et.Symbol;if(i&&i.iterator)gf=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<s.length;++o){const u=s[o];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(gf=u)}}}return gf}function Ed(i){return!!jE(i)&&(Array.isArray(i)||!(i instanceof Map)&&mf()in i)}function jE(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function wi(i,s,o){return!Object.is(i[s],o)&&(i[s]=o,!0)}function yf(i,s,o,u){const c=Ae();return wi(c,ji(),s)&&(Lt(),Fo(mn(),c,i,s,o,u)),yf}function Xy(i,s,o,u,c,d,m,v){const C=Ae(),b=Lt(),S=i+20,O=b.firstCreatePass?function(i,s,o,u,c,d,m,v,C){const b=s.consts,S=Vl(s,i,4,m||null,Ui(b,v));Vy(s,o,S,Ui(b,C)),ws(s,S);const O=S.tViews=uf(2,S,u,c,d,s.directiveRegistry,s.pipeRegistry,null,s.schemas,b);return null!==s.queries&&(s.queries.template(s,S),O.queries=s.queries.embeddedTView(S)),S}(S,b,C,s,o,u,c,d,m):b.data[S];nr(O,!1);const P=C[11].createComment("");Cy(b,C,P,O),Zn(P,C),df(C,C[S]=yg(P,C,P,O)),Cc(O)&&Ul(b,C,O),null!=m&&_d(C,O,v)}function Td(i,s=tt.Default){const o=Ae();return null===o?ke(i,s):Bc(fn(),o,Q(i),s)}function JE(){throw new Error("invalid")}function o_(i,s,o){const u=Ae();return wi(u,ji(),s)&&ti(Lt(),mn(),u,i,s,u[11],o,!1),o_}function a_(i,s,o,u,c){const m=c?"class":"style";uI(i,o,s.inputs[m],m,u)}function Dd(i,s,o,u){const c=Ae(),d=Lt(),m=20+i,v=c[11],C=c[m]=N(v,s,Xe.lFrame.currentNamespace),b=d.firstCreatePass?function(i,s,o,u,c,d,m){const v=s.consts,b=Vl(s,i,2,c,Ui(v,d));return Vy(s,o,b,Ui(v,m)),null!==b.attrs&&Uy(b,b.attrs,!1),null!==b.mergedAttrs&&Uy(b,b.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,b),b}(m,d,c,0,s,o,u):d.data[m];nr(b,!0);const S=b.mergedAttrs;null!==S&&dl(v,C,S);const O=b.classes;null!==O&&by(v,C,O);const P=b.styles;null!==P&&xC(v,C,P),64!=(64&b.flags)&&Cy(d,c,C,b),0===Xe.lFrame.elementDepthCount&&Zn(C,c),Xe.lFrame.elementDepthCount++,Cc(b)&&(Ul(d,c,b),gg(d,b,c)),null!==u&&_d(c,b)}function u_(){let i=fn();Ja()?js():(i=i.parent,nr(i,!1));const s=i;Xe.lFrame.elementDepthCount--;const o=Lt();o.firstCreatePass&&(ws(o,i),tr(i)&&o.queries.elementEnd(i)),null!=s.classesWithoutHost&&function(i){return 0!=(16&i.flags)}(s)&&a_(o,s,Ae(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function(i){return 0!=(32&i.flags)}(s)&&a_(o,s,Ae(),s.stylesWithoutHost,!1)}function Og(i,s,o,u){Dd(i,s,o,u),u_()}function Pg(i,s,o){const u=Ae(),c=Lt(),d=i+20,m=c.firstCreatePass?function(i,s,o,u,c){const d=s.consts,m=Ui(d,u),v=Vl(s,i,8,"ng-container",m);return null!==m&&Uy(v,m,!0),Vy(s,o,v,Ui(d,c)),null!==s.queries&&s.queries.elementStart(s,v),v}(d,c,u,s,o):c.data[d];nr(m,!0);const v=u[d]=u[11].createComment("");Cy(c,u,v,m),Zn(v,u),Cc(m)&&(Ul(c,u,m),gg(c,m,u)),null!=o&&_d(u,m)}function XE(){let i=fn();const s=Lt();Ja()?js():(i=i.parent,nr(i,!1)),s.firstCreatePass&&(ws(s,i),tr(i)&&s.queries.elementEnd(i))}function Sd(){return Ae()}function kg(i){return!!i&&"function"==typeof i.then}function zl(i){return!!i&&"function"==typeof i.subscribe}const c_=zl;function t0(i,s,o,u){const c=Ae(),d=Lt(),m=fn();return function(i,s,o,u,c,d,m,v){const C=Cc(u),S=i.firstCreatePass&&AE(i),O=s[8],P=aI(s);let U=!0;if(3&u.type||v){const Y=On(u,s),Pe=v?v(Y):Y,ve=P.length,ot=v?vt=>v(xn(vt[u.index])):u.index;if(on(o)){let vt=null;if(!v&&C&&(vt=function(i,s,o,u){const c=i.cleanup;if(null!=c)for(let d=0;d<c.length-1;d+=2){const m=c[d];if(m===o&&c[d+1]===u){const v=s[7],C=c[d+2];return v.length>C?v[C]:null}"string"==typeof m&&(d+=2)}return null}(i,s,c,u.index)),null!==vt)(vt.__ngLastListenerFn__||vt).__ngNextListenerFn__=d,vt.__ngLastListenerFn__=d,U=!1;else{d=wf(u,s,O,d,!1);const qt=o.listen(Pe,c,d);P.push(d,qt),S&&S.push(c,ot,ve,ve+1)}}else d=wf(u,s,O,d,!0),Pe.addEventListener(c,d,m),P.push(d),S&&S.push(c,ot,ve,m)}else d=wf(u,s,O,d,!1);const W=u.outputs;let ae;if(U&&null!==W&&(ae=W[c])){const Y=ae.length;if(Y)for(let Pe=0;Pe<Y;Pe+=2){const Mr=s[ae[Pe]][ae[Pe+1]].subscribe(d),co=P.length;P.push(d,Mr),S&&S.push(c,u.index,co,-(co+1))}}}(d,c,c[11],m,i,s,!!o,u),t0}function Lg(i,s,o,u){try{return!1!==o(u)}catch(c){return Eg(i,c),!1}}function wf(i,s,o,u,c){return function d(m){if(m===Function)return u;const v=2&i.flags?nn(i.index,s):s;0==(32&s[2])&&IE(v);let C=Lg(s,0,u,m),b=d.__ngNextListenerFn__;for(;b;)C=Lg(s,0,b,m)&&C,b=b.__ngNextListenerFn__;return c&&!1===C&&(m.preventDefault(),m.returnValue=!1),C}}function n0(i=1){return function(i){return(Xe.lFrame.contextLView=function(i,s){for(;i>0;)s=s[15],i--;return s}(i,Xe.lFrame.contextLView))[8]}(i)}function s0(i,s,o,u,c){const d=i[o+1],m=null===s;let v=u?to(d):ba(d),C=!1;for(;0!==v&&(!1===C||m);){const S=i[v+1];bf(i[v],s)&&(C=!0,i[v+1]=u?Sy(S):pd(S)),v=u?to(S):ba(S)}C&&(i[o+1]=u?pd(d):Sy(d))}function bf(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&So(i,s)>=0}const Ar={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function JI(i){return i.substring(Ar.key,Ar.keyEnd)}function o0(i,s){const o=Ar.textEnd;return o===s?-1:(s=Ar.keyEnd=function(i,s,o){for(;s<o&&i.charCodeAt(s)>32;)s++;return s}(i,Ar.key=s,o),Md(i,s,o))}function Md(i,s,o){for(;s<o&&i.charCodeAt(s)<=32;)s++;return s}function xd(i,s,o){return Uo(i,s,o,!1),xd}function Tf(i,s){return Uo(i,s,null,!0),Tf}function Df(i){!function(i,s,o,u){const c=Lt(),d=$i(2);c.firstUpdatePass&&sb(c,null,d,u);const m=Ae();if(o!==St&&wi(m,d,o)){const v=c.data[zn()];if(h0(v,u)&&!l0(c,d)){let C=u?v.classesWithoutHost:v.stylesWithoutHost;null!==C&&(o=he(C,o||"")),a_(c,v,m,o,u)}else!function(i,s,o,u,c,d,m,v){c===St&&(c=V);let C=0,b=0,S=0<c.length?c[0]:null,O=0<d.length?d[0]:null;for(;null!==S||null!==O;){const P=C<c.length?c[C+1]:void 0,U=b<d.length?d[b+1]:void 0;let ae,W=null;S===O?(C+=2,b+=2,P!==U&&(W=O,ae=U)):null===O||null!==S&&S<O?(C+=2,W=S):(b+=2,W=O,ae=U),null!==W&&d0(i,s,o,u,W,ae,m,v),S=C<c.length?c[C]:null,O=b<d.length?d[b]:null}}(c,v,m,m[11],m[d+1],m[d+1]=function(i,s,o){if(null==o||""===o)return V;const u=[],c=Br(o);if(Array.isArray(c))for(let d=0;d<c.length;d++)i(u,c[d],!0);else if("object"==typeof c)for(const d in c)c.hasOwnProperty(d)&&i(u,d,c[d]);else"string"==typeof c&&s(u,c);return u}(i,s,o),u,d)}}(_i,gs,i,!0)}function gs(i,s){for(let o=function(i){return function(i){Ar.key=0,Ar.keyEnd=0,Ar.value=0,Ar.valueEnd=0,Ar.textEnd=i.length}(i),o0(i,Md(i,0,Ar.textEnd))}(s);o>=0;o=o0(s,o))_i(i,JI(s),!0)}function Uo(i,s,o,u){const c=Ae(),d=Lt(),m=$i(2);d.firstUpdatePass&&sb(d,i,m,u),s!==St&&wi(c,m,s)&&d0(d,d.data[zn()],c,c[11],i,c[m+1]=function(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=oe(Br(i)))),i}(s,o),u,m)}function l0(i,s){return s>=i.expandoStartIndex}function sb(i,s,o,u){const c=i.data;if(null===c[o+1]){const d=c[zn()],m=l0(i,o);h0(d,u)&&null===s&&!m&&(s=!1),s=function(i,s,o,u){const c=aa(i);let d=u?s.residualClasses:s.residualStyles;if(null===c)0===(u?s.classBindings:s.styleBindings)&&(o=Af(o=p_(null,i,s,o,u),s.attrs,u),d=null);else{const m=s.directiveStylingLast;if(-1===m||i[m]!==c)if(o=p_(c,i,s,o,u),null===d){let C=function(i,s,o){const u=o?s.classBindings:s.styleBindings;if(0!==ba(u))return i[to(u)]}(i,s,u);void 0!==C&&Array.isArray(C)&&(C=p_(null,i,s,C[1],u),C=Af(C,s.attrs,u),function(i,s,o,u){i[to(o?s.classBindings:s.styleBindings)]=u}(i,s,u,C))}else d=function(i,s,o){let u;const c=s.directiveEnd;for(let d=1+s.directiveStylingLast;d<c;d++)u=Af(u,i[d].hostAttrs,o);return Af(u,s.attrs,o)}(i,s,u)}return void 0!==d&&(u?s.residualClasses=d:s.residualStyles=d),o}(c,d,s,u),function(i,s,o,u,c,d){let m=d?s.classBindings:s.styleBindings,v=to(m),C=ba(m);i[u]=o;let S,b=!1;if(Array.isArray(o)){const O=o;S=O[1],(null===S||So(O,S)>0)&&(b=!0)}else S=o;if(c)if(0!==C){const P=to(i[v+1]);i[u+1]=cg(P,v),0!==P&&(i[P+1]=Ay(i[P+1],u)),i[v+1]=function(i,s){return 131071&i|s<<17}(i[v+1],u)}else i[u+1]=cg(v,0),0!==v&&(i[v+1]=Ay(i[v+1],u)),v=u;else i[u+1]=cg(C,0),0===v?v=u:i[C+1]=Ay(i[C+1],u),C=u;b&&(i[u+1]=pd(i[u+1])),s0(i,S,u,!0),s0(i,S,u,!1),function(i,s,o,u,c){const d=c?i.residualClasses:i.residualStyles;null!=d&&"string"==typeof s&&So(d,s)>=0&&(o[u+1]=Sy(o[u+1]))}(s,S,i,u,d),m=cg(v,C),d?s.classBindings=m:s.styleBindings=m}(c,d,s,o,m,u)}}function p_(i,s,o,u,c){let d=null;const m=o.directiveEnd;let v=o.directiveStylingLast;for(-1===v?v=o.directiveStart:v++;v<m&&(d=s[v],u=Af(u,d.hostAttrs,c),d!==i);)v++;return null!==i&&(o.directiveStylingLast=v),u}function Af(i,s,o){const u=o?1:2;let c=-1;if(null!==s)for(let d=0;d<s.length;d++){const m=s[d];"number"==typeof m?c=m:c===u&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),_i(i,m,!!o||s[++d]))}return void 0===i?null:i}function d0(i,s,o,u,c,d,m,v){if(!(3&s.type))return;const C=i.data,b=C[v+1];Sf(function(i){return 1==(1&i)}(b)?ab(C,s,o,c,ba(b),m):void 0)||(Sf(d)||function(i){return 2==(2&i)}(b)&&(d=ab(C,null,o,c,v,m)),function(i,s,o,u,c){const d=on(i);if(s)c?d?i.addClass(o,u):o.classList.add(u):d?i.removeClass(o,u):o.classList.remove(u);else{let m=-1===u.indexOf("-")?void 0:hs.DashCase;if(null==c)d?i.removeStyle(o,u,m):o.style.removeProperty(u);else{const v="string"==typeof c&&c.endsWith("!important");v&&(c=c.slice(0,-10),m|=hs.Important),d?i.setStyle(o,u,c,m):o.style.setProperty(u,c,v?"important":"")}}}(u,m,Vi(zn(),o),c,d))}function ab(i,s,o,u,c,d){const m=null===s;let v;for(;c>0;){const C=i[c],b=Array.isArray(C),S=b?C[1]:C,O=null===S;let P=o[c+1];P===St&&(P=O?V:void 0);let U=O?Lh(P,u):S===u?P:void 0;if(b&&!Sf(U)&&(U=Lh(C,u)),Sf(U)&&(v=U,m))return v;const W=i[c+1];c=m?to(W):ba(W)}if(null!==s){let C=d?s.residualClasses:s.residualStyles;null!=C&&(v=Lh(C,u))}return v}function Sf(i){return void 0!==i}function h0(i,s){return 0!=(i.flags&(s?16:32))}function m_(i,s=""){const o=Ae(),u=Lt(),c=i+20,d=u.firstCreatePass?Vl(u,c,1,s,null):u.data[c],m=o[c]=function(i,s){return on(i)?i.createText(s):i.createTextNode(s)}(o[11],s);Cy(u,o,m,d),nr(d,!1)}function Rf(i){return Ug("",i,""),Rf}function Ug(i,s,o){const u=Ae(),c=function(i,s,o,u){return wi(i,ji(),o)?s+K(o)+u:St}(u,i,s,o);return c!==St&&Ta(u,zn(),c),Ug}function $g(i,s,o){const u=Ae();if(wi(u,ji(),s)){const d=Lt(),m=mn();ti(d,m,u,i,s,function(i,s,o){return(null===i||yi(i))&&(o=function(i){for(;Array.isArray(i);){if("object"==typeof i[1])return i;i=i[0]}return null}(o[s.index])),o[11]}(aa(d.data),m,u),o,!0)}return $g}const kd=void 0;var _r=["en",[["a","p"],["AM","PM"],kd],[["AM","PM"],kd,kd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],kd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],kd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",kd,"{1} 'at' {0}",kd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(i){const o=Math.floor(Math.abs(i)),u=i.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===u?1:5}];let Sa={};function st(i){const s=function(i){return i.toLowerCase().replace(/_/g,"-")}(i);let o=He(s);if(o)return o;const u=s.split("-")[0];if(o=He(u),o)return o;if("en"===u)return _r;throw new Error(`Missing locale data for the locale "${i}".`)}function Ib(i){return st(i)[re.PluralCase]}function He(i){return i in Sa||(Sa[i]=Et.ng&&Et.ng.common&&Et.ng.common.locales&&Et.ng.common.locales[i]),Sa[i]}var re=(()=>((re=re||{})[re.LocaleId=0]="LocaleId",re[re.DayPeriodsFormat=1]="DayPeriodsFormat",re[re.DayPeriodsStandalone=2]="DayPeriodsStandalone",re[re.DaysFormat=3]="DaysFormat",re[re.DaysStandalone=4]="DaysStandalone",re[re.MonthsFormat=5]="MonthsFormat",re[re.MonthsStandalone=6]="MonthsStandalone",re[re.Eras=7]="Eras",re[re.FirstDayOfWeek=8]="FirstDayOfWeek",re[re.WeekendRange=9]="WeekendRange",re[re.DateFormat=10]="DateFormat",re[re.TimeFormat=11]="TimeFormat",re[re.DateTimeFormat=12]="DateTimeFormat",re[re.NumberSymbols=13]="NumberSymbols",re[re.NumberFormats=14]="NumberFormats",re[re.CurrencyCode=15]="CurrencyCode",re[re.CurrencySymbol=16]="CurrencySymbol",re[re.CurrencyName=17]="CurrencyName",re[re.Currencies=18]="Currencies",re[re.Directionality=19]="Directionality",re[re.PluralCase=20]="PluralCase",re[re.ExtraData=21]="ExtraData",re))();const w_="en-US";let E0=w_;function x_(i,s,o,u,c){if(i=Q(i),Array.isArray(i))for(let d=0;d<i.length;d++)x_(i[d],s,o,u,c);else{const d=Lt(),m=Ae();let v=Ig(i)?i:Q(i.provide),C=gI(i);const b=fn(),S=1048575&b.providerIndexes,O=b.directiveStart,P=b.providerIndexes>>20;if(Ig(i)||!i.multi){const U=new pa(C,c,Td),W=jf(v,s,c?S:S+P,O);-1===W?(Pn(os(b,m),d,v),O_(d,i,s.length),s.push(v),b.directiveStart++,b.directiveEnd++,c&&(b.providerIndexes+=1048576),o.push(U),m.push(U)):(o[W]=U,m[W]=U)}else{const U=jf(v,s,S+P,O),W=jf(v,s,S,S+P),ae=U>=0&&o[U],Y=W>=0&&o[W];if(c&&!Y||!c&&!ae){Pn(os(b,m),d,v);const Pe=function(i,s,o,u,c){const d=new pa(i,o,Td);return d.multi=[],d.index=s,d.componentProviders=0,M0(d,c,u&&!o),d}(c?kS:PS,o.length,c,u,C);!c&&Y&&(o[W].providerFactory=Pe),O_(d,i,s.length,0),s.push(v),b.directiveStart++,b.directiveEnd++,c&&(b.providerIndexes+=1048576),o.push(Pe),m.push(Pe)}else O_(d,i,U>-1?U:W,M0(o[c?W:U],C,!c&&u));!c&&u&&Y&&o[W].componentProviders++}}}function O_(i,s,o,u){const c=Ig(s);if(c||function(i){return!!i.useClass}(s)){const m=(s.useClass||s).prototype.ngOnDestroy;if(m){const v=i.destroyHooks||(i.destroyHooks=[]);if(!c&&s.multi){const C=v.indexOf(o);-1===C?v.push(o,[u,m]):v[C+1].push(u,m)}else v.push(o,m)}}}function M0(i,s,o){return o&&i.componentProviders++,i.multi.push(s)-1}function jf(i,s,o,u){for(let c=o;c<u;c++)if(s[c]===i)return c;return-1}function PS(i,s,o,u){return P_(this.multi,[])}function kS(i,s,o,u){const c=this.multi;let d;if(this.providerFactory){const m=this.providerFactory.componentProviders,v=bo(o,o[1],this.providerFactory.index,u);d=v.slice(0,m),P_(c,d);for(let C=m;C<v.length;C++)d.push(v[C])}else d=[],P_(c,d);return d}function P_(i,s){for(let o=0;o<i.length;o++)s.push((0,i[o])());return s}function Kl(i,s=[]){return o=>{o.providersResolver=(u,c)=>function(i,s,o){const u=Lt();if(u.firstCreatePass){const c=yi(i);x_(o,u.data,u.blueprint,c,!0),x_(s,u.data,u.blueprint,c,!1)}}(u,c?c(i):i,s)}}class Zl{}const Bd="ngComponent";class $b{resolveComponentFactory(s){throw function(i){const s=Error(`No component factory found for ${oe(i)}. Did you add it to @NgModule.entryComponents?`);return s[Bd]=i,s}(s)}}let Ma=(()=>{class i{}return i.NULL=new $b,i})();function Yn(...i){}function Lu(i,s){return new jo(On(i,s))}const VS=function(){return Lu(fn(),Ae())};let jo=(()=>{class i{constructor(o){this.nativeElement=o}}return i.__NG_ELEMENT_ID__=VS,i})();function P0(i){return i instanceof jo?i.nativeElement:i}class $o{}let Gb=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>Yg(),i})();const Yg=function(){const i=Ae(),o=nn(fn().index,i);return function(i){return i[11]}(rs(o)?o:i)};let ir=(()=>{class i{}return i.\u0275prov=un({token:i,providedIn:"root",factory:()=>null}),i})();class Qt{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const L_=new Qt("13.0.1"),jd={};function sr(i,s,o,u,c=!1){for(;null!==o;){const d=s[o.index];if(null!==d&&u.push(xn(d)),is(d))for(let v=10;v<d.length;v++){const C=d[v],b=C[1].firstChild;null!==b&&sr(C[1],C,b,u)}const m=o.type;if(8&m)sr(i,s,o.child,u);else if(32&m){const v=Xs(o,s);let C;for(;C=v();)u.push(C)}else if(16&m){const v=RC(s,o);if(Array.isArray(v))u.push(...v);else{const C=bu(s[16]);sr(C[1],C,v,u,!0)}}o=c?o.projectionNext:o.next}return u}class Yl{constructor(s,o){this._lView=s,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,o=s[1];return sr(o,s,o.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(is(s)){const o=s[8],u=o?o.indexOf(this):-1;u>-1&&(rr(s,u),In(o,u))}this._attachedToViewContainer=!1}Vn(this._lView[1],this._lView)}onDestroy(s){Ly(this._lView[1],this._lView,null,s)}markForCheck(){IE(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){vg(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(i,s,o){sa(!0);try{vg(i,s,o)}finally{sa(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var s;this._appRef=null,lg(this._lView[1],s=this._lView,s[11],2,null,null)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=s}}class oi extends Yl{constructor(s){super(s),this._view=s}detectChanges(){sI(this._view)}checkNoChanges(){!function(i){sa(!0);try{sI(i)}finally{sa(!1)}}(this._view)}get context(){return null}}class Qn extends Ma{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const o=hn(s);return new Qg(o,this.ngModule)}}function F0(i){const s=[];for(let o in i)i.hasOwnProperty(o)&&s.push({propName:i[o],templateName:o});return s}const so=new Cn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>ig});class Qg extends Zl{constructor(s,o){super(),this.componentDef=s,this.ngModule=o,this.componentType=s.type,this.selector=s.selectors.map(Fl).join(","),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return F0(this.componentDef.inputs)}get outputs(){return F0(this.componentDef.outputs)}create(s,o,u,c){const d=(c=c||this.ngModule)?function(i,s){return{get:(o,u,c)=>{const d=i.get(o,jd,c);return d!==jd||u===jd?d:s.get(o,u,c)}}}(s,c.injector):s,m=d.get($o,Dc),v=d.get(ir,null),C=m.createRenderer(null,this.componentDef),b=this.componentDef.selectors[0][0]||"div",S=u?function(i,s,o){if(on(i))return i.selectRootElement(s,o===We.ShadowDom);let u="string"==typeof s?i.querySelector(s):s;return u.textContent="",u}(C,u,this.componentDef.encapsulation):N(m.createRenderer(null,this.componentDef),b,function(i){const s=i.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(b)),O=this.componentDef.onPush?576:528,P=function(i,s){return{components:[],scheduler:i||ig,clean:DE,playerHandler:s||null,flags:0}}(),U=uf(0,null,null,1,0,null,null,null,null,null),W=pg(null,U,P,O,null,null,m,C,v,d);let ae,Y;la(W);try{const Pe=function(i,s,o,u,c,d){const m=o[1];o[20]=i;const C=Vl(m,20,2,"#host",null),b=C.mergedAttrs=s.hostAttrs;null!==b&&(Uy(C,b,!0),null!==i&&(dl(c,i,b),null!==C.classes&&by(c,i,C.classes),null!==C.styles&&xC(c,i,C.styles)));const S=u.createRenderer(i,s),O=pg(o,qC(s),null,s.onPush?64:16,o[20],C,u,S,d||null,null);return m.firstCreatePass&&(Pn(os(C,o),m,s.type),XC(m,C),tI(C,o.length,1)),df(o,O),o[20]=O}(S,this.componentDef,W,m,C);if(S)if(u)dl(C,S,["ng-version",L_.full]);else{const{attrs:ve,classes:ot}=function(i){const s=[],o=[];let u=1,c=2;for(;u<i.length;){let d=i[u];if("string"==typeof d)2===c?""!==d&&s.push(d,i[++u]):8===c&&o.push(d);else{if(!eo(c))break;c=d}u++}return{attrs:s,classes:o}}(this.componentDef.selectors[0]);ve&&dl(C,S,ve),ot&&ot.length>0&&by(C,S,ot.join(" "))}if(Y=_o(U,20),void 0!==o){const ve=Y.projection=[];for(let ot=0;ot<this.ngContentSelectors.length;ot++){const vt=o[ot];ve.push(null!=vt?Array.from(vt):null)}}ae=function(i,s,o,u,c){const d=o[1],m=function(i,s,o){const u=fn();i.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),wE(i,u,s,md(i,s,1,null),o));const c=bo(s,i,u.directiveStart,u);Zn(c,s);const d=On(u,s);return d&&Zn(d,s),c}(d,o,s);if(u.components.push(m),i[8]=m,c&&c.forEach(C=>C(m,s)),s.contentQueries){const C=fn();s.contentQueries(1,m,C.directiveStart)}const v=fn();return!d.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(Hs(v.index),KC(o[1],v,0,v.directiveStart,v.directiveEnd,s),JC(s,m)),m}(Pe,this.componentDef,W,P,[VE]),yd(U,W,null)}finally{da()}return new qS(this.componentType,ae,Lu(Y,W),W,Y)}}class qS extends class{}{constructor(s,o,u,c,d){super(),this.location=u,this._rootLView=c,this._tNode=d,this.instance=o,this.hostView=this.changeDetectorRef=new oi(c),this.componentType=s}get injector(){return new Pt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}class $d{}class Jg{}const xa=new Map;class Wb extends $d{constructor(s,o){super(),this._parent=o,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Qn(this);const u=gr(s);this._bootstrapComponents=As(u.bootstrap),this._r3Injector=hI(s,o,[{provide:$d,useValue:this},{provide:Ma,useValue:this.componentFactoryResolver}],oe(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,o=Un.THROW_IF_NOT_FOUND,u=tt.Default){return s===Un||s===$d||s===vd?this:this._r3Injector.get(s,o,u)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class L0 extends Jg{constructor(s){super(),this.moduleType=s,null!==gr(s)&&function(i){const s=new Set;!function o(u){const c=gr(u,!0),d=c.id;null!==d&&(function(i,s,o){if(s&&s!==o)throw new Error(`Duplicate module registered for ${i} - ${oe(s)} vs ${oe(s.name)}`)}(d,xa.get(d),u),xa.set(d,u));const m=As(c.imports);for(const v of m)s.has(v)||(s.add(v),o(v))}(i)}(s)}create(s){return new Wb(this.moduleType,s)}}function Hf(i,s,o,u){return qf(Ae(),ur(),i,s,o,u)}function qf(i,s,o,u,c,d){const m=s+o;return wi(i,m,c)?function(i,s,o){return i[s]=o}(i,m+1,d?u.call(d,c):u(c)):function(i,s){const o=i[s];return o===St?void 0:o}(i,m+1)}function Qb(i,s){const o=Lt();let u;const c=i+20;o.firstCreatePass?(u=function(i,s){if(s)for(let o=s.length-1;o>=0;o--){const u=s[o];if(i===u.name)return u}throw new Ge("302",`The pipe '${i}' could not be found!`)}(s,o.pipeRegistry),o.data[c]=u,u.onDestroy&&(o.destroyHooks||(o.destroyHooks=[])).push(c,u.onDestroy)):u=o.data[c];const d=u.factory||(u.factory=Li(u.type)),m=Wr(Td);try{const v=su(!1),C=d();return su(v),function(i,s,o,u){o>=i.data.length&&(i.data[o]=null,i.blueprint[o]=null),s[o]=u}(o,Ae(),c,C),C}finally{Wr(m)}}function H0(i,s,o){const u=i+20,c=Ae(),d=function(i,s){return i[s]}(c,u);return function(i,s){return i[1].data[s].pure}(c,u)?qf(c,ur(),s,d.transform,o,d):d.transform(o)}function j_(i){return s=>{setTimeout(i,void 0,s)}}const Ho=class extends p.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,o,u){var C,b,S;let c=s,d=o||(()=>null),m=u;if(s&&"object"==typeof s){const O=s;c=null==(C=O.next)?void 0:C.bind(O),d=null==(b=O.error)?void 0:b.bind(O),m=null==(S=O.complete)?void 0:S.bind(O)}this.__isAsync&&(d=j_(d),c&&(c=j_(c)),m&&(m=j_(m)));const v=super.subscribe({next:c,error:d,complete:m});return s instanceof J.w0&&s.add(v),v}};function JS(){return this._results[mf()]()}class $_{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=mf(),u=$_.prototype;u[o]||(u[o]=JS)}get changes(){return this._changes||(this._changes=new Ho)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,o){return this._results.reduce(s,o)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,o){const u=this;u.dirty=!1;const c=Vr(s);(this._changesDetected=!function(i,s,o){if(i.length!==s.length)return!1;for(let u=0;u<i.length;u++){let c=i[u],d=s[u];if(o&&(c=o(c),d=o(d)),d!==c)return!1}return!0}(u._results,c,o))&&(u._results=c,u.length=c.length,u.last=c[this.length-1],u.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;const XS=function(){return H_(fn(),Ae())};let rm=(()=>{class i{}return i.__NG_ELEMENT_ID__=XS,i})();const eR=rm,nT=class extends eR{constructor(s,o,u){super(),this._declarationLView=s,this._declarationTContainer=o,this.elementRef=u}createEmbeddedView(s){const o=this._declarationTContainer.tViews,u=pg(this._declarationLView,o,s,16,null,o.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const d=this._declarationLView[19];return null!==d&&(u[19]=d.createEmbeddedView(o)),yd(o,u,s),new Yl(u)}};function H_(i,s){return 4&i.type?new nT(s,i,Lu(i,s)):null}const tR=function(){return Jn(fn(),Ae())};let bi=(()=>{class i{}return i.__NG_ELEMENT_ID__=tR,i})();const Mn=bi,ai=class extends Mn{constructor(s,o,u){super(),this._lContainer=s,this._hostTNode=o,this._hostLView=u}get element(){return Lu(this._hostTNode,this._hostLView)}get injector(){return new Pt(this._hostTNode,this._hostLView)}get parentInjector(){const s=kr(this._hostTNode,this._hostLView);if(qm(s)){const o=fl(s,this._hostLView),u=iu(s);return new Pt(o[1].data[u+8],o)}return new Pt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const o=iT(this._lContainer);return null!==o&&o[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,o,u){const c=s.createEmbeddedView(o||{});return this.insert(c,u),c}createComponent(s,o,u,c,d){const m=s&&!("function"==typeof s);let v;if(m)v=o;else{const O=o||{};v=O.index,u=O.injector,c=O.projectableNodes,d=O.ngModuleRef}const C=m?s:new Qg(hn(s)),b=u||this.parentInjector;if(!d&&null==C.ngModule&&b){const O=b.get($d,null);O&&(d=O)}const S=C.create(b,c,void 0,d);return this.insert(S.hostView,v),S}insert(s,o){const u=s._lView,c=u[1];if(is(u[3])){const S=this.indexOf(s);if(-1!==S)this.detach(S);else{const O=u[3],P=new ai(O,O[6],O[3]);P.detach(P.indexOf(s))}}const d=this._adjustIndex(o),m=this._lContainer;!function(i,s,o,u){const c=10+u,d=o.length;u>0&&(o[c-1][4]=s),u<d-10?(s[4]=o[c],ls(o,10+u,s)):(o.push(s),s[4]=null),s[3]=o;const m=s[17];null!==m&&o!==m&&function(i,s){const o=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===o?i[9]=[s]:o.push(s)}(m,s);const v=s[19];null!==v&&v.insertView(i),s[2]|=128}(c,u,m,d);const v=nE(d,m),C=u[11],b=fd(C,m[7]);return null!==b&&function(i,s,o,u,c,d){u[0]=c,u[6]=s,lg(i,u,o,1,c,d)}(c,m[6],C,u,b,v),s.attachToViewContainerRef(),ls(G0(m),d,s),s}move(s,o){return this.insert(s,o)}indexOf(s){const o=iT(this._lContainer);return null!==o?o.indexOf(s):-1}remove(s){const o=this._adjustIndex(s,-1),u=rr(this._lContainer,o);u&&(In(G0(this._lContainer),o),Vn(u[1],u))}detach(s){const o=this._adjustIndex(s,-1),u=rr(this._lContainer,o);return u&&null!=In(G0(this._lContainer),o)?new Yl(u):null}_adjustIndex(s,o=0){return null==s?this.length+o:s}};function iT(i){return i[8]}function G0(i){return i[8]||(i[8]=[])}function Jn(i,s){let o;const u=s[i.index];if(is(u))o=u;else{let c;if(8&i.type)c=xn(u);else{const d=s[11];c=d.createComment("");const m=On(i,s);Ca(d,fd(d,m),c,function(i,s){return on(i)?i.nextSibling(s):s.nextSibling}(d,m),!1)}s[i.index]=o=yg(u,s,c,i),df(s,o)}return new ai(o,i,s)}class Zi{constructor(s){this.queryList=s,this.matches=null}clone(){return new Zi(this.queryList)}setDirty(){this.queryList.setDirty()}}class Vu{constructor(s=[]){this.queries=s}createEmbeddedView(s){const o=s.queries;if(null!==o){const u=null!==s.contentQueries?s.contentQueries[0]:o.length,c=[];for(let d=0;d<u;d++){const m=o.getByIndex(d);c.push(this.queries[m.indexInDeclarationView].clone())}return new Vu(c)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let o=0;o<this.queries.length;o++)null!==Yi(s,o).matches&&this.queries[o].setDirty()}}class ka{constructor(s,o,u=null){this.predicate=s,this.flags=o,this.read=u}}class Xl{constructor(s=[]){this.queries=s}elementStart(s,o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(s,o)}elementEnd(s){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(s)}embeddedTView(s){let o=null;for(let u=0;u<this.length;u++){const c=null!==o?o.length:0,d=this.getByIndex(u).embeddedTView(s,c);d&&(d.indexInDeclarationView=u,null!==o?o.push(d):o=[d])}return null!==o?new Xl(o):null}template(s,o){for(let u=0;u<this.queries.length;u++)this.queries[u].template(s,o)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class ec{constructor(s,o=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(s,o){this.isApplyingToNode(o)&&this.matchTNode(s,o)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,o){this.elementStart(s,o)}embeddedTView(s,o){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,o),new ec(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let u=s.parent;for(;null!==u&&8&u.type&&u.index!==o;)u=u.parent;return o===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(s,o){const u=this.metadata.predicate;if(Array.isArray(u))for(let c=0;c<u.length;c++){const d=u[c];this.matchTNodeWithReadOption(s,o,nR(o,d)),this.matchTNodeWithReadOption(s,o,ht(o,s,d,!1,!1))}else u===rm?4&o.type&&this.matchTNodeWithReadOption(s,o,-1):this.matchTNodeWithReadOption(s,o,ht(o,s,u,!1,!1))}matchTNodeWithReadOption(s,o,u){if(null!==u){const c=this.metadata.read;if(null!==c)if(c===jo||c===bi||c===rm&&4&o.type)this.addMatch(o.index,-2);else{const d=ht(o,s,c,!1,!1);null!==d&&this.addMatch(o.index,d)}else this.addMatch(o.index,u)}}addMatch(s,o){null===this.matches?this.matches=[s,o]:this.matches.push(s,o)}}function nR(i,s){const o=i.localNames;if(null!==o)for(let u=0;u<o.length;u+=2)if(o[u]===s)return o[u+1];return null}function oT(i,s,o,u){return-1===o?function(i,s){return 11&i.type?Lu(i,s):4&i.type?H_(i,s):null}(s,i):-2===o?function(i,s,o){return o===jo?Lu(s,i):o===rm?H_(s,i):o===bi?Jn(s,i):void 0}(i,s,u):bo(i,i[1],o,s)}function im(i,s,o,u){const c=s[19].queries[u];if(null===c.matches){const d=i.data,m=o.matches,v=[];for(let C=0;C<m.length;C+=2){const b=m[C];v.push(b<0?null:oT(s,d[b],m[C+1],o.metadata.read))}c.matches=v}return c.matches}function Ns(i,s,o,u){const c=i.queries.getByIndex(o),d=c.matches;if(null!==d){const m=im(i,s,c,o);for(let v=0;v<d.length;v+=2){const C=d[v];if(C>0)u.push(m[v/2]);else{const b=d[v+1],S=s[-C];for(let O=10;O<S.length;O++){const P=S[O];P[17]===P[3]&&Ns(P[1],P,b,u)}if(null!==S[9]){const O=S[9];for(let P=0;P<O.length;P++){const U=O[P];Ns(U[1],U,b,u)}}}}}return u}function aT(i){const s=Ae(),o=Lt(),u=ll();eu(u+1);const c=Yi(o,u);if(i.dirty&&Es(s)===(2==(2&c.metadata.flags))){if(null===c.matches)i.reset([]);else{const d=c.crossesNgTemplate?Ns(o,s,u,[]):im(o,s,c,u);i.reset(d,P0),i.notifyOnChanges()}return!0}return!1}function tc(i,s,o,u){const c=Lt();if(c.firstCreatePass){const d=fn();(function(i,s,o){null===i.queries&&(i.queries=new Xl),i.queries.track(new ec(s,o))})(c,new ka(s,o,u),d.index),function(i,s){const o=i.contentQueries||(i.contentQueries=[]);s!==(o.length?o[o.length-1]:-1)&&o.push(i.queries.length-1,s)}(c,i),2==(2&o)&&(c.staticContentQueries=!0)}!function(i,s,o){const u=new $_(4==(4&o));Ly(i,s,u,u.destroy),null===s[19]&&(s[19]=new Vu),s[19].queries.push(new Zi(u))}(c,Ae(),o)}function uT(){return i=Ae(),s=ll(),i[19].queries[s].queryList;var i,s}function Yi(i,s){return i.queries.getByIndex(s)}const iw=new Cn("Application Initializer");let qo=(()=>{class i{constructor(o){this.appInits=o,this.resolve=Yn,this.reject=Yn,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,c)=>{this.resolve=u,this.reject=c})}runInitializers(){if(this.initialized)return;const o=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const d=this.appInits[c]();if(kg(d))o.push(d);else if(c_(d)){const m=new Promise((v,C)=>{d.subscribe({complete:v,error:C})});o.push(m)}}Promise.all(o).then(()=>{u()}).catch(c=>{this.reject(c)}),0===o.length&&u(),this.initialized=!0}}return i.\u0275fac=function(o){return new(o||i)(ke(iw,8))},i.\u0275prov=un({token:i,factory:i.\u0275fac}),i})();const Kd=new Cn("AppId"),K_={provide:Kd,useFactory:function(){return`${Z_()}${Z_()}${Z_()}`},deps:[]};function Z_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ow=new Cn("Platform Initializer"),RT=new Cn("Platform ID"),Y_=new Cn("appBootstrapListener");let Q_=(()=>{class i{log(o){console.log(o)}warn(o){console.warn(o)}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=un({token:i,factory:i.\u0275fac}),i})();const J_=new Cn("LocaleId"),X_=new Cn("DefaultCurrencyCode");class mR{constructor(s,o){this.ngModuleFactory=s,this.componentFactories=o}}const hm=function(i){return new L0(i)},xT=hm,ev=function(i){return Promise.resolve(hm(i))},fm=function(i){const s=hm(i),u=As(gr(i).declarations).reduce((c,d)=>{const m=hn(d);return m&&c.push(new Qg(m)),c},[]);return new mR(s,u)},aw=fm,FT=function(i){return Promise.resolve(fm(i))};let uw=(()=>{class i{constructor(){this.compileModuleSync=xT,this.compileModuleAsync=ev,this.compileModuleAndAllComponentsSync=aw,this.compileModuleAndAllComponentsAsync=FT}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=un({token:i,factory:i.\u0275fac}),i})();const vR=(()=>Promise.resolve(0))();function lw(i){"undefined"==typeof Zone?vR.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class Di{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ho(!1),this.onMicrotaskEmpty=new Ho(!1),this.onStable=new Ho(!1),this.onError=new Ho(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!u&&o,c.shouldCoalesceRunChangeDetection=u,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function(){let i=Et.requestAnimationFrame,s=Et.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&s){const o=i[Zone.__symbol__("OriginalDelegate")];o&&(i=o);const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function(i){const s=()=>{!function(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Et,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,cw(i),i.isCheckStableRunning=!0,gm(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),cw(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,u,c,d,m,v)=>{try{return BT(i),o.invokeTask(c,d,m,v)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||i.shouldCoalesceRunChangeDetection)&&s(),jT(i)}},onInvoke:(o,u,c,d,m,v,C)=>{try{return BT(i),o.invoke(c,d,m,v,C)}finally{i.shouldCoalesceRunChangeDetection&&s(),jT(i)}},onHasTask:(o,u,c,d)=>{o.hasTask(c,d),u===c&&("microTask"==d.change?(i._hasPendingMicrotasks=d.microTask,cw(i),gm(i)):"macroTask"==d.change&&(i.hasPendingMacrotasks=d.macroTask))},onHandleError:(o,u,c,d)=>(o.handleError(c,d),i.runOutsideAngular(()=>i.onError.emit(d)),!1)})}(c)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Di.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Di.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,o,u){return this._inner.run(s,o,u)}runTask(s,o,u,c){const d=this._inner,m=d.scheduleEventTask("NgZoneEvent: "+c,s,pm,Yn,Yn);try{return d.runTask(m,o,u)}finally{d.cancelTask(m)}}runGuarded(s,o,u){return this._inner.runGuarded(s,o,u)}runOutsideAngular(s){return this._outer.run(s)}}const pm={};function gm(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function cw(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function BT(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function jT(i){i._nesting--,gm(i)}class wR{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ho,this.onMicrotaskEmpty=new Ho,this.onStable=new Ho,this.onError=new Ho}run(s,o,u){return s.apply(o,u)}runGuarded(s,o,u){return s.apply(o,u)}runOutsideAngular(s){return s()}runTask(s,o,u,c){return s.apply(o,u)}}let Qf=(()=>{class i{constructor(o){this._ngZone=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Di.assertNotInAngularZone(),lw(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())lw(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(o)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,u,c){let d=-1;u&&u>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==d),o(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:o,timeoutId:d,updateCb:c})}whenStable(o,u,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,u,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(o,u,c){return[]}}return i.\u0275fac=function(o){return new(o||i)(ke(Di))},i.\u0275prov=un({token:i,factory:i.\u0275fac}),i})(),nv=(()=>{class i{constructor(){this._applications=new Map,Xf.addToWindow(this)}registerApplication(o,u){this._applications.set(o,u)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,u=!0){return Xf.findTestabilityInTree(this,o,u)}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=un({token:i,factory:i.\u0275fac}),i})();class Jf{addToWindow(s){}findTestabilityInTree(s,o,u){return null}}function dw(i){Xf=i}let Xf=new Jf,ep=!0,rv=!1;function iv(){return rv=!0,ep}function hw(){if(rv)throw new Error("Cannot enable prod mode after platform setup.");ep=!1}let xs;const ov=new Cn("AllowMultipleToken");class GT{constructor(s,o){this.name=s,this.token=o}}function av(i,s,o=[]){const u=`Platform: ${s}`,c=new Cn(u);return(d=[])=>{let m=pw();if(!m||m.injector.get(ov,!1))if(i)i(o.concat(d).concat({provide:c,useValue:!0}));else{const v=o.concat(d).concat({provide:c,useValue:!0},{provide:wg,useValue:"platform"});!function(i){if(xs&&!xs.destroyed&&!xs.injector.get(ov,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");xs=i.get(gw);const s=i.get(ow,null);s&&s.forEach(o=>o())}(Un.create({providers:v,name:u}))}return function(i){const s=pw();if(!s)throw new Error("No platform exists!");if(!s.injector.get(i,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return s}(c)}}function pw(){return xs&&!xs.destroyed?xs:null}let gw=(()=>{class i{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,u){const v=function(i,s){let o;return o="noop"===i?new wR:("zone.js"===i?void 0:i)||new Di({enableLongStackTrace:iv(),shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),o}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),C=[{provide:Di,useValue:v}];return v.run(()=>{const b=Un.create({providers:C,parent:this.injector,name:o.moduleType.name}),S=o.create(b),O=S.injector.get(Ea,null);if(!O)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return v.runOutsideAngular(()=>{const P=v.onError.subscribe({next:U=>{O.handleError(U)}});S.onDestroy(()=>{yw(this._modules,S),P.unsubscribe()})}),function(i,s,o){try{const u=o();return kg(u)?u.catch(c=>{throw s.runOutsideAngular(()=>i.handleError(c)),c}):u}catch(u){throw s.runOutsideAngular(()=>i.handleError(u)),u}}(O,v,()=>{const P=S.injector.get(qo);return P.runInitializers(),P.donePromise.then(()=>(function(i){_t(i,"Expected localeId to be defined"),"string"==typeof i&&(E0=i.toLowerCase().replace(/_/g,"-"))}(S.injector.get(J_,w_)||w_),this._moduleDoBootstrap(S),S))})})}bootstrapModule(o,u=[]){const c=qT({},u);return function(i,s,o){const u=new L0(o);return Promise.resolve(u)}(0,0,o).then(d=>this.bootstrapModuleFactory(d,c))}_moduleDoBootstrap(o){const u=o.injector.get(Zd);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(c=>u.bootstrap(c));else{if(!o.instance.ngDoBootstrap)throw new Error(`The module ${oe(o.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);o.instance.ngDoBootstrap(u)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(o){return new(o||i)(ke(Un))},i.\u0275prov=un({token:i,factory:i.\u0275fac}),i})();function qT(i,s){return Array.isArray(s)?s.reduce(qT,i):Qe(Qe({},i),s)}let Zd=(()=>{class i{constructor(o,u,c,d,m){this._zone=o,this._injector=u,this._exceptionHandler=c,this._componentFactoryResolver=d,this._initStatus=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new F.y(b=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{b.next(this._stable),b.complete()})}),C=new F.y(b=>{let S;this._zone.runOutsideAngular(()=>{S=this._zone.onStable.subscribe(()=>{Di.assertNotInAngularZone(),lw(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,b.next(!0))})})});const O=this._zone.onUnstable.subscribe(()=>{Di.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{b.next(!1)}))});return()=>{S.unsubscribe(),O.unsubscribe()}});this.isStable=(0,de.T)(v,C.pipe((0,se.B)()))}bootstrap(o,u){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let c;c=o instanceof Zl?o:this._componentFactoryResolver.resolveComponentFactory(o),this.componentTypes.push(c.componentType);const d=function(i){return i.isBoundToModule}(c)?void 0:this._injector.get($d),v=c.create(Un.NULL,[],u||c.selector,d),C=v.location.nativeElement,b=v.injector.get(Qf,null),S=b&&v.injector.get(nv);return b&&S&&S.registerApplication(C,b),v.onDestroy(()=>{this.detachView(v.hostView),yw(this.components,v),S&&S.unregisterApplication(C)}),this._loadComponent(v),v}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const u=o;this._views.push(u),u.attachToAppRef(this)}detachView(o){const u=o;yw(this._views,u),u.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(Y_,[]).concat(this._bootstrapListeners).forEach(c=>c(o))}ngOnDestroy(){this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(o){return new(o||i)(ke(Di),ke(Un),ke(Ea),ke(Ma),ke(qo))},i.\u0275prov=un({token:i,factory:i.\u0275fac}),i})();function yw(i,s){const o=i.indexOf(s);o>-1&&i.splice(o,1)}const rp=function(i){return function(i,s,o){if(_s(i)&&!o){const u=nn(i.index,s);return new Yl(u,u)}return 47&i.type?new Yl(s[16],s):null}(fn(),Ae(),16==(16&i))};let NR=(()=>{class i{}return i.__NG_ELEMENT_ID__=rp,i})();const Aw=function(i){return null};class aD{constructor(){}supports(s){return Ed(s)}create(s){return new kR(s)}}const Rw=(i,s)=>s;class kR{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||Rw}forEachItem(s){let o;for(o=this._itHead;null!==o;o=o._next)s(o)}forEachOperation(s){let o=this._itHead,u=this._removalsHead,c=0,d=null;for(;o||u;){const m=!u||o&&o.currentIndex<Jd(u,c,d)?o:u,v=Jd(m,c,d),C=m.currentIndex;if(m===u)c--,u=u._nextRemoved;else if(o=o._next,null==m.previousIndex)c++;else{d||(d=[]);const b=v-c,S=C-c;if(b!=S){for(let P=0;P<b;P++){const U=P<d.length?d[P]:d[P]=0,W=U+P;S<=W&&W<b&&(d[P]=U+1)}d[m.previousIndex]=S-b}}v!==C&&s(m,v,C)}}forEachPreviousItem(s){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachMovedItem(s){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}forEachIdentityChange(s){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)s(o)}diff(s){if(null==s&&(s=[]),!Ed(s))throw new Error(`Error trying to diff '${oe(s)}'. Only arrays and iterables are allowed`);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let c,d,m,o=this._itHead,u=!1;if(Array.isArray(s)){this.length=s.length;for(let v=0;v<this.length;v++)d=s[v],m=this._trackByFn(v,d),null!==o&&Object.is(o.trackById,m)?(u&&(o=this._verifyReinsertion(o,d,m,v)),Object.is(o.item,d)||this._addIdentityChange(o,d)):(o=this._mismatch(o,d,m,v),u=!0),o=o._next}else c=0,function(i,s){if(Array.isArray(i))for(let o=0;o<i.length;o++)s(i[o]);else{const o=i[mf()]();let u;for(;!(u=o.next()).done;)s(u.value)}}(s,v=>{m=this._trackByFn(c,v),null!==o&&Object.is(o.trackById,m)?(u&&(o=this._verifyReinsertion(o,v,m,c)),Object.is(o.item,v)||this._addIdentityChange(o,v)):(o=this._mismatch(o,v,m,c),u=!0),o=o._next,c++}),this.length=c;return this._truncate(o),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,o,u,c){let d;return null===s?d=this._itTail:(d=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._reinsertAfter(s,d,c)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(u,c))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._moveAfter(s,d,c)):s=this._addAfter(new Nw(o,u),d,c),s}_verifyReinsertion(s,o,u,c){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==d?s=this._reinsertAfter(d,s._prev,c):s.currentIndex!=c&&(s.currentIndex=c,this._addToMoves(s,c)),s}_truncate(s){for(;null!==s;){const o=s._next;this._addToRemovals(this._unlink(s)),s=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,o,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const c=s._prevRemoved,d=s._nextRemoved;return null===c?this._removalsHead=d:c._nextRemoved=d,null===d?this._removalsTail=c:d._prevRemoved=c,this._insertAfter(s,o,u),this._addToMoves(s,u),s}_moveAfter(s,o,u){return this._unlink(s),this._insertAfter(s,o,u),this._addToMoves(s,u),s}_addAfter(s,o,u){return this._insertAfter(s,o,u),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,o,u){const c=null===o?this._itHead:o._next;return s._next=c,s._prev=o,null===c?this._itTail=s:c._prev=s,null===o?this._itHead=s:o._next=s,null===this._linkedRecords&&(this._linkedRecords=new dv),this._linkedRecords.put(s),s.currentIndex=u,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const o=s._prev,u=s._next;return null===o?this._itHead=u:o._next=u,null===u?this._itTail=o:u._prev=o,s}_addToMoves(s,o){return s.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new dv),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,o){return s.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class Nw{constructor(s,o){this.item=s,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Mw{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,o){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===o||o<=u.currentIndex)&&Object.is(u.trackById,s))return u;return null}remove(s){const o=s._prevDup,u=s._nextDup;return null===o?this._head=u:o._nextDup=u,null===u?this._tail=o:u._prevDup=o,null===this._head}}class dv{constructor(){this.map=new Map}put(s){const o=s.trackById;let u=this.map.get(o);u||(u=new Mw,this.map.set(o,u)),u.add(s)}get(s,o){const c=this.map.get(s);return c?c.get(s,o):null}remove(s){const o=s.trackById;return this.map.get(o).remove(s)&&this.map.delete(o),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Jd(i,s,o){const u=i.previousIndex;if(null===u)return u;let c=0;return o&&u<o.length&&(c=o[u]),u+s+c}class xw{constructor(){}supports(s){return s instanceof Map||jE(s)}create(){return new Ow}}class Ow{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let o;for(o=this._mapHead;null!==o;o=o._next)s(o)}forEachPreviousItem(s){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)s(o)}forEachChangedItem(s){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}diff(s){if(s){if(!(s instanceof Map||jE(s)))throw new Error(`Error trying to diff '${oe(s)}'. Only maps and objects are allowed`)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(s,(u,c)=>{if(o&&o.key===c)this._maybeAddToChanges(o,u),this._appendAfter=o,o=o._next;else{const d=this._getOrCreateRecordForKey(c,u);o=this._insertBeforeOrAppend(o,d)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let u=o;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,o){if(s){const u=s._prev;return o._next=s,o._prev=u,s._prev=o,u&&(u._next=o),s===this._mapHead&&(this._mapHead=o),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(s,o){if(this._records.has(s)){const c=this._records.get(s);this._maybeAddToChanges(c,o);const d=c._prev,m=c._next;return d&&(d._next=m),m&&(m._prev=d),c._next=null,c._prev=null,c}const u=new FR(s);return this._records.set(s,u),u.currentValue=o,this._addToAdditions(u),u}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,o){Object.is(o,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=o,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,o){s instanceof Map?s.forEach(o):Object.keys(s).forEach(u=>o(s[u],u))}}class FR{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function hv(){return new oo([new aD])}let oo=(()=>{class i{constructor(o){this.factories=o}static create(o,u){if(null!=u){const c=u.factories.slice();o=o.concat(c)}return new i(o)}static extend(o){return{provide:i,useFactory:u=>i.create(o,u||hv()),deps:[[i,new Tr,new Kn]]}}find(o){const u=this.factories.find(c=>c.supports(o));if(null!=u)return u;throw new Error(`Cannot find a differ supporting object '${o}' of type '${function(i){return i.name||typeof i}(o)}'`)}}return i.\u0275prov=un({token:i,providedIn:"root",factory:hv}),i})();function uD(){return new sp([new xw])}let sp=(()=>{class i{constructor(o){this.factories=o}static create(o,u){if(u){const c=u.factories.slice();o=o.concat(c)}return new i(o)}static extend(o){return{provide:i,useFactory:u=>i.create(o,u||uD()),deps:[[i,new Tr,new Kn]]}}find(o){const u=this.factories.find(c=>c.supports(o));if(u)return u;throw new Error(`Cannot find a differ supporting object '${o}'`)}}return i.\u0275prov=un({token:i,providedIn:"root",factory:uD}),i})();const LR=[new xw],kw=new oo([new aD]),UR=new sp(LR),BR=av(null,"core",[{provide:RT,useValue:"unknown"},{provide:gw,deps:[Un]},{provide:nv,deps:[]},{provide:Q_,deps:[]}]),Vw=[{provide:Zd,useClass:Zd,deps:[Di,Un,Ea,Ma,qo]},{provide:so,deps:[Di],useFactory:function(i){let s=[];return i.onStable.subscribe(()=>{for(;s.length;)s.pop()()}),function(o){s.push(o)}}},{provide:qo,useClass:qo,deps:[[new Kn,iw]]},{provide:uw,useClass:uw,deps:[]},K_,{provide:oo,useFactory:function(){return kw},deps:[]},{provide:sp,useFactory:function(){return UR},deps:[]},{provide:J_,useFactory:function(i){return i||"undefined"!=typeof $localize&&$localize.locale||w_},deps:[[new qi(J_),new Kn,new Tr]]},{provide:X_,useValue:"USD"}];let $R=(()=>{class i{constructor(o){}}return i.\u0275fac=function(o){return new(o||i)(ke(Zd))},i.\u0275mod=Ba({type:i}),i.\u0275inj=bn({providers:Vw}),i})()},6293:(Ze,we,k)=>{"use strict";k.d(we,{Z:()=>Ge});var p=k(4213),J=k(1177),F=k(1572),de=k(3855);class se{constructor(le,K){this._delegate=le,this.firebase=K,(0,F._addComponent)(le,new J.wA("app-compat",()=>this,"PUBLIC")),this.container=le.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(le){this._delegate.automaticDataCollectionEnabled=le}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(le=>{this._delegate.checkDestroyed(),le()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,F.deleteApp)(this._delegate)))}_getService(le,K=F._DEFAULT_ENTRY_NAME){var ce;this._delegate.checkDestroyed();const Te=this._delegate.container.getProvider(le);return!Te.isInitialized()&&"EXPLICIT"===(null===(ce=Te.getComponent())||void 0===ce?void 0:ce.instantiationMode)&&Te.initialize(),Te.getImmediate({identifier:K})}_removeServiceInstance(le,K=F._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(le).clearInstance(K)}_addComponent(le){(0,F._addComponent)(this._delegate,le)}_addOrOverwriteComponent(le){(0,F._addOrOverwriteComponent)(this._delegate,le)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ie=new p.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),H=function he(){const Be=function(Be){const le={},K={__esModule:!0,initializeApp:function(Ke,ct={}){const ee=F.initializeApp(Ke,ct);if((0,p.r3)(le,ee.name))return le[ee.name];const fe=new Be(ee,K);return le[ee.name]=fe,fe},app:Te,registerVersion:F.registerVersion,setLogLevel:F.setLogLevel,onLog:F.onLog,apps:null,SDK_VERSION:F.SDK_VERSION,INTERNAL:{registerComponent:function(Ke){const ct=Ke.name,ee=ct.replace("-compat","");if(F._registerComponent(Ke)&&"PUBLIC"===Ke.type){const fe=(Ce=Te())=>{if("function"!=typeof Ce[ee])throw ie.create("invalid-app-argument",{appName:ct});return Ce[ee]()};void 0!==Ke.serviceProps&&(0,p.ZB)(fe,Ke.serviceProps),K[ee]=fe,Be.prototype[ee]=function(...Ce){return this._getService.bind(this,ct).apply(this,Ke.multipleInstances?Ce:[])}}return"PUBLIC"===Ke.type?K[ee]:null},removeApp:function(Ke){delete le[Ke]},useAsService:function(Ke,ct){return"serverAuth"===ct?null:ct},modularAPIs:F}};function Te(Ke){if(!(0,p.r3)(le,Ke=Ke||F._DEFAULT_ENTRY_NAME))throw ie.create("no-app",{appName:Ke});return le[Ke]}return K.default=K,Object.defineProperty(K,"apps",{get:function(){return Object.keys(le).map(Ke=>le[Ke])}}),Te.App=Be,K}(se);return Be.INTERNAL=Object.assign(Object.assign({},Be.INTERNAL),{createFirebaseNamespace:he,extendNamespace:function(K){(0,p.ZB)(Be,K)},createSubscribe:p.ne,ErrorFactory:p.LL,deepExtend:p.ZB}),Be}(),$=new de.Yd("@firebase/app-compat");if((0,p.jU)()&&void 0!==self.firebase){$.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Be=self.firebase.SDK_VERSION;Be&&Be.indexOf("LITE")>=0&&$.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ge=H;(0,F.registerVersion)("@firebase/app-compat","0.1.9",undefined)},1572:(Ze,we,k)=>{"use strict";k.r(we),k.d(we,{FirebaseError:()=>de.ZR,SDK_VERSION:()=>Xo,_DEFAULT_ENTRY_NAME:()=>er,_addComponent:()=>dn,_addOrOverwriteComponent:()=>xr,_apps:()=>_t,_clearComponents:()=>bn,_components:()=>Nt,_getProvider:()=>un,_registerComponent:()=>zr,_removeServiceInstance:()=>Ua,deleteApp:()=>ar,getApp:()=>ns,getApps:()=>Re,initializeApp:()=>Ni,onLog:()=>zt,registerVersion:()=>tt,setLogLevel:()=>Mi});var p=k(8239),J=k(1177),F=k(3855),de=k(4213);class se{constructor(ft){this.container=ft}getPlatformInfoString(){return this.container.getProviders().map(kt=>{if(function(lt){const ft=lt.getComponent();return"VERSION"===(null==ft?void 0:ft.type)}(kt)){const Ft=kt.getImmediate();return`${Ft.library}/${Ft.version}`}return null}).filter(kt=>kt).join(" ")}}const ie="@firebase/app",he=new F.Yd("@firebase/app"),er="[DEFAULT]",Dt={[ie]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},_t=new Map,Nt=new Map;function dn(lt,ft){try{lt.container.addComponent(ft)}catch(kt){he.debug(`Component ${ft.name} failed to register with FirebaseApp ${lt.name}`,kt)}}function xr(lt,ft){lt.container.addOrOverwriteComponent(ft)}function zr(lt){const ft=lt.name;if(Nt.has(ft))return he.debug(`There were multiple attempts to register component ${ft}.`),!1;Nt.set(ft,lt);for(const kt of _t.values())dn(kt,lt);return!0}function un(lt,ft){return lt.container.getProvider(ft)}function Ua(lt,ft,kt=er){un(lt,ft).clearInstance(kt)}function bn(){Nt.clear()}const $t=new de.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class Tn{constructor(ft,kt,Ft){this._isDeleted=!1,this._options=Object.assign({},ft),this._config=Object.assign({},kt),this._name=kt.name,this._automaticDataCollectionEnabled=kt.automaticDataCollectionEnabled,this._container=Ft,this.container.addComponent(new J.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ft){this.checkDestroyed(),this._automaticDataCollectionEnabled=ft}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ft){this._isDeleted=ft}checkDestroyed(){if(this.isDeleted)throw $t.create("app-deleted",{appName:this._name})}}const Xo="9.4.1";function Ni(lt,ft={}){"object"!=typeof ft&&(ft={name:ft});const kt=Object.assign({name:er,automaticDataCollectionEnabled:!1},ft),Ft=kt.name;if("string"!=typeof Ft||!Ft)throw $t.create("bad-app-name",{appName:String(Ft)});const Kr=_t.get(Ft);if(Kr){if((0,de.vZ)(lt,Kr.options)&&(0,de.vZ)(kt,Kr.config))return Kr;throw $t.create("duplicate-app",{appName:Ft})}const Jt=new J.H0(Ft);for(const ut of Nt.values())Jt.addComponent(ut);const We=new Tn(lt,kt,Jt);return _t.set(Ft,We),We}function ns(lt=er){const ft=_t.get(lt);if(!ft)throw $t.create("no-app",{appName:lt});return ft}function Re(){return Array.from(_t.values())}function ar(lt){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,p.Z)(function*(lt){const ft=lt.name;_t.has(ft)&&(_t.delete(ft),yield Promise.all(lt.container.getProviders().map(kt=>kt.delete())),lt.isDeleted=!0)})).apply(this,arguments)}function tt(lt,ft,kt){var Ft;let Kr=null!==(Ft=Dt[lt])&&void 0!==Ft?Ft:lt;kt&&(Kr+=`-${kt}`);const Jt=Kr.match(/\s|\//),We=ft.match(/\s|\//);if(Jt||We){const ut=[`Unable to register library "${Kr}" with version "${ft}":`];return Jt&&ut.push(`library name "${Kr}" contains illegal characters (whitespace or "/")`),Jt&&We&&ut.push("and"),We&&ut.push(`version name "${ft}" contains illegal characters (whitespace or "/")`),void he.warn(ut.join(" "))}zr(new J.wA(`${Kr}-version`,()=>({library:Kr,version:ft}),"VERSION"))}function zt(lt,ft){if(null!==lt&&"function"!=typeof lt)throw $t.create("invalid-log-argument");(0,F.Am)(lt,ft)}function Mi(lt){(0,F.Ub)(lt)}zr(new J.wA("platform-logger",ft=>new se(ft),"PRIVATE")),tt(ie,"0.7.8",""),tt(ie,"0.7.8","esm2017"),tt("fire-js","")},1177:(Ze,we,k)=>{"use strict";k.d(we,{wA:()=>F,H0:()=>oe});var p=k(8239),J=k(4213);class F{constructor(H,$,Q){this.name=H,this.instanceFactory=$,this.type=Q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(H){return this.instantiationMode=H,this}setMultipleInstances(H){return this.multipleInstances=H,this}setServiceProps(H){return this.serviceProps=H,this}setInstanceCreatedCallback(H){return this.onInstanceCreated=H,this}}const de="[DEFAULT]";class se{constructor(H,$){this.name=H,this.container=$,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(H){const $=this.normalizeInstanceIdentifier(H);if(!this.instancesDeferred.has($)){const Q=new J.BH;if(this.instancesDeferred.set($,Q),this.isInitialized($)||this.shouldAutoInitialize())try{const je=this.getOrInitializeService({instanceIdentifier:$});je&&Q.resolve(je)}catch(je){}}return this.instancesDeferred.get($).promise}getImmediate(H){var $;const Q=this.normalizeInstanceIdentifier(null==H?void 0:H.identifier),je=null!==($=null==H?void 0:H.optional)&&void 0!==$&&$;if(!this.isInitialized(Q)&&!this.shouldAutoInitialize()){if(je)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Q})}catch(De){if(je)return null;throw De}}getComponent(){return this.component}setComponent(H){if(H.name!==this.name)throw Error(`Mismatching Component ${H.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=H,this.shouldAutoInitialize()){if("EAGER"===H.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:de})}catch($){}for(const[$,Q]of this.instancesDeferred.entries()){const je=this.normalizeInstanceIdentifier($);try{const De=this.getOrInitializeService({instanceIdentifier:je});Q.resolve(De)}catch(De){}}}}clearInstance(H=de){this.instancesDeferred.delete(H),this.instancesOptions.delete(H),this.instances.delete(H)}delete(){var H=this;return(0,p.Z)(function*(){const $=Array.from(H.instances.values());yield Promise.all([...$.filter(Q=>"INTERNAL"in Q).map(Q=>Q.INTERNAL.delete()),...$.filter(Q=>"_delete"in Q).map(Q=>Q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(H=de){return this.instances.has(H)}getOptions(H=de){return this.instancesOptions.get(H)||{}}initialize(H={}){const{options:$={}}=H,Q=this.normalizeInstanceIdentifier(H.instanceIdentifier);if(this.isInitialized(Q))throw Error(`${this.name}(${Q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const je=this.getOrInitializeService({instanceIdentifier:Q,options:$});for(const[De,Ge]of this.instancesDeferred.entries())Q===this.normalizeInstanceIdentifier(De)&&Ge.resolve(je);return je}onInit(H,$){var Q;const je=this.normalizeInstanceIdentifier($),De=null!==(Q=this.onInitCallbacks.get(je))&&void 0!==Q?Q:new Set;De.add(H),this.onInitCallbacks.set(je,De);const Ge=this.instances.get(je);return Ge&&H(Ge,je),()=>{De.delete(H)}}invokeOnInitCallbacks(H,$){const Q=this.onInitCallbacks.get($);if(Q)for(const je of Q)try{je(H,$)}catch(De){}}getOrInitializeService({instanceIdentifier:H,options:$={}}){let Q=this.instances.get(H);if(!Q&&this.component&&(Q=this.component.instanceFactory(this.container,{instanceIdentifier:(he=H,he===de?void 0:he),options:$}),this.instances.set(H,Q),this.instancesOptions.set(H,$),this.invokeOnInitCallbacks(Q,H),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,H,Q)}catch(je){}var he;return Q||null}normalizeInstanceIdentifier(H=de){return this.component?this.component.multipleInstances?H:de:H}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class oe{constructor(H){this.name=H,this.providers=new Map}addComponent(H){const $=this.getProvider(H.name);if($.isComponentSet())throw new Error(`Component ${H.name} has already been registered with ${this.name}`);$.setComponent(H)}addOrOverwriteComponent(H){this.getProvider(H.name).isComponentSet()&&this.providers.delete(H.name),this.addComponent(H)}getProvider(H){if(this.providers.has(H))return this.providers.get(H);const $=new se(H,this);return this.providers.set(H,$),$}getProviders(){return Array.from(this.providers.values())}}},3855:(Ze,we,k)=>{"use strict";k.d(we,{in:()=>J,Yd:()=>ie,Ub:()=>oe,Am:()=>he});const p=[];var J=(()=>{return(H=J||(J={}))[H.DEBUG=0]="DEBUG",H[H.VERBOSE=1]="VERBOSE",H[H.INFO=2]="INFO",H[H.WARN=3]="WARN",H[H.ERROR=4]="ERROR",H[H.SILENT=5]="SILENT",J;var H})();const F={debug:J.DEBUG,verbose:J.VERBOSE,info:J.INFO,warn:J.WARN,error:J.ERROR,silent:J.SILENT},de=J.INFO,se={[J.DEBUG]:"log",[J.VERBOSE]:"log",[J.INFO]:"info",[J.WARN]:"warn",[J.ERROR]:"error"},me=(H,$,...Q)=>{if($<H.logLevel)return;const je=(new Date).toISOString(),De=se[$];if(!De)throw new Error(`Attempted to log a message with an invalid logType (value: ${$})`);console[De](`[${je}]  ${H.name}:`,...Q)};class ie{constructor($){this.name=$,this._logLevel=de,this._logHandler=me,this._userLogHandler=null,p.push(this)}get logLevel(){return this._logLevel}set logLevel($){if(!($ in J))throw new TypeError(`Invalid value "${$}" assigned to \`logLevel\``);this._logLevel=$}setLogLevel($){this._logLevel="string"==typeof $?F[$]:$}get logHandler(){return this._logHandler}set logHandler($){if("function"!=typeof $)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=$}get userLogHandler(){return this._userLogHandler}set userLogHandler($){this._userLogHandler=$}debug(...$){this._userLogHandler&&this._userLogHandler(this,J.DEBUG,...$),this._logHandler(this,J.DEBUG,...$)}log(...$){this._userLogHandler&&this._userLogHandler(this,J.VERBOSE,...$),this._logHandler(this,J.VERBOSE,...$)}info(...$){this._userLogHandler&&this._userLogHandler(this,J.INFO,...$),this._logHandler(this,J.INFO,...$)}warn(...$){this._userLogHandler&&this._userLogHandler(this,J.WARN,...$),this._logHandler(this,J.WARN,...$)}error(...$){this._userLogHandler&&this._userLogHandler(this,J.ERROR,...$),this._logHandler(this,J.ERROR,...$)}}function oe(H){p.forEach($=>{$.setLogLevel(H)})}function he(H,$){for(const Q of p){let je=null;$&&$.level&&(je=F[$.level]),Q.userLogHandler=null===H?null:(De,Ge,...Be)=>{const le=Be.map(K=>{if(null==K)return null;if("string"==typeof K)return K;if("number"==typeof K||"boolean"==typeof K)return K.toString();if(K instanceof Error)return K.message;try{return JSON.stringify(K)}catch(ce){return null}}).filter(K=>K).join(" ");Ge>=(null!=je?je:De.logLevel)&&H({level:J[Ge].toLowerCase(),message:le,args:Be,type:De.name})}}}},8239:(Ze,we,k)=>{"use strict";function p(F,de,se,me,ie,oe,he){try{var H=F[oe](he),$=H.value}catch(Q){return void se(Q)}H.done?de($):Promise.resolve($).then(me,ie)}function J(F){return function(){var de=this,se=arguments;return new Promise(function(me,ie){var oe=F.apply(de,se);function he($){p(oe,me,ie,he,H,"next",$)}function H($){p(oe,me,ie,he,H,"throw",$)}he(void 0)})}}k.d(we,{Z:()=>J})}},Ze=>{Ze(Ze.s=4648)}]);